(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function zC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rT={exports:{}},bd={},iT={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kl=Symbol.for("react.element"),$C=Symbol.for("react.portal"),WC=Symbol.for("react.fragment"),HC=Symbol.for("react.strict_mode"),KC=Symbol.for("react.profiler"),GC=Symbol.for("react.provider"),qC=Symbol.for("react.context"),QC=Symbol.for("react.forward_ref"),YC=Symbol.for("react.suspense"),XC=Symbol.for("react.memo"),JC=Symbol.for("react.lazy"),C0=Symbol.iterator;function ZC(t){return t===null||typeof t!="object"?null:(t=C0&&t[C0]||t["@@iterator"],typeof t=="function"?t:null)}var sT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oT=Object.assign,aT={};function Eo(t,e,n){this.props=t,this.context=e,this.refs=aT,this.updater=n||sT}Eo.prototype.isReactComponent={};Eo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Eo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lT(){}lT.prototype=Eo.prototype;function Hm(t,e,n){this.props=t,this.context=e,this.refs=aT,this.updater=n||sT}var Km=Hm.prototype=new lT;Km.constructor=Hm;oT(Km,Eo.prototype);Km.isPureReactComponent=!0;var A0=Array.isArray,uT=Object.prototype.hasOwnProperty,Gm={current:null},cT={key:!0,ref:!0,__self:!0,__source:!0};function dT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)uT.call(e,r)&&!cT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:kl,type:t,key:s,ref:o,props:i,_owner:Gm.current}}function eA(t,e){return{$$typeof:kl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qm(t){return typeof t=="object"&&t!==null&&t.$$typeof===kl}function tA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var R0=/\/+/g;function Uh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tA(""+t.key):e.toString(36)}function Wu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case kl:case $C:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Uh(o,0):r,A0(i)?(n="",t!=null&&(n=t.replace(R0,"$&/")+"/"),Wu(i,e,n,"",function(c){return c})):i!=null&&(qm(i)&&(i=eA(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(R0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",A0(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Uh(s,a);o+=Wu(s,e,n,l,i)}else if(l=ZC(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Uh(s,a++),o+=Wu(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function fu(t,e,n){if(t==null)return t;var r=[],i=0;return Wu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function nA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Rt={current:null},Hu={transition:null},rA={ReactCurrentDispatcher:Rt,ReactCurrentBatchConfig:Hu,ReactCurrentOwner:Gm};function hT(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:fu,forEach:function(t,e,n){fu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return fu(t,function(){e++}),e},toArray:function(t){return fu(t,function(e){return e})||[]},only:function(t){if(!qm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Component=Eo;ne.Fragment=WC;ne.Profiler=KC;ne.PureComponent=Hm;ne.StrictMode=HC;ne.Suspense=YC;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rA;ne.act=hT;ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=oT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Gm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)uT.call(e,l)&&!cT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:kl,type:t.type,key:i,ref:s,props:r,_owner:o}};ne.createContext=function(t){return t={$$typeof:qC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:GC,_context:t},t.Consumer=t};ne.createElement=dT;ne.createFactory=function(t){var e=dT.bind(null,t);return e.type=t,e};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:QC,render:t}};ne.isValidElement=qm;ne.lazy=function(t){return{$$typeof:JC,_payload:{_status:-1,_result:t},_init:nA}};ne.memo=function(t,e){return{$$typeof:XC,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=Hu.transition;Hu.transition={};try{t()}finally{Hu.transition=e}};ne.unstable_act=hT;ne.useCallback=function(t,e){return Rt.current.useCallback(t,e)};ne.useContext=function(t){return Rt.current.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t){return Rt.current.useDeferredValue(t)};ne.useEffect=function(t,e){return Rt.current.useEffect(t,e)};ne.useId=function(){return Rt.current.useId()};ne.useImperativeHandle=function(t,e,n){return Rt.current.useImperativeHandle(t,e,n)};ne.useInsertionEffect=function(t,e){return Rt.current.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return Rt.current.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return Rt.current.useMemo(t,e)};ne.useReducer=function(t,e,n){return Rt.current.useReducer(t,e,n)};ne.useRef=function(t){return Rt.current.useRef(t)};ne.useState=function(t){return Rt.current.useState(t)};ne.useSyncExternalStore=function(t,e,n){return Rt.current.useSyncExternalStore(t,e,n)};ne.useTransition=function(){return Rt.current.useTransition()};ne.version="18.3.1";iT.exports=ne;var C=iT.exports;const Qm=zC(C);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iA=C,sA=Symbol.for("react.element"),oA=Symbol.for("react.fragment"),aA=Object.prototype.hasOwnProperty,lA=iA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uA={key:!0,ref:!0,__self:!0,__source:!0};function fT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)aA.call(e,r)&&!uA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:sA,type:t,key:s,ref:o,props:i,_owner:lA.current}}bd.Fragment=oA;bd.jsx=fT;bd.jsxs=fT;rT.exports=bd;var p=rT.exports,qf={},pT={exports:{}},Jt={},mT={exports:{}},gT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,H){var Y=F.length;F.push(H);e:for(;0<Y;){var we=Y-1>>>1,he=F[we];if(0<i(he,H))F[we]=H,F[Y]=he,Y=we;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var H=F[0],Y=F.pop();if(Y!==H){F[0]=Y;e:for(var we=0,he=F.length,be=he>>>1;we<be;){var Dt=2*(we+1)-1,Mt=F[Dt],zt=Dt+1,Vt=F[zt];if(0>i(Mt,Y))zt<he&&0>i(Vt,Mt)?(F[we]=Vt,F[zt]=Y,we=zt):(F[we]=Mt,F[Dt]=Y,we=Dt);else if(zt<he&&0>i(Vt,Y))F[we]=Vt,F[zt]=Y,we=zt;else break e}}return H}function i(F,H){var Y=F.sortIndex-H.sortIndex;return Y!==0?Y:F.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,m=3,y=!1,x=!1,S=!1,I=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(F){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=F)r(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(c)}}function N(F){if(S=!1,E(F),!x)if(n(l)!==null)x=!0,le(O);else{var H=n(c);H!==null&&pe(N,H.startTime-F)}}function O(F,H){x=!1,S&&(S=!1,v(w),w=-1),y=!0;var Y=m;try{for(E(H),h=n(l);h!==null&&(!(h.expirationTime>H)||F&&!R());){var we=h.callback;if(typeof we=="function"){h.callback=null,m=h.priorityLevel;var he=we(h.expirationTime<=H);H=t.unstable_now(),typeof he=="function"?h.callback=he:h===n(l)&&r(l),E(H)}else r(l);h=n(l)}if(h!==null)var be=!0;else{var Dt=n(c);Dt!==null&&pe(N,Dt.startTime-H),be=!1}return be}finally{h=null,m=Y,y=!1}}var M=!1,k=null,w=-1,b=5,P=-1;function R(){return!(t.unstable_now()-P<b)}function D(){if(k!==null){var F=t.unstable_now();P=F;var H=!0;try{H=k(!0,F)}finally{H?A():(M=!1,k=null)}}else M=!1}var A;if(typeof _=="function")A=function(){_(D)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,ut=Ee.port2;Ee.port1.onmessage=D,A=function(){ut.postMessage(null)}}else A=function(){I(D,0)};function le(F){k=F,M||(M=!0,A())}function pe(F,H){w=I(function(){F(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){x||y||(x=!0,le(O))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var Y=m;m=H;try{return F()}finally{m=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,H){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Y=m;m=F;try{return H()}finally{m=Y}},t.unstable_scheduleCallback=function(F,H,Y){var we=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?we+Y:we):Y=we,F){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=Y+he,F={id:d++,callback:H,priorityLevel:F,startTime:Y,expirationTime:he,sortIndex:-1},Y>we?(F.sortIndex=Y,e(c,F),n(l)===null&&F===n(c)&&(S?(v(w),w=-1):S=!0,pe(N,Y-we))):(F.sortIndex=he,e(l,F),x||y||(x=!0,le(O))),F},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(F){var H=m;return function(){var Y=m;m=H;try{return F.apply(this,arguments)}finally{m=Y}}}})(gT);mT.exports=gT;var cA=mT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dA=C,Qt=cA;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yT=new Set,Ba={};function as(t,e){to(t,e),to(t+"Capture",e)}function to(t,e){for(Ba[t]=e,t=0;t<e.length;t++)yT.add(e[t])}var ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qf=Object.prototype.hasOwnProperty,hA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,N0={},D0={};function fA(t){return Qf.call(D0,t)?!0:Qf.call(N0,t)?!1:hA.test(t)?D0[t]=!0:(N0[t]=!0,!1)}function pA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mA(t,e,n,r){if(e===null||typeof e>"u"||pA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Nt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var at={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){at[t]=new Nt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];at[e]=new Nt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){at[t]=new Nt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){at[t]=new Nt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){at[t]=new Nt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){at[t]=new Nt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){at[t]=new Nt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){at[t]=new Nt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){at[t]=new Nt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ym=/[\-:]([a-z])/g;function Xm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ym,Xm);at[e]=new Nt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ym,Xm);at[e]=new Nt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ym,Xm);at[e]=new Nt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){at[t]=new Nt(t,1,!1,t.toLowerCase(),null,!1,!1)});at.xlinkHref=new Nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){at[t]=new Nt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Jm(t,e,n,r){var i=at.hasOwnProperty(e)?at[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mA(e,n,i,r)&&(n=null),r||i===null?fA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var _r=dA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pu=Symbol.for("react.element"),Is=Symbol.for("react.portal"),Ps=Symbol.for("react.fragment"),Zm=Symbol.for("react.strict_mode"),Yf=Symbol.for("react.profiler"),vT=Symbol.for("react.provider"),wT=Symbol.for("react.context"),eg=Symbol.for("react.forward_ref"),Xf=Symbol.for("react.suspense"),Jf=Symbol.for("react.suspense_list"),tg=Symbol.for("react.memo"),Nr=Symbol.for("react.lazy"),_T=Symbol.for("react.offscreen"),M0=Symbol.iterator;function Xo(t){return t===null||typeof t!="object"?null:(t=M0&&t[M0]||t["@@iterator"],typeof t=="function"?t:null)}var Ne=Object.assign,Bh;function ua(t){if(Bh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Bh=e&&e[1]||""}return`
`+Bh+t}var zh=!1;function $h(t,e){if(!t||zh)return"";zh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{zh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ua(t):""}function gA(t){switch(t.tag){case 5:return ua(t.type);case 16:return ua("Lazy");case 13:return ua("Suspense");case 19:return ua("SuspenseList");case 0:case 2:case 15:return t=$h(t.type,!1),t;case 11:return t=$h(t.type.render,!1),t;case 1:return t=$h(t.type,!0),t;default:return""}}function Zf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ps:return"Fragment";case Is:return"Portal";case Yf:return"Profiler";case Zm:return"StrictMode";case Xf:return"Suspense";case Jf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wT:return(t.displayName||"Context")+".Consumer";case vT:return(t._context.displayName||"Context")+".Provider";case eg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tg:return e=t.displayName||null,e!==null?e:Zf(t.type)||"Memo";case Nr:e=t._payload,t=t._init;try{return Zf(t(e))}catch{}}return null}function yA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zf(e);case 8:return e===Zm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ri(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vA(t){var e=xT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function mu(t){t._valueTracker||(t._valueTracker=vA(t))}function ET(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=xT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ep(t,e){var n=e.checked;return Ne({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function V0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ri(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function TT(t,e){e=e.checked,e!=null&&Jm(t,"checked",e,!1)}function tp(t,e){TT(t,e);var n=ri(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?np(t,e.type,n):e.hasOwnProperty("defaultValue")&&np(t,e.type,ri(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function O0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function np(t,e,n){(e!=="number"||yc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ca=Array.isArray;function Hs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ri(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function rp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ne({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function L0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(ca(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ri(n)}}function ST(t,e){var n=ri(e.value),r=ri(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function j0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function kT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ip(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?kT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var gu,bT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(gu=gu||document.createElement("div"),gu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=gu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function za(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ea={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wA=["Webkit","ms","Moz","O"];Object.keys(Ea).forEach(function(t){wA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ea[e]=Ea[t]})});function IT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ea.hasOwnProperty(t)&&Ea[t]?(""+e).trim():e+"px"}function PT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=IT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var _A=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sp(t,e){if(e){if(_A[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function op(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ap=null;function ng(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lp=null,Ks=null,Gs=null;function F0(t){if(t=Pl(t)){if(typeof lp!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Rd(e),lp(t.stateNode,t.type,e))}}function CT(t){Ks?Gs?Gs.push(t):Gs=[t]:Ks=t}function AT(){if(Ks){var t=Ks,e=Gs;if(Gs=Ks=null,F0(t),e)for(t=0;t<e.length;t++)F0(e[t])}}function RT(t,e){return t(e)}function NT(){}var Wh=!1;function DT(t,e,n){if(Wh)return t(e,n);Wh=!0;try{return RT(t,e,n)}finally{Wh=!1,(Ks!==null||Gs!==null)&&(NT(),AT())}}function $a(t,e){var n=t.stateNode;if(n===null)return null;var r=Rd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var up=!1;if(ur)try{var Jo={};Object.defineProperty(Jo,"passive",{get:function(){up=!0}}),window.addEventListener("test",Jo,Jo),window.removeEventListener("test",Jo,Jo)}catch{up=!1}function xA(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Ta=!1,vc=null,wc=!1,cp=null,EA={onError:function(t){Ta=!0,vc=t}};function TA(t,e,n,r,i,s,o,a,l){Ta=!1,vc=null,xA.apply(EA,arguments)}function SA(t,e,n,r,i,s,o,a,l){if(TA.apply(this,arguments),Ta){if(Ta){var c=vc;Ta=!1,vc=null}else throw Error(B(198));wc||(wc=!0,cp=c)}}function ls(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function MT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function U0(t){if(ls(t)!==t)throw Error(B(188))}function kA(t){var e=t.alternate;if(!e){if(e=ls(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return U0(i),t;if(s===r)return U0(i),e;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function VT(t){return t=kA(t),t!==null?OT(t):null}function OT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=OT(t);if(e!==null)return e;t=t.sibling}return null}var LT=Qt.unstable_scheduleCallback,B0=Qt.unstable_cancelCallback,bA=Qt.unstable_shouldYield,IA=Qt.unstable_requestPaint,Ue=Qt.unstable_now,PA=Qt.unstable_getCurrentPriorityLevel,rg=Qt.unstable_ImmediatePriority,jT=Qt.unstable_UserBlockingPriority,_c=Qt.unstable_NormalPriority,CA=Qt.unstable_LowPriority,FT=Qt.unstable_IdlePriority,Id=null,On=null;function AA(t){if(On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(Id,t,void 0,(t.current.flags&128)===128)}catch{}}var kn=Math.clz32?Math.clz32:DA,RA=Math.log,NA=Math.LN2;function DA(t){return t>>>=0,t===0?32:31-(RA(t)/NA|0)|0}var yu=64,vu=4194304;function da(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=da(a):(s&=o,s!==0&&(r=da(s)))}else o=n&~i,o!==0?r=da(o):s!==0&&(r=da(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-kn(e),i=1<<n,r|=t[n],e&=~i;return r}function MA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-kn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=MA(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function dp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function UT(){var t=yu;return yu<<=1,!(yu&4194240)&&(yu=64),t}function Hh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function bl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-kn(e),t[e]=n}function OA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-kn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function ig(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-kn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ge=0;function BT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zT,sg,$T,WT,HT,hp=!1,wu=[],Wr=null,Hr=null,Kr=null,Wa=new Map,Ha=new Map,Mr=[],LA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function z0(t,e){switch(t){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Wa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ha.delete(e.pointerId)}}function Zo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Pl(e),e!==null&&sg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function jA(t,e,n,r,i){switch(e){case"focusin":return Wr=Zo(Wr,t,e,n,r,i),!0;case"dragenter":return Hr=Zo(Hr,t,e,n,r,i),!0;case"mouseover":return Kr=Zo(Kr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Wa.set(s,Zo(Wa.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ha.set(s,Zo(Ha.get(s)||null,t,e,n,r,i)),!0}return!1}function KT(t){var e=Li(t.target);if(e!==null){var n=ls(e);if(n!==null){if(e=n.tag,e===13){if(e=MT(n),e!==null){t.blockedOn=e,HT(t.priority,function(){$T(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ku(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=fp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ap=r,n.target.dispatchEvent(r),ap=null}else return e=Pl(n),e!==null&&sg(e),t.blockedOn=n,!1;e.shift()}return!0}function $0(t,e,n){Ku(t)&&n.delete(e)}function FA(){hp=!1,Wr!==null&&Ku(Wr)&&(Wr=null),Hr!==null&&Ku(Hr)&&(Hr=null),Kr!==null&&Ku(Kr)&&(Kr=null),Wa.forEach($0),Ha.forEach($0)}function ea(t,e){t.blockedOn===e&&(t.blockedOn=null,hp||(hp=!0,Qt.unstable_scheduleCallback(Qt.unstable_NormalPriority,FA)))}function Ka(t){function e(i){return ea(i,t)}if(0<wu.length){ea(wu[0],t);for(var n=1;n<wu.length;n++){var r=wu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Wr!==null&&ea(Wr,t),Hr!==null&&ea(Hr,t),Kr!==null&&ea(Kr,t),Wa.forEach(e),Ha.forEach(e),n=0;n<Mr.length;n++)r=Mr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Mr.length&&(n=Mr[0],n.blockedOn===null);)KT(n),n.blockedOn===null&&Mr.shift()}var qs=_r.ReactCurrentBatchConfig,Ec=!0;function UA(t,e,n,r){var i=ge,s=qs.transition;qs.transition=null;try{ge=1,og(t,e,n,r)}finally{ge=i,qs.transition=s}}function BA(t,e,n,r){var i=ge,s=qs.transition;qs.transition=null;try{ge=4,og(t,e,n,r)}finally{ge=i,qs.transition=s}}function og(t,e,n,r){if(Ec){var i=fp(t,e,n,r);if(i===null)tf(t,e,r,Tc,n),z0(t,r);else if(jA(i,t,e,n,r))r.stopPropagation();else if(z0(t,r),e&4&&-1<LA.indexOf(t)){for(;i!==null;){var s=Pl(i);if(s!==null&&zT(s),s=fp(t,e,n,r),s===null&&tf(t,e,r,Tc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else tf(t,e,r,null,n)}}var Tc=null;function fp(t,e,n,r){if(Tc=null,t=ng(r),t=Li(t),t!==null)if(e=ls(t),e===null)t=null;else if(n=e.tag,n===13){if(t=MT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Tc=t,null}function GT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(PA()){case rg:return 1;case jT:return 4;case _c:case CA:return 16;case FT:return 536870912;default:return 16}default:return 16}}var Ur=null,ag=null,Gu=null;function qT(){if(Gu)return Gu;var t,e=ag,n=e.length,r,i="value"in Ur?Ur.value:Ur.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Gu=i.slice(t,1<r?1-r:void 0)}function qu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _u(){return!0}function W0(){return!1}function Zt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?_u:W0,this.isPropagationStopped=W0,this}return Ne(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_u)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_u)},persist:function(){},isPersistent:_u}),e}var To={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lg=Zt(To),Il=Ne({},To,{view:0,detail:0}),zA=Zt(Il),Kh,Gh,ta,Pd=Ne({},Il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ug,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ta&&(ta&&t.type==="mousemove"?(Kh=t.screenX-ta.screenX,Gh=t.screenY-ta.screenY):Gh=Kh=0,ta=t),Kh)},movementY:function(t){return"movementY"in t?t.movementY:Gh}}),H0=Zt(Pd),$A=Ne({},Pd,{dataTransfer:0}),WA=Zt($A),HA=Ne({},Il,{relatedTarget:0}),qh=Zt(HA),KA=Ne({},To,{animationName:0,elapsedTime:0,pseudoElement:0}),GA=Zt(KA),qA=Ne({},To,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),QA=Zt(qA),YA=Ne({},To,{data:0}),K0=Zt(YA),XA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ZA[t])?!!e[t]:!1}function ug(){return eR}var tR=Ne({},Il,{key:function(t){if(t.key){var e=XA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?JA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ug,charCode:function(t){return t.type==="keypress"?qu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nR=Zt(tR),rR=Ne({},Pd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),G0=Zt(rR),iR=Ne({},Il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ug}),sR=Zt(iR),oR=Ne({},To,{propertyName:0,elapsedTime:0,pseudoElement:0}),aR=Zt(oR),lR=Ne({},Pd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uR=Zt(lR),cR=[9,13,27,32],cg=ur&&"CompositionEvent"in window,Sa=null;ur&&"documentMode"in document&&(Sa=document.documentMode);var dR=ur&&"TextEvent"in window&&!Sa,QT=ur&&(!cg||Sa&&8<Sa&&11>=Sa),q0=" ",Q0=!1;function YT(t,e){switch(t){case"keyup":return cR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function XT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Cs=!1;function hR(t,e){switch(t){case"compositionend":return XT(e);case"keypress":return e.which!==32?null:(Q0=!0,q0);case"textInput":return t=e.data,t===q0&&Q0?null:t;default:return null}}function fR(t,e){if(Cs)return t==="compositionend"||!cg&&YT(t,e)?(t=qT(),Gu=ag=Ur=null,Cs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return QT&&e.locale!=="ko"?null:e.data;default:return null}}var pR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Y0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pR[t.type]:e==="textarea"}function JT(t,e,n,r){CT(r),e=Sc(e,"onChange"),0<e.length&&(n=new lg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ka=null,Ga=null;function mR(t){uS(t,0)}function Cd(t){var e=Ns(t);if(ET(e))return t}function gR(t,e){if(t==="change")return e}var ZT=!1;if(ur){var Qh;if(ur){var Yh="oninput"in document;if(!Yh){var X0=document.createElement("div");X0.setAttribute("oninput","return;"),Yh=typeof X0.oninput=="function"}Qh=Yh}else Qh=!1;ZT=Qh&&(!document.documentMode||9<document.documentMode)}function J0(){ka&&(ka.detachEvent("onpropertychange",eS),Ga=ka=null)}function eS(t){if(t.propertyName==="value"&&Cd(Ga)){var e=[];JT(e,Ga,t,ng(t)),DT(mR,e)}}function yR(t,e,n){t==="focusin"?(J0(),ka=e,Ga=n,ka.attachEvent("onpropertychange",eS)):t==="focusout"&&J0()}function vR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cd(Ga)}function wR(t,e){if(t==="click")return Cd(e)}function _R(t,e){if(t==="input"||t==="change")return Cd(e)}function xR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pn=typeof Object.is=="function"?Object.is:xR;function qa(t,e){if(Pn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Qf.call(e,i)||!Pn(t[i],e[i]))return!1}return!0}function Z0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ew(t,e){var n=Z0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Z0(n)}}function tS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?tS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function nS(){for(var t=window,e=yc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yc(t.document)}return e}function dg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ER(t){var e=nS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&tS(n.ownerDocument.documentElement,n)){if(r!==null&&dg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=ew(n,s);var o=ew(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var TR=ur&&"documentMode"in document&&11>=document.documentMode,As=null,pp=null,ba=null,mp=!1;function tw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mp||As==null||As!==yc(r)||(r=As,"selectionStart"in r&&dg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ba&&qa(ba,r)||(ba=r,r=Sc(pp,"onSelect"),0<r.length&&(e=new lg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=As)))}function xu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Rs={animationend:xu("Animation","AnimationEnd"),animationiteration:xu("Animation","AnimationIteration"),animationstart:xu("Animation","AnimationStart"),transitionend:xu("Transition","TransitionEnd")},Xh={},rS={};ur&&(rS=document.createElement("div").style,"AnimationEvent"in window||(delete Rs.animationend.animation,delete Rs.animationiteration.animation,delete Rs.animationstart.animation),"TransitionEvent"in window||delete Rs.transitionend.transition);function Ad(t){if(Xh[t])return Xh[t];if(!Rs[t])return t;var e=Rs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in rS)return Xh[t]=e[n];return t}var iS=Ad("animationend"),sS=Ad("animationiteration"),oS=Ad("animationstart"),aS=Ad("transitionend"),lS=new Map,nw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gi(t,e){lS.set(t,e),as(e,[t])}for(var Jh=0;Jh<nw.length;Jh++){var Zh=nw[Jh],SR=Zh.toLowerCase(),kR=Zh[0].toUpperCase()+Zh.slice(1);gi(SR,"on"+kR)}gi(iS,"onAnimationEnd");gi(sS,"onAnimationIteration");gi(oS,"onAnimationStart");gi("dblclick","onDoubleClick");gi("focusin","onFocus");gi("focusout","onBlur");gi(aS,"onTransitionEnd");to("onMouseEnter",["mouseout","mouseover"]);to("onMouseLeave",["mouseout","mouseover"]);to("onPointerEnter",["pointerout","pointerover"]);to("onPointerLeave",["pointerout","pointerover"]);as("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));as("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));as("onBeforeInput",["compositionend","keypress","textInput","paste"]);as("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));as("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));as("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bR=new Set("cancel close invalid load scroll toggle".split(" ").concat(ha));function rw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,SA(r,e,void 0,t),t.currentTarget=null}function uS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;rw(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;rw(i,a,c),s=l}}}if(wc)throw t=cp,wc=!1,cp=null,t}function Se(t,e){var n=e[_p];n===void 0&&(n=e[_p]=new Set);var r=t+"__bubble";n.has(r)||(cS(e,t,2,!1),n.add(r))}function ef(t,e,n){var r=0;e&&(r|=4),cS(n,t,r,e)}var Eu="_reactListening"+Math.random().toString(36).slice(2);function Qa(t){if(!t[Eu]){t[Eu]=!0,yT.forEach(function(n){n!=="selectionchange"&&(bR.has(n)||ef(n,!1,t),ef(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Eu]||(e[Eu]=!0,ef("selectionchange",!1,e))}}function cS(t,e,n,r){switch(GT(e)){case 1:var i=UA;break;case 4:i=BA;break;default:i=og}n=i.bind(null,e,n,t),i=void 0,!up||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function tf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Li(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}DT(function(){var c=s,d=ng(n),h=[];e:{var m=lS.get(t);if(m!==void 0){var y=lg,x=t;switch(t){case"keypress":if(qu(n)===0)break e;case"keydown":case"keyup":y=nR;break;case"focusin":x="focus",y=qh;break;case"focusout":x="blur",y=qh;break;case"beforeblur":case"afterblur":y=qh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=H0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=WA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=sR;break;case iS:case sS:case oS:y=GA;break;case aS:y=aR;break;case"scroll":y=zA;break;case"wheel":y=uR;break;case"copy":case"cut":case"paste":y=QA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=G0}var S=(e&4)!==0,I=!S&&t==="scroll",v=S?m!==null?m+"Capture":null:m;S=[];for(var _=c,E;_!==null;){E=_;var N=E.stateNode;if(E.tag===5&&N!==null&&(E=N,v!==null&&(N=$a(_,v),N!=null&&S.push(Ya(_,N,E)))),I)break;_=_.return}0<S.length&&(m=new y(m,x,null,n,d),h.push({event:m,listeners:S}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==ap&&(x=n.relatedTarget||n.fromElement)&&(Li(x)||x[cr]))break e;if((y||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,y?(x=n.relatedTarget||n.toElement,y=c,x=x?Li(x):null,x!==null&&(I=ls(x),x!==I||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=c),y!==x)){if(S=H0,N="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(S=G0,N="onPointerLeave",v="onPointerEnter",_="pointer"),I=y==null?m:Ns(y),E=x==null?m:Ns(x),m=new S(N,_+"leave",y,n,d),m.target=I,m.relatedTarget=E,N=null,Li(d)===c&&(S=new S(v,_+"enter",x,n,d),S.target=E,S.relatedTarget=I,N=S),I=N,y&&x)t:{for(S=y,v=x,_=0,E=S;E;E=_s(E))_++;for(E=0,N=v;N;N=_s(N))E++;for(;0<_-E;)S=_s(S),_--;for(;0<E-_;)v=_s(v),E--;for(;_--;){if(S===v||v!==null&&S===v.alternate)break t;S=_s(S),v=_s(v)}S=null}else S=null;y!==null&&iw(h,m,y,S,!1),x!==null&&I!==null&&iw(h,I,x,S,!0)}}e:{if(m=c?Ns(c):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var O=gR;else if(Y0(m))if(ZT)O=_R;else{O=vR;var M=yR}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(O=wR);if(O&&(O=O(t,c))){JT(h,O,n,d);break e}M&&M(t,m,c),t==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&np(m,"number",m.value)}switch(M=c?Ns(c):window,t){case"focusin":(Y0(M)||M.contentEditable==="true")&&(As=M,pp=c,ba=null);break;case"focusout":ba=pp=As=null;break;case"mousedown":mp=!0;break;case"contextmenu":case"mouseup":case"dragend":mp=!1,tw(h,n,d);break;case"selectionchange":if(TR)break;case"keydown":case"keyup":tw(h,n,d)}var k;if(cg)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Cs?YT(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(QT&&n.locale!=="ko"&&(Cs||w!=="onCompositionStart"?w==="onCompositionEnd"&&Cs&&(k=qT()):(Ur=d,ag="value"in Ur?Ur.value:Ur.textContent,Cs=!0)),M=Sc(c,w),0<M.length&&(w=new K0(w,t,null,n,d),h.push({event:w,listeners:M}),k?w.data=k:(k=XT(n),k!==null&&(w.data=k)))),(k=dR?hR(t,n):fR(t,n))&&(c=Sc(c,"onBeforeInput"),0<c.length&&(d=new K0("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=k))}uS(h,e)})}function Ya(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=$a(t,n),s!=null&&r.unshift(Ya(t,s,i)),s=$a(t,e),s!=null&&r.push(Ya(t,s,i))),t=t.return}return r}function _s(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function iw(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=$a(n,s),l!=null&&o.unshift(Ya(n,l,a))):i||(l=$a(n,s),l!=null&&o.push(Ya(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var IR=/\r\n?/g,PR=/\u0000|\uFFFD/g;function sw(t){return(typeof t=="string"?t:""+t).replace(IR,`
`).replace(PR,"")}function Tu(t,e,n){if(e=sw(e),sw(t)!==e&&n)throw Error(B(425))}function kc(){}var gp=null,yp=null;function vp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wp=typeof setTimeout=="function"?setTimeout:void 0,CR=typeof clearTimeout=="function"?clearTimeout:void 0,ow=typeof Promise=="function"?Promise:void 0,AR=typeof queueMicrotask=="function"?queueMicrotask:typeof ow<"u"?function(t){return ow.resolve(null).then(t).catch(RR)}:wp;function RR(t){setTimeout(function(){throw t})}function nf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ka(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ka(e)}function Gr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function aw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var So=Math.random().toString(36).slice(2),Vn="__reactFiber$"+So,Xa="__reactProps$"+So,cr="__reactContainer$"+So,_p="__reactEvents$"+So,NR="__reactListeners$"+So,DR="__reactHandles$"+So;function Li(t){var e=t[Vn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[cr]||n[Vn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=aw(t);t!==null;){if(n=t[Vn])return n;t=aw(t)}return e}t=n,n=t.parentNode}return null}function Pl(t){return t=t[Vn]||t[cr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ns(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Rd(t){return t[Xa]||null}var xp=[],Ds=-1;function yi(t){return{current:t}}function ke(t){0>Ds||(t.current=xp[Ds],xp[Ds]=null,Ds--)}function _e(t,e){Ds++,xp[Ds]=t.current,t.current=e}var ii={},xt=yi(ii),Ft=yi(!1),qi=ii;function no(t,e){var n=t.type.contextTypes;if(!n)return ii;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ut(t){return t=t.childContextTypes,t!=null}function bc(){ke(Ft),ke(xt)}function lw(t,e,n){if(xt.current!==ii)throw Error(B(168));_e(xt,e),_e(Ft,n)}function dS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,yA(t)||"Unknown",i));return Ne({},n,r)}function Ic(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ii,qi=xt.current,_e(xt,t),_e(Ft,Ft.current),!0}function uw(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=dS(t,e,qi),r.__reactInternalMemoizedMergedChildContext=t,ke(Ft),ke(xt),_e(xt,t)):ke(Ft),_e(Ft,n)}var Qn=null,Nd=!1,rf=!1;function hS(t){Qn===null?Qn=[t]:Qn.push(t)}function MR(t){Nd=!0,hS(t)}function vi(){if(!rf&&Qn!==null){rf=!0;var t=0,e=ge;try{var n=Qn;for(ge=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qn=null,Nd=!1}catch(i){throw Qn!==null&&(Qn=Qn.slice(t+1)),LT(rg,vi),i}finally{ge=e,rf=!1}}return null}var Ms=[],Vs=0,Pc=null,Cc=0,rn=[],sn=0,Qi=null,Xn=1,Jn="";function Ri(t,e){Ms[Vs++]=Cc,Ms[Vs++]=Pc,Pc=t,Cc=e}function fS(t,e,n){rn[sn++]=Xn,rn[sn++]=Jn,rn[sn++]=Qi,Qi=t;var r=Xn;t=Jn;var i=32-kn(r)-1;r&=~(1<<i),n+=1;var s=32-kn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xn=1<<32-kn(e)+i|n<<i|r,Jn=s+t}else Xn=1<<s|n<<i|r,Jn=t}function hg(t){t.return!==null&&(Ri(t,1),fS(t,1,0))}function fg(t){for(;t===Pc;)Pc=Ms[--Vs],Ms[Vs]=null,Cc=Ms[--Vs],Ms[Vs]=null;for(;t===Qi;)Qi=rn[--sn],rn[sn]=null,Jn=rn[--sn],rn[sn]=null,Xn=rn[--sn],rn[sn]=null}var Gt=null,Kt=null,Ie=!1,En=null;function pS(t,e){var n=an(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function cw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gt=t,Kt=Gr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gt=t,Kt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Qi!==null?{id:Xn,overflow:Jn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=an(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Gt=t,Kt=null,!0):!1;default:return!1}}function Ep(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Tp(t){if(Ie){var e=Kt;if(e){var n=e;if(!cw(t,e)){if(Ep(t))throw Error(B(418));e=Gr(n.nextSibling);var r=Gt;e&&cw(t,e)?pS(r,n):(t.flags=t.flags&-4097|2,Ie=!1,Gt=t)}}else{if(Ep(t))throw Error(B(418));t.flags=t.flags&-4097|2,Ie=!1,Gt=t}}}function dw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gt=t}function Su(t){if(t!==Gt)return!1;if(!Ie)return dw(t),Ie=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!vp(t.type,t.memoizedProps)),e&&(e=Kt)){if(Ep(t))throw mS(),Error(B(418));for(;e;)pS(t,e),e=Gr(e.nextSibling)}if(dw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Kt=Gr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Kt=null}}else Kt=Gt?Gr(t.stateNode.nextSibling):null;return!0}function mS(){for(var t=Kt;t;)t=Gr(t.nextSibling)}function ro(){Kt=Gt=null,Ie=!1}function pg(t){En===null?En=[t]:En.push(t)}var VR=_r.ReactCurrentBatchConfig;function na(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function ku(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function hw(t){var e=t._init;return e(t._payload)}function gS(t){function e(v,_){if(t){var E=v.deletions;E===null?(v.deletions=[_],v.flags|=16):E.push(_)}}function n(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function r(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function i(v,_){return v=Xr(v,_),v.index=0,v.sibling=null,v}function s(v,_,E){return v.index=E,t?(E=v.alternate,E!==null?(E=E.index,E<_?(v.flags|=2,_):E):(v.flags|=2,_)):(v.flags|=1048576,_)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,_,E,N){return _===null||_.tag!==6?(_=df(E,v.mode,N),_.return=v,_):(_=i(_,E),_.return=v,_)}function l(v,_,E,N){var O=E.type;return O===Ps?d(v,_,E.props.children,N,E.key):_!==null&&(_.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Nr&&hw(O)===_.type)?(N=i(_,E.props),N.ref=na(v,_,E),N.return=v,N):(N=tc(E.type,E.key,E.props,null,v.mode,N),N.ref=na(v,_,E),N.return=v,N)}function c(v,_,E,N){return _===null||_.tag!==4||_.stateNode.containerInfo!==E.containerInfo||_.stateNode.implementation!==E.implementation?(_=hf(E,v.mode,N),_.return=v,_):(_=i(_,E.children||[]),_.return=v,_)}function d(v,_,E,N,O){return _===null||_.tag!==7?(_=Hi(E,v.mode,N,O),_.return=v,_):(_=i(_,E),_.return=v,_)}function h(v,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return _=df(""+_,v.mode,E),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case pu:return E=tc(_.type,_.key,_.props,null,v.mode,E),E.ref=na(v,null,_),E.return=v,E;case Is:return _=hf(_,v.mode,E),_.return=v,_;case Nr:var N=_._init;return h(v,N(_._payload),E)}if(ca(_)||Xo(_))return _=Hi(_,v.mode,E,null),_.return=v,_;ku(v,_)}return null}function m(v,_,E,N){var O=_!==null?_.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return O!==null?null:a(v,_,""+E,N);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case pu:return E.key===O?l(v,_,E,N):null;case Is:return E.key===O?c(v,_,E,N):null;case Nr:return O=E._init,m(v,_,O(E._payload),N)}if(ca(E)||Xo(E))return O!==null?null:d(v,_,E,N,null);ku(v,E)}return null}function y(v,_,E,N,O){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(E)||null,a(_,v,""+N,O);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case pu:return v=v.get(N.key===null?E:N.key)||null,l(_,v,N,O);case Is:return v=v.get(N.key===null?E:N.key)||null,c(_,v,N,O);case Nr:var M=N._init;return y(v,_,E,M(N._payload),O)}if(ca(N)||Xo(N))return v=v.get(E)||null,d(_,v,N,O,null);ku(_,N)}return null}function x(v,_,E,N){for(var O=null,M=null,k=_,w=_=0,b=null;k!==null&&w<E.length;w++){k.index>w?(b=k,k=null):b=k.sibling;var P=m(v,k,E[w],N);if(P===null){k===null&&(k=b);break}t&&k&&P.alternate===null&&e(v,k),_=s(P,_,w),M===null?O=P:M.sibling=P,M=P,k=b}if(w===E.length)return n(v,k),Ie&&Ri(v,w),O;if(k===null){for(;w<E.length;w++)k=h(v,E[w],N),k!==null&&(_=s(k,_,w),M===null?O=k:M.sibling=k,M=k);return Ie&&Ri(v,w),O}for(k=r(v,k);w<E.length;w++)b=y(k,v,w,E[w],N),b!==null&&(t&&b.alternate!==null&&k.delete(b.key===null?w:b.key),_=s(b,_,w),M===null?O=b:M.sibling=b,M=b);return t&&k.forEach(function(R){return e(v,R)}),Ie&&Ri(v,w),O}function S(v,_,E,N){var O=Xo(E);if(typeof O!="function")throw Error(B(150));if(E=O.call(E),E==null)throw Error(B(151));for(var M=O=null,k=_,w=_=0,b=null,P=E.next();k!==null&&!P.done;w++,P=E.next()){k.index>w?(b=k,k=null):b=k.sibling;var R=m(v,k,P.value,N);if(R===null){k===null&&(k=b);break}t&&k&&R.alternate===null&&e(v,k),_=s(R,_,w),M===null?O=R:M.sibling=R,M=R,k=b}if(P.done)return n(v,k),Ie&&Ri(v,w),O;if(k===null){for(;!P.done;w++,P=E.next())P=h(v,P.value,N),P!==null&&(_=s(P,_,w),M===null?O=P:M.sibling=P,M=P);return Ie&&Ri(v,w),O}for(k=r(v,k);!P.done;w++,P=E.next())P=y(k,v,w,P.value,N),P!==null&&(t&&P.alternate!==null&&k.delete(P.key===null?w:P.key),_=s(P,_,w),M===null?O=P:M.sibling=P,M=P);return t&&k.forEach(function(D){return e(v,D)}),Ie&&Ri(v,w),O}function I(v,_,E,N){if(typeof E=="object"&&E!==null&&E.type===Ps&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case pu:e:{for(var O=E.key,M=_;M!==null;){if(M.key===O){if(O=E.type,O===Ps){if(M.tag===7){n(v,M.sibling),_=i(M,E.props.children),_.return=v,v=_;break e}}else if(M.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Nr&&hw(O)===M.type){n(v,M.sibling),_=i(M,E.props),_.ref=na(v,M,E),_.return=v,v=_;break e}n(v,M);break}else e(v,M);M=M.sibling}E.type===Ps?(_=Hi(E.props.children,v.mode,N,E.key),_.return=v,v=_):(N=tc(E.type,E.key,E.props,null,v.mode,N),N.ref=na(v,_,E),N.return=v,v=N)}return o(v);case Is:e:{for(M=E.key;_!==null;){if(_.key===M)if(_.tag===4&&_.stateNode.containerInfo===E.containerInfo&&_.stateNode.implementation===E.implementation){n(v,_.sibling),_=i(_,E.children||[]),_.return=v,v=_;break e}else{n(v,_);break}else e(v,_);_=_.sibling}_=hf(E,v.mode,N),_.return=v,v=_}return o(v);case Nr:return M=E._init,I(v,_,M(E._payload),N)}if(ca(E))return x(v,_,E,N);if(Xo(E))return S(v,_,E,N);ku(v,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,_!==null&&_.tag===6?(n(v,_.sibling),_=i(_,E),_.return=v,v=_):(n(v,_),_=df(E,v.mode,N),_.return=v,v=_),o(v)):n(v,_)}return I}var io=gS(!0),yS=gS(!1),Ac=yi(null),Rc=null,Os=null,mg=null;function gg(){mg=Os=Rc=null}function yg(t){var e=Ac.current;ke(Ac),t._currentValue=e}function Sp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Qs(t,e){Rc=t,mg=Os=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(jt=!0),t.firstContext=null)}function cn(t){var e=t._currentValue;if(mg!==t)if(t={context:t,memoizedValue:e,next:null},Os===null){if(Rc===null)throw Error(B(308));Os=t,Rc.dependencies={lanes:0,firstContext:t}}else Os=Os.next=t;return e}var ji=null;function vg(t){ji===null?ji=[t]:ji.push(t)}function vS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,vg(e)):(n.next=i.next,i.next=n),e.interleaved=n,dr(t,r)}function dr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Dr=!1;function wg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function nr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,dr(t,n)}return i=r.interleaved,i===null?(e.next=e,vg(r)):(e.next=i.next,i.next=e),r.interleaved=e,dr(t,n)}function Qu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ig(t,n)}}function fw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Nc(t,e,n,r){var i=t.updateQueue;Dr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=c=l=null,a=s;do{var m=a.lane,y=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,S=a;switch(m=e,y=n,S.tag){case 1:if(x=S.payload,typeof x=="function"){h=x.call(y,h,m);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=S.payload,m=typeof x=="function"?x.call(y,h,m):x,m==null)break e;h=Ne({},h,m);break e;case 2:Dr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else y={eventTime:y,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=y,l=h):d=d.next=y,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Xi|=o,t.lanes=o,t.memoizedState=h}}function pw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var Cl={},Ln=yi(Cl),Ja=yi(Cl),Za=yi(Cl);function Fi(t){if(t===Cl)throw Error(B(174));return t}function _g(t,e){switch(_e(Za,e),_e(Ja,t),_e(Ln,Cl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ip(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ip(e,t)}ke(Ln),_e(Ln,e)}function so(){ke(Ln),ke(Ja),ke(Za)}function _S(t){Fi(Za.current);var e=Fi(Ln.current),n=ip(e,t.type);e!==n&&(_e(Ja,t),_e(Ln,n))}function xg(t){Ja.current===t&&(ke(Ln),ke(Ja))}var Ce=yi(0);function Dc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var sf=[];function Eg(){for(var t=0;t<sf.length;t++)sf[t]._workInProgressVersionPrimary=null;sf.length=0}var Yu=_r.ReactCurrentDispatcher,of=_r.ReactCurrentBatchConfig,Yi=0,Re=null,He=null,Je=null,Mc=!1,Ia=!1,el=0,OR=0;function ft(){throw Error(B(321))}function Tg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Pn(t[n],e[n]))return!1;return!0}function Sg(t,e,n,r,i,s){if(Yi=s,Re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yu.current=t===null||t.memoizedState===null?UR:BR,t=n(r,i),Ia){s=0;do{if(Ia=!1,el=0,25<=s)throw Error(B(301));s+=1,Je=He=null,e.updateQueue=null,Yu.current=zR,t=n(r,i)}while(Ia)}if(Yu.current=Vc,e=He!==null&&He.next!==null,Yi=0,Je=He=Re=null,Mc=!1,e)throw Error(B(300));return t}function kg(){var t=el!==0;return el=0,t}function Dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Re.memoizedState=Je=t:Je=Je.next=t,Je}function dn(){if(He===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=He.next;var e=Je===null?Re.memoizedState:Je.next;if(e!==null)Je=e,He=t;else{if(t===null)throw Error(B(310));He=t,t={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Je===null?Re.memoizedState=Je=t:Je=Je.next=t}return Je}function tl(t,e){return typeof e=="function"?e(t):e}function af(t){var e=dn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=He,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((Yi&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Re.lanes|=d,Xi|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Pn(r,e.memoizedState)||(jt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Re.lanes|=s,Xi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function lf(t){var e=dn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Pn(s,e.memoizedState)||(jt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function xS(){}function ES(t,e){var n=Re,r=dn(),i=e(),s=!Pn(r.memoizedState,i);if(s&&(r.memoizedState=i,jt=!0),r=r.queue,bg(kS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Je!==null&&Je.memoizedState.tag&1){if(n.flags|=2048,nl(9,SS.bind(null,n,r,i,e),void 0,null),Ze===null)throw Error(B(349));Yi&30||TS(n,e,i)}return i}function TS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function SS(t,e,n,r){e.value=n,e.getSnapshot=r,bS(e)&&IS(t)}function kS(t,e,n){return n(function(){bS(e)&&IS(t)})}function bS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Pn(t,n)}catch{return!0}}function IS(t){var e=dr(t,1);e!==null&&bn(e,t,1,-1)}function mw(t){var e=Dn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:t},e.queue=t,t=t.dispatch=FR.bind(null,Re,t),[e.memoizedState,t]}function nl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function PS(){return dn().memoizedState}function Xu(t,e,n,r){var i=Dn();Re.flags|=t,i.memoizedState=nl(1|e,n,void 0,r===void 0?null:r)}function Dd(t,e,n,r){var i=dn();r=r===void 0?null:r;var s=void 0;if(He!==null){var o=He.memoizedState;if(s=o.destroy,r!==null&&Tg(r,o.deps)){i.memoizedState=nl(e,n,s,r);return}}Re.flags|=t,i.memoizedState=nl(1|e,n,s,r)}function gw(t,e){return Xu(8390656,8,t,e)}function bg(t,e){return Dd(2048,8,t,e)}function CS(t,e){return Dd(4,2,t,e)}function AS(t,e){return Dd(4,4,t,e)}function RS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function NS(t,e,n){return n=n!=null?n.concat([t]):null,Dd(4,4,RS.bind(null,e,t),n)}function Ig(){}function DS(t,e){var n=dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Tg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function MS(t,e){var n=dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Tg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function VS(t,e,n){return Yi&21?(Pn(n,e)||(n=UT(),Re.lanes|=n,Xi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,jt=!0),t.memoizedState=n)}function LR(t,e){var n=ge;ge=n!==0&&4>n?n:4,t(!0);var r=of.transition;of.transition={};try{t(!1),e()}finally{ge=n,of.transition=r}}function OS(){return dn().memoizedState}function jR(t,e,n){var r=Yr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},LS(t))jS(e,n);else if(n=vS(t,e,n,r),n!==null){var i=Ct();bn(n,t,r,i),FS(n,e,r)}}function FR(t,e,n){var r=Yr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(LS(t))jS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Pn(a,o)){var l=e.interleaved;l===null?(i.next=i,vg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=vS(t,e,i,r),n!==null&&(i=Ct(),bn(n,t,r,i),FS(n,e,r))}}function LS(t){var e=t.alternate;return t===Re||e!==null&&e===Re}function jS(t,e){Ia=Mc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function FS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ig(t,n)}}var Vc={readContext:cn,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useInsertionEffect:ft,useLayoutEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useMutableSource:ft,useSyncExternalStore:ft,useId:ft,unstable_isNewReconciler:!1},UR={readContext:cn,useCallback:function(t,e){return Dn().memoizedState=[t,e===void 0?null:e],t},useContext:cn,useEffect:gw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Xu(4194308,4,RS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xu(4,2,t,e)},useMemo:function(t,e){var n=Dn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Dn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=jR.bind(null,Re,t),[r.memoizedState,t]},useRef:function(t){var e=Dn();return t={current:t},e.memoizedState=t},useState:mw,useDebugValue:Ig,useDeferredValue:function(t){return Dn().memoizedState=t},useTransition:function(){var t=mw(!1),e=t[0];return t=LR.bind(null,t[1]),Dn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Re,i=Dn();if(Ie){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),Ze===null)throw Error(B(349));Yi&30||TS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,gw(kS.bind(null,r,s,t),[t]),r.flags|=2048,nl(9,SS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Dn(),e=Ze.identifierPrefix;if(Ie){var n=Jn,r=Xn;n=(r&~(1<<32-kn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=el++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=OR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},BR={readContext:cn,useCallback:DS,useContext:cn,useEffect:bg,useImperativeHandle:NS,useInsertionEffect:CS,useLayoutEffect:AS,useMemo:MS,useReducer:af,useRef:PS,useState:function(){return af(tl)},useDebugValue:Ig,useDeferredValue:function(t){var e=dn();return VS(e,He.memoizedState,t)},useTransition:function(){var t=af(tl)[0],e=dn().memoizedState;return[t,e]},useMutableSource:xS,useSyncExternalStore:ES,useId:OS,unstable_isNewReconciler:!1},zR={readContext:cn,useCallback:DS,useContext:cn,useEffect:bg,useImperativeHandle:NS,useInsertionEffect:CS,useLayoutEffect:AS,useMemo:MS,useReducer:lf,useRef:PS,useState:function(){return lf(tl)},useDebugValue:Ig,useDeferredValue:function(t){var e=dn();return He===null?e.memoizedState=t:VS(e,He.memoizedState,t)},useTransition:function(){var t=lf(tl)[0],e=dn().memoizedState;return[t,e]},useMutableSource:xS,useSyncExternalStore:ES,useId:OS,unstable_isNewReconciler:!1};function _n(t,e){if(t&&t.defaultProps){e=Ne({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function kp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ne({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Md={isMounted:function(t){return(t=t._reactInternals)?ls(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ct(),i=Yr(t),s=nr(r,i);s.payload=e,n!=null&&(s.callback=n),e=qr(t,s,i),e!==null&&(bn(e,t,i,r),Qu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ct(),i=Yr(t),s=nr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=qr(t,s,i),e!==null&&(bn(e,t,i,r),Qu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ct(),r=Yr(t),i=nr(n,r);i.tag=2,e!=null&&(i.callback=e),e=qr(t,i,r),e!==null&&(bn(e,t,r,n),Qu(e,t,r))}};function yw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!qa(n,r)||!qa(i,s):!0}function US(t,e,n){var r=!1,i=ii,s=e.contextType;return typeof s=="object"&&s!==null?s=cn(s):(i=Ut(e)?qi:xt.current,r=e.contextTypes,s=(r=r!=null)?no(t,i):ii),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Md,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function vw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Md.enqueueReplaceState(e,e.state,null)}function bp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},wg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=cn(s):(s=Ut(e)?qi:xt.current,i.context=no(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(kp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Md.enqueueReplaceState(i,i.state,null),Nc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function oo(t,e){try{var n="",r=e;do n+=gA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function uf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ip(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var $R=typeof WeakMap=="function"?WeakMap:Map;function BS(t,e,n){n=nr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Lc||(Lc=!0,Lp=r),Ip(t,e)},n}function zS(t,e,n){n=nr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ip(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ip(t,e),typeof r!="function"&&(Qr===null?Qr=new Set([this]):Qr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ww(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new $R;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=rN.bind(null,t,e,n),e.then(t,t))}function _w(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function xw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=nr(-1,1),e.tag=2,qr(n,e,1))),n.lanes|=1),t)}var WR=_r.ReactCurrentOwner,jt=!1;function bt(t,e,n,r){e.child=t===null?yS(e,null,n,r):io(e,t.child,n,r)}function Ew(t,e,n,r,i){n=n.render;var s=e.ref;return Qs(e,i),r=Sg(t,e,n,r,s,i),n=kg(),t!==null&&!jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,hr(t,e,i)):(Ie&&n&&hg(e),e.flags|=1,bt(t,e,r,i),e.child)}function Tw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Vg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,$S(t,e,s,r,i)):(t=tc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:qa,n(o,r)&&t.ref===e.ref)return hr(t,e,i)}return e.flags|=1,t=Xr(s,r),t.ref=e.ref,t.return=e,e.child=t}function $S(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(qa(s,r)&&t.ref===e.ref)if(jt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(jt=!0);else return e.lanes=t.lanes,hr(t,e,i)}return Pp(t,e,n,r,i)}function WS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(js,Wt),Wt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_e(js,Wt),Wt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,_e(js,Wt),Wt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,_e(js,Wt),Wt|=r;return bt(t,e,i,n),e.child}function HS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Pp(t,e,n,r,i){var s=Ut(n)?qi:xt.current;return s=no(e,s),Qs(e,i),n=Sg(t,e,n,r,s,i),r=kg(),t!==null&&!jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,hr(t,e,i)):(Ie&&r&&hg(e),e.flags|=1,bt(t,e,n,i),e.child)}function Sw(t,e,n,r,i){if(Ut(n)){var s=!0;Ic(e)}else s=!1;if(Qs(e,i),e.stateNode===null)Ju(t,e),US(e,n,r),bp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=cn(c):(c=Ut(n)?qi:xt.current,c=no(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&vw(e,o,r,c),Dr=!1;var m=e.memoizedState;o.state=m,Nc(e,r,o,i),l=e.memoizedState,a!==r||m!==l||Ft.current||Dr?(typeof d=="function"&&(kp(e,n,d,r),l=e.memoizedState),(a=Dr||yw(e,n,a,r,m,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,wS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:_n(e.type,a),o.props=c,h=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=cn(l):(l=Ut(n)?qi:xt.current,l=no(e,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||m!==l)&&vw(e,o,r,l),Dr=!1,m=e.memoizedState,o.state=m,Nc(e,r,o,i);var x=e.memoizedState;a!==h||m!==x||Ft.current||Dr?(typeof y=="function"&&(kp(e,n,y,r),x=e.memoizedState),(c=Dr||yw(e,n,c,r,m,x,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Cp(t,e,n,r,s,i)}function Cp(t,e,n,r,i,s){HS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&uw(e,n,!1),hr(t,e,s);r=e.stateNode,WR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=io(e,t.child,null,s),e.child=io(e,null,a,s)):bt(t,e,a,s),e.memoizedState=r.state,i&&uw(e,n,!0),e.child}function KS(t){var e=t.stateNode;e.pendingContext?lw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lw(t,e.context,!1),_g(t,e.containerInfo)}function kw(t,e,n,r,i){return ro(),pg(i),e.flags|=256,bt(t,e,n,r),e.child}var Ap={dehydrated:null,treeContext:null,retryLane:0};function Rp(t){return{baseLanes:t,cachePool:null,transitions:null}}function GS(t,e,n){var r=e.pendingProps,i=Ce.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),_e(Ce,i&1),t===null)return Tp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ld(o,r,0,null),t=Hi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Rp(n),e.memoizedState=Ap,t):Pg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return HR(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Xr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Xr(a,s):(s=Hi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Rp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Ap,r}return s=t.child,t=s.sibling,r=Xr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Pg(t,e){return e=Ld({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function bu(t,e,n,r){return r!==null&&pg(r),io(e,t.child,null,n),t=Pg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function HR(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=uf(Error(B(422))),bu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ld({mode:"visible",children:r.children},i,0,null),s=Hi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&io(e,t.child,null,o),e.child.memoizedState=Rp(o),e.memoizedState=Ap,s);if(!(e.mode&1))return bu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(B(419)),r=uf(s,r,void 0),bu(t,e,o,r)}if(a=(o&t.childLanes)!==0,jt||a){if(r=Ze,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,dr(t,i),bn(r,t,i,-1))}return Mg(),r=uf(Error(B(421))),bu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=iN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Kt=Gr(i.nextSibling),Gt=e,Ie=!0,En=null,t!==null&&(rn[sn++]=Xn,rn[sn++]=Jn,rn[sn++]=Qi,Xn=t.id,Jn=t.overflow,Qi=e),e=Pg(e,r.children),e.flags|=4096,e)}function bw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Sp(t.return,e,n)}function cf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(bt(t,e,r.children,n),r=Ce.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&bw(t,n,e);else if(t.tag===19)bw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(_e(Ce,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Dc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),cf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Dc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}cf(e,!0,n,null,s);break;case"together":cf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ju(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function hr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Xi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=Xr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function KR(t,e,n){switch(e.tag){case 3:KS(e),ro();break;case 5:_S(e);break;case 1:Ut(e.type)&&Ic(e);break;case 4:_g(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;_e(Ac,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(_e(Ce,Ce.current&1),e.flags|=128,null):n&e.child.childLanes?GS(t,e,n):(_e(Ce,Ce.current&1),t=hr(t,e,n),t!==null?t.sibling:null);_e(Ce,Ce.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return qS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_e(Ce,Ce.current),r)break;return null;case 22:case 23:return e.lanes=0,WS(t,e,n)}return hr(t,e,n)}var QS,Np,YS,XS;QS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Np=function(){};YS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Fi(Ln.current);var s=null;switch(n){case"input":i=ep(t,i),r=ep(t,r),s=[];break;case"select":i=Ne({},i,{value:void 0}),r=Ne({},r,{value:void 0}),s=[];break;case"textarea":i=rp(t,i),r=rp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=kc)}sp(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ba.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ba.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Se("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};XS=function(t,e,n,r){n!==r&&(e.flags|=4)};function ra(t,e){if(!Ie)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function GR(t,e,n){var r=e.pendingProps;switch(fg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(e),null;case 1:return Ut(e.type)&&bc(),pt(e),null;case 3:return r=e.stateNode,so(),ke(Ft),ke(xt),Eg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Su(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,En!==null&&(Up(En),En=null))),Np(t,e),pt(e),null;case 5:xg(e);var i=Fi(Za.current);if(n=e.type,t!==null&&e.stateNode!=null)YS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return pt(e),null}if(t=Fi(Ln.current),Su(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Vn]=e,r[Xa]=s,t=(e.mode&1)!==0,n){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(i=0;i<ha.length;i++)Se(ha[i],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":V0(r,s),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Se("invalid",r);break;case"textarea":L0(r,s),Se("invalid",r)}sp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Tu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Tu(r.textContent,a,t),i=["children",""+a]):Ba.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Se("scroll",r)}switch(n){case"input":mu(r),O0(r,s,!0);break;case"textarea":mu(r),j0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=kc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=kT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Vn]=e,t[Xa]=r,QS(t,e,!1,!1),e.stateNode=t;e:{switch(o=op(n,r),n){case"dialog":Se("cancel",t),Se("close",t),i=r;break;case"iframe":case"object":case"embed":Se("load",t),i=r;break;case"video":case"audio":for(i=0;i<ha.length;i++)Se(ha[i],t);i=r;break;case"source":Se("error",t),i=r;break;case"img":case"image":case"link":Se("error",t),Se("load",t),i=r;break;case"details":Se("toggle",t),i=r;break;case"input":V0(t,r),i=ep(t,r),Se("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ne({},r,{value:void 0}),Se("invalid",t);break;case"textarea":L0(t,r),i=rp(t,r),Se("invalid",t);break;default:i=r}sp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?PT(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&bT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&za(t,l):typeof l=="number"&&za(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ba.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Se("scroll",t):l!=null&&Jm(t,s,l,o))}switch(n){case"input":mu(t),O0(t,r,!1);break;case"textarea":mu(t),j0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ri(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Hs(t,!!r.multiple,s,!1):r.defaultValue!=null&&Hs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=kc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pt(e),null;case 6:if(t&&e.stateNode!=null)XS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=Fi(Za.current),Fi(Ln.current),Su(e)){if(r=e.stateNode,n=e.memoizedProps,r[Vn]=e,(s=r.nodeValue!==n)&&(t=Gt,t!==null))switch(t.tag){case 3:Tu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Tu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vn]=e,e.stateNode=r}return pt(e),null;case 13:if(ke(Ce),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ie&&Kt!==null&&e.mode&1&&!(e.flags&128))mS(),ro(),e.flags|=98560,s=!1;else if(s=Su(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[Vn]=e}else ro(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pt(e),s=!1}else En!==null&&(Up(En),En=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ce.current&1?Ge===0&&(Ge=3):Mg())),e.updateQueue!==null&&(e.flags|=4),pt(e),null);case 4:return so(),Np(t,e),t===null&&Qa(e.stateNode.containerInfo),pt(e),null;case 10:return yg(e.type._context),pt(e),null;case 17:return Ut(e.type)&&bc(),pt(e),null;case 19:if(ke(Ce),s=e.memoizedState,s===null)return pt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ra(s,!1);else{if(Ge!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Dc(t),o!==null){for(e.flags|=128,ra(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return _e(Ce,Ce.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ue()>ao&&(e.flags|=128,r=!0,ra(s,!1),e.lanes=4194304)}else{if(!r)if(t=Dc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ra(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ie)return pt(e),null}else 2*Ue()-s.renderingStartTime>ao&&n!==1073741824&&(e.flags|=128,r=!0,ra(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ue(),e.sibling=null,n=Ce.current,_e(Ce,r?n&1|2:n&1),e):(pt(e),null);case 22:case 23:return Dg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Wt&1073741824&&(pt(e),e.subtreeFlags&6&&(e.flags|=8192)):pt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function qR(t,e){switch(fg(e),e.tag){case 1:return Ut(e.type)&&bc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return so(),ke(Ft),ke(xt),Eg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xg(e),null;case 13:if(ke(Ce),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));ro()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ke(Ce),null;case 4:return so(),null;case 10:return yg(e.type._context),null;case 22:case 23:return Dg(),null;case 24:return null;default:return null}}var Iu=!1,vt=!1,QR=typeof WeakSet=="function"?WeakSet:Set,W=null;function Ls(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Oe(t,e,r)}else n.current=null}function Dp(t,e,n){try{n()}catch(r){Oe(t,e,r)}}var Iw=!1;function YR(t,e){if(gp=Ec,t=nS(),dg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,m=null;t:for(;;){for(var y;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)m=h,h=y;for(;;){if(h===t)break t;if(m===n&&++c===i&&(a=o),m===s&&++d===r&&(l=o),(y=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(yp={focusedElem:t,selectionRange:n},Ec=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var S=x.memoizedProps,I=x.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?S:_n(e.type,S),I);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(N){Oe(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return x=Iw,Iw=!1,x}function Pa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Dp(e,n,s)}i=i.next}while(i!==r)}}function Vd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Mp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function JS(t){var e=t.alternate;e!==null&&(t.alternate=null,JS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vn],delete e[Xa],delete e[_p],delete e[NR],delete e[DR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ZS(t){return t.tag===5||t.tag===3||t.tag===4}function Pw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ZS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=kc));else if(r!==4&&(t=t.child,t!==null))for(Vp(t,e,n),t=t.sibling;t!==null;)Vp(t,e,n),t=t.sibling}function Op(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Op(t,e,n),t=t.sibling;t!==null;)Op(t,e,n),t=t.sibling}var nt=null,xn=!1;function Ir(t,e,n){for(n=n.child;n!==null;)e1(t,e,n),n=n.sibling}function e1(t,e,n){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(Id,n)}catch{}switch(n.tag){case 5:vt||Ls(n,e);case 6:var r=nt,i=xn;nt=null,Ir(t,e,n),nt=r,xn=i,nt!==null&&(xn?(t=nt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):nt.removeChild(n.stateNode));break;case 18:nt!==null&&(xn?(t=nt,n=n.stateNode,t.nodeType===8?nf(t.parentNode,n):t.nodeType===1&&nf(t,n),Ka(t)):nf(nt,n.stateNode));break;case 4:r=nt,i=xn,nt=n.stateNode.containerInfo,xn=!0,Ir(t,e,n),nt=r,xn=i;break;case 0:case 11:case 14:case 15:if(!vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Dp(n,e,o),i=i.next}while(i!==r)}Ir(t,e,n);break;case 1:if(!vt&&(Ls(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Oe(n,e,a)}Ir(t,e,n);break;case 21:Ir(t,e,n);break;case 22:n.mode&1?(vt=(r=vt)||n.memoizedState!==null,Ir(t,e,n),vt=r):Ir(t,e,n);break;default:Ir(t,e,n)}}function Cw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new QR),e.forEach(function(r){var i=sN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function gn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:nt=a.stateNode,xn=!1;break e;case 3:nt=a.stateNode.containerInfo,xn=!0;break e;case 4:nt=a.stateNode.containerInfo,xn=!0;break e}a=a.return}if(nt===null)throw Error(B(160));e1(s,o,i),nt=null,xn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Oe(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)t1(e,t),e=e.sibling}function t1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gn(e,t),Nn(t),r&4){try{Pa(3,t,t.return),Vd(3,t)}catch(S){Oe(t,t.return,S)}try{Pa(5,t,t.return)}catch(S){Oe(t,t.return,S)}}break;case 1:gn(e,t),Nn(t),r&512&&n!==null&&Ls(n,n.return);break;case 5:if(gn(e,t),Nn(t),r&512&&n!==null&&Ls(n,n.return),t.flags&32){var i=t.stateNode;try{za(i,"")}catch(S){Oe(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&TT(i,s),op(a,o);var c=op(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?PT(i,h):d==="dangerouslySetInnerHTML"?bT(i,h):d==="children"?za(i,h):Jm(i,d,h,c)}switch(a){case"input":tp(i,s);break;case"textarea":ST(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Hs(i,!!s.multiple,y,!1):m!==!!s.multiple&&(s.defaultValue!=null?Hs(i,!!s.multiple,s.defaultValue,!0):Hs(i,!!s.multiple,s.multiple?[]:"",!1))}i[Xa]=s}catch(S){Oe(t,t.return,S)}}break;case 6:if(gn(e,t),Nn(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){Oe(t,t.return,S)}}break;case 3:if(gn(e,t),Nn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ka(e.containerInfo)}catch(S){Oe(t,t.return,S)}break;case 4:gn(e,t),Nn(t);break;case 13:gn(e,t),Nn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Rg=Ue())),r&4&&Cw(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(vt=(c=vt)||d,gn(e,t),vt=c):gn(e,t),Nn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(W=t,d=t.child;d!==null;){for(h=W=d;W!==null;){switch(m=W,y=m.child,m.tag){case 0:case 11:case 14:case 15:Pa(4,m,m.return);break;case 1:Ls(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(S){Oe(r,n,S)}}break;case 5:Ls(m,m.return);break;case 22:if(m.memoizedState!==null){Rw(h);continue}}y!==null?(y.return=m,W=y):Rw(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=IT("display",o))}catch(S){Oe(t,t.return,S)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(S){Oe(t,t.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gn(e,t),Nn(t),r&4&&Cw(t);break;case 21:break;default:gn(e,t),Nn(t)}}function Nn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ZS(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(za(i,""),r.flags&=-33);var s=Pw(t);Op(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Pw(t);Vp(t,a,o);break;default:throw Error(B(161))}}catch(l){Oe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function XR(t,e,n){W=t,n1(t)}function n1(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var i=W,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Iu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||vt;a=Iu;var c=vt;if(Iu=o,(vt=l)&&!c)for(W=i;W!==null;)o=W,l=o.child,o.tag===22&&o.memoizedState!==null?Nw(i):l!==null?(l.return=o,W=l):Nw(i);for(;s!==null;)W=s,n1(s),s=s.sibling;W=i,Iu=a,vt=c}Aw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,W=s):Aw(t)}}function Aw(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vt||Vd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!vt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:_n(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&pw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}pw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ka(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}vt||e.flags&512&&Mp(e)}catch(m){Oe(e,e.return,m)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function Rw(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function Nw(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Vd(4,e)}catch(l){Oe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Oe(e,i,l)}}var s=e.return;try{Mp(e)}catch(l){Oe(e,s,l)}break;case 5:var o=e.return;try{Mp(e)}catch(l){Oe(e,o,l)}}}catch(l){Oe(e,e.return,l)}if(e===t){W=null;break}var a=e.sibling;if(a!==null){a.return=e.return,W=a;break}W=e.return}}var JR=Math.ceil,Oc=_r.ReactCurrentDispatcher,Cg=_r.ReactCurrentOwner,ln=_r.ReactCurrentBatchConfig,ue=0,Ze=null,$e=null,ot=0,Wt=0,js=yi(0),Ge=0,rl=null,Xi=0,Od=0,Ag=0,Ca=null,Lt=null,Rg=0,ao=1/0,qn=null,Lc=!1,Lp=null,Qr=null,Pu=!1,Br=null,jc=0,Aa=0,jp=null,Zu=-1,ec=0;function Ct(){return ue&6?Ue():Zu!==-1?Zu:Zu=Ue()}function Yr(t){return t.mode&1?ue&2&&ot!==0?ot&-ot:VR.transition!==null?(ec===0&&(ec=UT()),ec):(t=ge,t!==0||(t=window.event,t=t===void 0?16:GT(t.type)),t):1}function bn(t,e,n,r){if(50<Aa)throw Aa=0,jp=null,Error(B(185));bl(t,n,r),(!(ue&2)||t!==Ze)&&(t===Ze&&(!(ue&2)&&(Od|=n),Ge===4&&Vr(t,ot)),Bt(t,r),n===1&&ue===0&&!(e.mode&1)&&(ao=Ue()+500,Nd&&vi()))}function Bt(t,e){var n=t.callbackNode;VA(t,e);var r=xc(t,t===Ze?ot:0);if(r===0)n!==null&&B0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&B0(n),e===1)t.tag===0?MR(Dw.bind(null,t)):hS(Dw.bind(null,t)),AR(function(){!(ue&6)&&vi()}),n=null;else{switch(BT(r)){case 1:n=rg;break;case 4:n=jT;break;case 16:n=_c;break;case 536870912:n=FT;break;default:n=_c}n=c1(n,r1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function r1(t,e){if(Zu=-1,ec=0,ue&6)throw Error(B(327));var n=t.callbackNode;if(Ys()&&t.callbackNode!==n)return null;var r=xc(t,t===Ze?ot:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Fc(t,r);else{e=r;var i=ue;ue|=2;var s=s1();(Ze!==t||ot!==e)&&(qn=null,ao=Ue()+500,Wi(t,e));do try{tN();break}catch(a){i1(t,a)}while(!0);gg(),Oc.current=s,ue=i,$e!==null?e=0:(Ze=null,ot=0,e=Ge)}if(e!==0){if(e===2&&(i=dp(t),i!==0&&(r=i,e=Fp(t,i))),e===1)throw n=rl,Wi(t,0),Vr(t,r),Bt(t,Ue()),n;if(e===6)Vr(t,r);else{if(i=t.current.alternate,!(r&30)&&!ZR(i)&&(e=Fc(t,r),e===2&&(s=dp(t),s!==0&&(r=s,e=Fp(t,s))),e===1))throw n=rl,Wi(t,0),Vr(t,r),Bt(t,Ue()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Ni(t,Lt,qn);break;case 3:if(Vr(t,r),(r&130023424)===r&&(e=Rg+500-Ue(),10<e)){if(xc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ct(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=wp(Ni.bind(null,t,Lt,qn),e);break}Ni(t,Lt,qn);break;case 4:if(Vr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-kn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*JR(r/1960))-r,10<r){t.timeoutHandle=wp(Ni.bind(null,t,Lt,qn),r);break}Ni(t,Lt,qn);break;case 5:Ni(t,Lt,qn);break;default:throw Error(B(329))}}}return Bt(t,Ue()),t.callbackNode===n?r1.bind(null,t):null}function Fp(t,e){var n=Ca;return t.current.memoizedState.isDehydrated&&(Wi(t,e).flags|=256),t=Fc(t,e),t!==2&&(e=Lt,Lt=n,e!==null&&Up(e)),t}function Up(t){Lt===null?Lt=t:Lt.push.apply(Lt,t)}function ZR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Pn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vr(t,e){for(e&=~Ag,e&=~Od,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-kn(e),r=1<<n;t[n]=-1,e&=~r}}function Dw(t){if(ue&6)throw Error(B(327));Ys();var e=xc(t,0);if(!(e&1))return Bt(t,Ue()),null;var n=Fc(t,e);if(t.tag!==0&&n===2){var r=dp(t);r!==0&&(e=r,n=Fp(t,r))}if(n===1)throw n=rl,Wi(t,0),Vr(t,e),Bt(t,Ue()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ni(t,Lt,qn),Bt(t,Ue()),null}function Ng(t,e){var n=ue;ue|=1;try{return t(e)}finally{ue=n,ue===0&&(ao=Ue()+500,Nd&&vi())}}function Ji(t){Br!==null&&Br.tag===0&&!(ue&6)&&Ys();var e=ue;ue|=1;var n=ln.transition,r=ge;try{if(ln.transition=null,ge=1,t)return t()}finally{ge=r,ln.transition=n,ue=e,!(ue&6)&&vi()}}function Dg(){Wt=js.current,ke(js)}function Wi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,CR(n)),$e!==null)for(n=$e.return;n!==null;){var r=n;switch(fg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bc();break;case 3:so(),ke(Ft),ke(xt),Eg();break;case 5:xg(r);break;case 4:so();break;case 13:ke(Ce);break;case 19:ke(Ce);break;case 10:yg(r.type._context);break;case 22:case 23:Dg()}n=n.return}if(Ze=t,$e=t=Xr(t.current,null),ot=Wt=e,Ge=0,rl=null,Ag=Od=Xi=0,Lt=Ca=null,ji!==null){for(e=0;e<ji.length;e++)if(n=ji[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ji=null}return t}function i1(t,e){do{var n=$e;try{if(gg(),Yu.current=Vc,Mc){for(var r=Re.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Mc=!1}if(Yi=0,Je=He=Re=null,Ia=!1,el=0,Cg.current=null,n===null||n.return===null){Ge=1,rl=e,$e=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=ot,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=_w(o);if(y!==null){y.flags&=-257,xw(y,o,a,s,e),y.mode&1&&ww(s,c,e),e=y,l=c;var x=e.updateQueue;if(x===null){var S=new Set;S.add(l),e.updateQueue=S}else x.add(l);break e}else{if(!(e&1)){ww(s,c,e),Mg();break e}l=Error(B(426))}}else if(Ie&&a.mode&1){var I=_w(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),xw(I,o,a,s,e),pg(oo(l,a));break e}}s=l=oo(l,a),Ge!==4&&(Ge=2),Ca===null?Ca=[s]:Ca.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=BS(s,l,e);fw(s,v);break e;case 1:a=l;var _=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Qr===null||!Qr.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=zS(s,a,e);fw(s,N);break e}}s=s.return}while(s!==null)}a1(n)}catch(O){e=O,$e===n&&n!==null&&($e=n=n.return);continue}break}while(!0)}function s1(){var t=Oc.current;return Oc.current=Vc,t===null?Vc:t}function Mg(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Ze===null||!(Xi&268435455)&&!(Od&268435455)||Vr(Ze,ot)}function Fc(t,e){var n=ue;ue|=2;var r=s1();(Ze!==t||ot!==e)&&(qn=null,Wi(t,e));do try{eN();break}catch(i){i1(t,i)}while(!0);if(gg(),ue=n,Oc.current=r,$e!==null)throw Error(B(261));return Ze=null,ot=0,Ge}function eN(){for(;$e!==null;)o1($e)}function tN(){for(;$e!==null&&!bA();)o1($e)}function o1(t){var e=u1(t.alternate,t,Wt);t.memoizedProps=t.pendingProps,e===null?a1(t):$e=e,Cg.current=null}function a1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=qR(n,e),n!==null){n.flags&=32767,$e=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ge=6,$e=null;return}}else if(n=GR(n,e,Wt),n!==null){$e=n;return}if(e=e.sibling,e!==null){$e=e;return}$e=e=t}while(e!==null);Ge===0&&(Ge=5)}function Ni(t,e,n){var r=ge,i=ln.transition;try{ln.transition=null,ge=1,nN(t,e,n,r)}finally{ln.transition=i,ge=r}return null}function nN(t,e,n,r){do Ys();while(Br!==null);if(ue&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(OA(t,s),t===Ze&&($e=Ze=null,ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pu||(Pu=!0,c1(_c,function(){return Ys(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ln.transition,ln.transition=null;var o=ge;ge=1;var a=ue;ue|=4,Cg.current=null,YR(t,n),t1(n,t),ER(yp),Ec=!!gp,yp=gp=null,t.current=n,XR(n),IA(),ue=a,ge=o,ln.transition=s}else t.current=n;if(Pu&&(Pu=!1,Br=t,jc=i),s=t.pendingLanes,s===0&&(Qr=null),AA(n.stateNode),Bt(t,Ue()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Lc)throw Lc=!1,t=Lp,Lp=null,t;return jc&1&&t.tag!==0&&Ys(),s=t.pendingLanes,s&1?t===jp?Aa++:(Aa=0,jp=t):Aa=0,vi(),null}function Ys(){if(Br!==null){var t=BT(jc),e=ln.transition,n=ge;try{if(ln.transition=null,ge=16>t?16:t,Br===null)var r=!1;else{if(t=Br,Br=null,jc=0,ue&6)throw Error(B(331));var i=ue;for(ue|=4,W=t.current;W!==null;){var s=W,o=s.child;if(W.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(W=c;W!==null;){var d=W;switch(d.tag){case 0:case 11:case 15:Pa(8,d,s)}var h=d.child;if(h!==null)h.return=d,W=h;else for(;W!==null;){d=W;var m=d.sibling,y=d.return;if(JS(d),d===c){W=null;break}if(m!==null){m.return=y,W=m;break}W=y}}}var x=s.alternate;if(x!==null){var S=x.child;if(S!==null){x.child=null;do{var I=S.sibling;S.sibling=null,S=I}while(S!==null)}}W=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,W=o;else e:for(;W!==null;){if(s=W,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Pa(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,W=v;break e}W=s.return}}var _=t.current;for(W=_;W!==null;){o=W;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,W=E;else e:for(o=_;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Vd(9,a)}}catch(O){Oe(a,a.return,O)}if(a===o){W=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,W=N;break e}W=a.return}}if(ue=i,vi(),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(Id,t)}catch{}r=!0}return r}finally{ge=n,ln.transition=e}}return!1}function Mw(t,e,n){e=oo(n,e),e=BS(t,e,1),t=qr(t,e,1),e=Ct(),t!==null&&(bl(t,1,e),Bt(t,e))}function Oe(t,e,n){if(t.tag===3)Mw(t,t,n);else for(;e!==null;){if(e.tag===3){Mw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qr===null||!Qr.has(r))){t=oo(n,t),t=zS(e,t,1),e=qr(e,t,1),t=Ct(),e!==null&&(bl(e,1,t),Bt(e,t));break}}e=e.return}}function rN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ct(),t.pingedLanes|=t.suspendedLanes&n,Ze===t&&(ot&n)===n&&(Ge===4||Ge===3&&(ot&130023424)===ot&&500>Ue()-Rg?Wi(t,0):Ag|=n),Bt(t,e)}function l1(t,e){e===0&&(t.mode&1?(e=vu,vu<<=1,!(vu&130023424)&&(vu=4194304)):e=1);var n=Ct();t=dr(t,e),t!==null&&(bl(t,e,n),Bt(t,n))}function iN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),l1(t,n)}function sN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),l1(t,n)}var u1;u1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ft.current)jt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return jt=!1,KR(t,e,n);jt=!!(t.flags&131072)}else jt=!1,Ie&&e.flags&1048576&&fS(e,Cc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ju(t,e),t=e.pendingProps;var i=no(e,xt.current);Qs(e,n),i=Sg(null,e,r,t,i,n);var s=kg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ut(r)?(s=!0,Ic(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,wg(e),i.updater=Md,e.stateNode=i,i._reactInternals=e,bp(e,r,t,n),e=Cp(null,e,r,!0,s,n)):(e.tag=0,Ie&&s&&hg(e),bt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ju(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=aN(r),t=_n(r,t),i){case 0:e=Pp(null,e,r,t,n);break e;case 1:e=Sw(null,e,r,t,n);break e;case 11:e=Ew(null,e,r,t,n);break e;case 14:e=Tw(null,e,r,_n(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),Pp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),Sw(t,e,r,i,n);case 3:e:{if(KS(e),t===null)throw Error(B(387));r=e.pendingProps,s=e.memoizedState,i=s.element,wS(t,e),Nc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=oo(Error(B(423)),e),e=kw(t,e,r,n,i);break e}else if(r!==i){i=oo(Error(B(424)),e),e=kw(t,e,r,n,i);break e}else for(Kt=Gr(e.stateNode.containerInfo.firstChild),Gt=e,Ie=!0,En=null,n=yS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ro(),r===i){e=hr(t,e,n);break e}bt(t,e,r,n)}e=e.child}return e;case 5:return _S(e),t===null&&Tp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,vp(r,i)?o=null:s!==null&&vp(r,s)&&(e.flags|=32),HS(t,e),bt(t,e,o,n),e.child;case 6:return t===null&&Tp(e),null;case 13:return GS(t,e,n);case 4:return _g(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=io(e,null,r,n):bt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),Ew(t,e,r,i,n);case 7:return bt(t,e,e.pendingProps,n),e.child;case 8:return bt(t,e,e.pendingProps.children,n),e.child;case 12:return bt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,_e(Ac,r._currentValue),r._currentValue=o,s!==null)if(Pn(s.value,o)){if(s.children===i.children&&!Ft.current){e=hr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=nr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Sp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Sp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}bt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Qs(e,n),i=cn(i),r=r(i),e.flags|=1,bt(t,e,r,n),e.child;case 14:return r=e.type,i=_n(r,e.pendingProps),i=_n(r.type,i),Tw(t,e,r,i,n);case 15:return $S(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),Ju(t,e),e.tag=1,Ut(r)?(t=!0,Ic(e)):t=!1,Qs(e,n),US(e,r,i),bp(e,r,i,n),Cp(null,e,r,!0,t,n);case 19:return qS(t,e,n);case 22:return WS(t,e,n)}throw Error(B(156,e.tag))};function c1(t,e){return LT(t,e)}function oN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(t,e,n,r){return new oN(t,e,n,r)}function Vg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function aN(t){if(typeof t=="function")return Vg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===eg)return 11;if(t===tg)return 14}return 2}function Xr(t,e){var n=t.alternate;return n===null?(n=an(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function tc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Vg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ps:return Hi(n.children,i,s,e);case Zm:o=8,i|=8;break;case Yf:return t=an(12,n,e,i|2),t.elementType=Yf,t.lanes=s,t;case Xf:return t=an(13,n,e,i),t.elementType=Xf,t.lanes=s,t;case Jf:return t=an(19,n,e,i),t.elementType=Jf,t.lanes=s,t;case _T:return Ld(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case vT:o=10;break e;case wT:o=9;break e;case eg:o=11;break e;case tg:o=14;break e;case Nr:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=an(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Hi(t,e,n,r){return t=an(7,t,r,e),t.lanes=n,t}function Ld(t,e,n,r){return t=an(22,t,r,e),t.elementType=_T,t.lanes=n,t.stateNode={isHidden:!1},t}function df(t,e,n){return t=an(6,t,null,e),t.lanes=n,t}function hf(t,e,n){return e=an(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function lN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hh(0),this.expirationTimes=Hh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Og(t,e,n,r,i,s,o,a,l){return t=new lN(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=an(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wg(s),t}function uN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Is,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function d1(t){if(!t)return ii;t=t._reactInternals;e:{if(ls(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ut(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Ut(n))return dS(t,n,e)}return e}function h1(t,e,n,r,i,s,o,a,l){return t=Og(n,r,!0,t,i,s,o,a,l),t.context=d1(null),n=t.current,r=Ct(),i=Yr(n),s=nr(r,i),s.callback=e??null,qr(n,s,i),t.current.lanes=i,bl(t,i,r),Bt(t,r),t}function jd(t,e,n,r){var i=e.current,s=Ct(),o=Yr(i);return n=d1(n),e.context===null?e.context=n:e.pendingContext=n,e=nr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=qr(i,e,o),t!==null&&(bn(t,i,o,s),Qu(t,i,o)),o}function Uc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Lg(t,e){Vw(t,e),(t=t.alternate)&&Vw(t,e)}function cN(){return null}var f1=typeof reportError=="function"?reportError:function(t){console.error(t)};function jg(t){this._internalRoot=t}Fd.prototype.render=jg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));jd(t,e,null,null)};Fd.prototype.unmount=jg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ji(function(){jd(null,t,null,null)}),e[cr]=null}};function Fd(t){this._internalRoot=t}Fd.prototype.unstable_scheduleHydration=function(t){if(t){var e=WT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Mr.length&&e!==0&&e<Mr[n].priority;n++);Mr.splice(n,0,t),n===0&&KT(t)}};function Fg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ud(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ow(){}function dN(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Uc(o);s.call(c)}}var o=h1(e,r,t,0,null,!1,!1,"",Ow);return t._reactRootContainer=o,t[cr]=o.current,Qa(t.nodeType===8?t.parentNode:t),Ji(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Uc(l);a.call(c)}}var l=Og(t,0,!1,null,null,!1,!1,"",Ow);return t._reactRootContainer=l,t[cr]=l.current,Qa(t.nodeType===8?t.parentNode:t),Ji(function(){jd(e,l,n,r)}),l}function Bd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Uc(o);a.call(l)}}jd(e,o,t,i)}else o=dN(n,e,t,i,r);return Uc(o)}zT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=da(e.pendingLanes);n!==0&&(ig(e,n|1),Bt(e,Ue()),!(ue&6)&&(ao=Ue()+500,vi()))}break;case 13:Ji(function(){var r=dr(t,1);if(r!==null){var i=Ct();bn(r,t,1,i)}}),Lg(t,1)}};sg=function(t){if(t.tag===13){var e=dr(t,134217728);if(e!==null){var n=Ct();bn(e,t,134217728,n)}Lg(t,134217728)}};$T=function(t){if(t.tag===13){var e=Yr(t),n=dr(t,e);if(n!==null){var r=Ct();bn(n,t,e,r)}Lg(t,e)}};WT=function(){return ge};HT=function(t,e){var n=ge;try{return ge=t,e()}finally{ge=n}};lp=function(t,e,n){switch(e){case"input":if(tp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Rd(r);if(!i)throw Error(B(90));ET(r),tp(r,i)}}}break;case"textarea":ST(t,n);break;case"select":e=n.value,e!=null&&Hs(t,!!n.multiple,e,!1)}};RT=Ng;NT=Ji;var hN={usingClientEntryPoint:!1,Events:[Pl,Ns,Rd,CT,AT,Ng]},ia={findFiberByHostInstance:Li,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fN={bundleType:ia.bundleType,version:ia.version,rendererPackageName:ia.rendererPackageName,rendererConfig:ia.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_r.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=VT(t),t===null?null:t.stateNode},findFiberByHostInstance:ia.findFiberByHostInstance||cN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cu.isDisabled&&Cu.supportsFiber)try{Id=Cu.inject(fN),On=Cu}catch{}}Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hN;Jt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fg(e))throw Error(B(200));return uN(t,e,null,n)};Jt.createRoot=function(t,e){if(!Fg(t))throw Error(B(299));var n=!1,r="",i=f1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Og(t,1,!1,null,null,n,!1,r,i),t[cr]=e.current,Qa(t.nodeType===8?t.parentNode:t),new jg(e)};Jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=VT(e),t=t===null?null:t.stateNode,t};Jt.flushSync=function(t){return Ji(t)};Jt.hydrate=function(t,e,n){if(!Ud(e))throw Error(B(200));return Bd(null,t,e,!0,n)};Jt.hydrateRoot=function(t,e,n){if(!Fg(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=f1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=h1(e,null,t,1,n??null,i,!1,s,o),t[cr]=e.current,Qa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Fd(e)};Jt.render=function(t,e,n){if(!Ud(e))throw Error(B(200));return Bd(null,t,e,!1,n)};Jt.unmountComponentAtNode=function(t){if(!Ud(t))throw Error(B(40));return t._reactRootContainer?(Ji(function(){Bd(null,null,t,!1,function(){t._reactRootContainer=null,t[cr]=null})}),!0):!1};Jt.unstable_batchedUpdates=Ng;Jt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ud(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Bd(t,e,n,!1,r)};Jt.version="18.3.1-next-f1338f8080-20240426";function p1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p1)}catch(t){console.error(t)}}p1(),pT.exports=Jt;var pN=pT.exports,Lw=pN;qf.createRoot=Lw.createRoot,qf.hydrateRoot=Lw.hydrateRoot;var Ug={};Object.defineProperty(Ug,"__esModule",{value:!0});Ug.parse=xN;Ug.serialize=EN;const mN=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,gN=/^[\u0021-\u003A\u003C-\u007E]*$/,yN=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,vN=/^[\u0020-\u003A\u003D-\u007E]*$/,wN=Object.prototype.toString,_N=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function xN(t,e){const n=new _N,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||TN;let s=0;do{const o=t.indexOf("=",s);if(o===-1)break;const a=t.indexOf(";",s),l=a===-1?r:a;if(o>l){s=t.lastIndexOf(";",o-1)+1;continue}const c=jw(t,s,o),d=Fw(t,o,c),h=t.slice(c,d);if(n[h]===void 0){let m=jw(t,o+1,l),y=Fw(t,l,m);const x=i(t.slice(m,y));n[h]=x}s=l+1}while(s<r);return n}function jw(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function Fw(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function EN(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!mN.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!gN.test(i))throw new TypeError(`argument val is invalid: ${e}`);let s=t+"="+i;if(!n)return s;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);s+="; Max-Age="+n.maxAge}if(n.domain){if(!yN.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);s+="; Domain="+n.domain}if(n.path){if(!vN.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);s+="; Path="+n.path}if(n.expires){if(!SN(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.partitioned&&(s+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return s}function TN(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function SN(t){return wN.call(t)==="[object Date]"}/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Uw="popstate";function kN(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Bp("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:il(i)}return IN(e,n,null,t)}function Pe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Cn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bN(){return Math.random().toString(36).substring(2,10)}function Bw(t,e){return{usr:t.state,key:t.key,idx:e}}function Bp(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ko(e):e,state:n,key:e&&e.key||r||bN()}}function il({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ko(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function IN(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=d();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function d(){return(o.state||{idx:null}).idx}function h(){a="POP";let I=d(),v=I==null?null:I-c;c=I,l&&l({action:a,location:S.location,delta:v})}function m(I,v){a="PUSH";let _=Bp(S.location,I,v);c=d()+1;let E=Bw(_,c),N=S.createHref(_);try{o.pushState(E,"",N)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(N)}s&&l&&l({action:a,location:S.location,delta:1})}function y(I,v){a="REPLACE";let _=Bp(S.location,I,v);c=d();let E=Bw(_,c),N=S.createHref(_);o.replaceState(E,"",N),s&&l&&l({action:a,location:S.location,delta:0})}function x(I){let v=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof I=="string"?I:il(I);return _=_.replace(/ $/,"%20"),Pe(v,`No window.location.(origin|href) available to create URL for href: ${_}`),new URL(_,v)}let S={get action(){return a},get location(){return t(i,o)},listen(I){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Uw,h),l=I,()=>{i.removeEventListener(Uw,h),l=null}},createHref(I){return e(i,I)},createURL:x,encodeLocation(I){let v=x(I);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:y,go(I){return o.go(I)}};return S}function m1(t,e,n="/"){return PN(t,e,n,!1)}function PN(t,e,n,r){let i=typeof e=="string"?ko(e):e,s=si(i.pathname||"/",n);if(s==null)return null;let o=g1(t);CN(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=UN(s);a=jN(o[l],c,r)}return a}function g1(t,e=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Pe(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=rr([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Pe(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),g1(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:ON(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of y1(s.path))i(s,o,l)}),e}function y1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=y1(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function CN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:LN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var AN=/^:[\w-]+$/,RN=3,NN=2,DN=1,MN=10,VN=-2,zw=t=>t==="*";function ON(t,e){let n=t.split("/"),r=n.length;return n.some(zw)&&(r+=VN),e&&(r+=NN),n.filter(i=>!zw(i)).reduce((i,s)=>i+(AN.test(s)?RN:s===""?DN:MN),r)}function LN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function jN(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=Bc({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),m=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=Bc({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:rr([s,h.pathname]),pathnameBase:WN(rr([s,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(s=rr([s,h.pathnameBase]))}return o}function Bc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=FN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:h},m)=>{if(d==="*"){let x=a[m]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const y=a[m];return h&&!y?c[d]=void 0:c[d]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function FN(t,e=!1,n=!0){Cn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function UN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function si(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function BN(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ko(t):t;return{pathname:n?n.startsWith("/")?n:zN(n,e):e,search:HN(r),hash:KN(i)}}function zN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ff(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $N(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Bg(t){let e=$N(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function zg(t,e,n,r=!1){let i;typeof t=="string"?i=ko(t):(i={...t},Pe(!i.pathname||!i.pathname.includes("?"),ff("?","pathname","search",i)),Pe(!i.pathname||!i.pathname.includes("#"),ff("#","pathname","hash",i)),Pe(!i.search||!i.search.includes("#"),ff("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}a=h>=0?e[h]:"/"}let l=BN(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var rr=t=>t.join("/").replace(/\/\/+/g,"/"),WN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),HN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,KN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function GN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var v1=["POST","PUT","PATCH","DELETE"];new Set(v1);var qN=["GET",...v1];new Set(qN);var bo=C.createContext(null);bo.displayName="DataRouter";var zd=C.createContext(null);zd.displayName="DataRouterState";var w1=C.createContext({isTransitioning:!1});w1.displayName="ViewTransition";var QN=C.createContext(new Map);QN.displayName="Fetchers";var YN=C.createContext(null);YN.displayName="Await";var An=C.createContext(null);An.displayName="Navigation";var Al=C.createContext(null);Al.displayName="Location";var pn=C.createContext({outlet:null,matches:[],isDataRoute:!1});pn.displayName="Route";var $g=C.createContext(null);$g.displayName="RouteError";function XN(t,{relative:e}={}){Pe(Io(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=C.useContext(An),{hash:i,pathname:s,search:o}=Rl(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:rr([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Io(){return C.useContext(Al)!=null}function xr(){return Pe(Io(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Al).location}var _1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function x1(t){C.useContext(An).static||C.useLayoutEffect(t)}function us(){let{isDataRoute:t}=C.useContext(pn);return t?f2():JN()}function JN(){Pe(Io(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(bo),{basename:e,navigator:n}=C.useContext(An),{matches:r}=C.useContext(pn),{pathname:i}=xr(),s=JSON.stringify(Bg(r)),o=C.useRef(!1);return x1(()=>{o.current=!0}),C.useCallback((l,c={})=>{if(Cn(o.current,_1),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=zg(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:rr([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,s,i,t])}var ZN=C.createContext(null);function e2(t){let e=C.useContext(pn).outlet;return e&&C.createElement(ZN.Provider,{value:t},e)}function t2(){let{matches:t}=C.useContext(pn),e=t[t.length-1];return e?e.params:{}}function Rl(t,{relative:e}={}){let{matches:n}=C.useContext(pn),{pathname:r}=xr(),i=JSON.stringify(Bg(n));return C.useMemo(()=>zg(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function n2(t,e){return E1(t,e)}function E1(t,e,n,r){var _;Pe(Io(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=C.useContext(An),{matches:o}=C.useContext(pn),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",d=a?a.pathnameBase:"/",h=a&&a.route;{let E=h&&h.path||"";T1(c,!h||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let m=xr(),y;if(e){let E=typeof e=="string"?ko(e):e;Pe(d==="/"||((_=E.pathname)==null?void 0:_.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${E.pathname}" was given in the \`location\` prop.`),y=E}else y=m;let x=y.pathname||"/",S=x;if(d!=="/"){let E=d.replace(/^\//,"").split("/");S="/"+x.replace(/^\//,"").split("/").slice(E.length).join("/")}let I=!s&&n&&n.matches&&n.matches.length>0?n.matches:m1(t,{pathname:S});Cn(h||I!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Cn(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=a2(I&&I.map(E=>Object.assign({},E,{params:Object.assign({},l,E.params),pathname:rr([d,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?d:rr([d,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,n,r);return e&&v?C.createElement(Al.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},v):v}function r2(){let t=h2(),e=GN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:s},"ErrorBoundary")," or"," ",C.createElement("code",{style:s},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:i},n):null,o)}var i2=C.createElement(r2,null),s2=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?C.createElement(pn.Provider,{value:this.props.routeContext},C.createElement($g.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function o2({routeContext:t,match:e,children:n}){let r=C.useContext(bo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(pn.Provider,{value:t},n)}function a2(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let l=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);Pe(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:d,errors:h}=n,m=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!h||h[c.route.id]===void 0);if(c.route.lazy||m){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,d)=>{let h,m=!1,y=null,x=null;n&&(h=s&&c.route.id?s[c.route.id]:void 0,y=c.route.errorElement||i2,o&&(a<0&&d===0?(T1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,x=null):a===d&&(m=!0,x=c.route.hydrateFallbackElement||null)));let S=e.concat(i.slice(0,d+1)),I=()=>{let v;return h?v=y:m?v=x:c.route.Component?v=C.createElement(c.route.Component,null):c.route.element?v=c.route.element:v=l,C.createElement(o2,{match:c,routeContext:{outlet:l,matches:S,isDataRoute:n!=null},children:v})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?C.createElement(s2,{location:n.location,revalidation:n.revalidation,component:y,error:h,children:I(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):I()},null)}function Wg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function l2(t){let e=C.useContext(bo);return Pe(e,Wg(t)),e}function u2(t){let e=C.useContext(zd);return Pe(e,Wg(t)),e}function c2(t){let e=C.useContext(pn);return Pe(e,Wg(t)),e}function Hg(t){let e=c2(t),n=e.matches[e.matches.length-1];return Pe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function d2(){return Hg("useRouteId")}function h2(){var r;let t=C.useContext($g),e=u2("useRouteError"),n=Hg("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function f2(){let{router:t}=l2("useNavigate"),e=Hg("useNavigate"),n=C.useRef(!1);return x1(()=>{n.current=!0}),C.useCallback(async(i,s={})=>{Cn(n.current,_1),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var $w={};function T1(t,e,n){!e&&!$w[t]&&($w[t]=!0,Cn(!1,n))}C.memo(p2);function p2({routes:t,future:e,state:n}){return E1(t,void 0,n,e)}function Kg({to:t,replace:e,state:n,relative:r}){Pe(Io(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=C.useContext(An);Cn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=C.useContext(pn),{pathname:o}=xr(),a=us(),l=zg(t,Bg(s),o,r==="path"),c=JSON.stringify(l);return C.useEffect(()=>{a(JSON.parse(c),{replace:e,state:n,relative:r})},[a,c,r,e,n]),null}function Ww(t){return e2(t.context)}function tn(t){Pe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function m2({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Pe(!Io(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=C.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=ko(n));let{pathname:l="/",search:c="",hash:d="",state:h=null,key:m="default"}=n,y=C.useMemo(()=>{let x=si(l,o);return x==null?null:{location:{pathname:x,search:c,hash:d,state:h,key:m},navigationType:r}},[o,l,c,d,h,m,r]);return Cn(y!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:C.createElement(An.Provider,{value:a},C.createElement(Al.Provider,{children:e,value:y}))}function g2({children:t,location:e}){return n2(zp(t),e)}function zp(t,e=[]){let n=[];return C.Children.forEach(t,(r,i)=>{if(!C.isValidElement(r))return;let s=[...e,i];if(r.type===C.Fragment){n.push.apply(n,zp(r.props.children,s));return}Pe(r.type===tn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=zp(r.props.children,s)),n.push(o)}),n}var nc="get",rc="application/x-www-form-urlencoded";function $d(t){return t!=null&&typeof t.tagName=="string"}function y2(t){return $d(t)&&t.tagName.toLowerCase()==="button"}function v2(t){return $d(t)&&t.tagName.toLowerCase()==="form"}function w2(t){return $d(t)&&t.tagName.toLowerCase()==="input"}function _2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function x2(t,e){return t.button===0&&(!e||e==="_self")&&!_2(t)}var Au=null;function E2(){if(Au===null)try{new FormData(document.createElement("form"),0),Au=!1}catch{Au=!0}return Au}var T2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pf(t){return t!=null&&!T2.has(t)?(Cn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rc}"`),null):t}function S2(t,e){let n,r,i,s,o;if(v2(t)){let a=t.getAttribute("action");r=a?si(a,e):null,n=t.getAttribute("method")||nc,i=pf(t.getAttribute("enctype"))||rc,s=new FormData(t)}else if(y2(t)||w2(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?si(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||nc,i=pf(t.getAttribute("formenctype"))||pf(a.getAttribute("enctype"))||rc,s=new FormData(a,t),!E2()){let{name:c,type:d,value:h}=t;if(d==="image"){let m=c?`${c}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else c&&s.append(c,h)}}else{if($d(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=nc,r=null,i=rc,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function Gg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function k2(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function b2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function I2(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await k2(s,n);return o.links?o.links():[]}return[]}));return R2(r.flat(1).filter(b2).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Hw(t,e,n,r,i,s){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var d;return n[c].pathname!==l.pathname||((d=n[c].route.path)==null?void 0:d.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?e.filter((l,c)=>{var h;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let m=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function P2(t,e,{includeHydrateFallback:n}={}){return C2(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function C2(t){return[...new Set(t)]}function A2(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function R2(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(A2(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function N2(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function D2(){let t=C.useContext(bo);return Gg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function M2(){let t=C.useContext(zd);return Gg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var qg=C.createContext(void 0);qg.displayName="FrameworkContext";function S1(){let t=C.useContext(qg);return Gg(t,"You must render this element inside a <HydratedRouter> element"),t}function V2(t,e){let n=C.useContext(qg),[r,i]=C.useState(!1),[s,o]=C.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:h}=e,m=C.useRef(null);C.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let S=v=>{v.forEach(_=>{o(_.isIntersecting)})},I=new IntersectionObserver(S,{threshold:.5});return m.current&&I.observe(m.current),()=>{I.disconnect()}}},[t]),C.useEffect(()=>{if(r){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[r]);let y=()=>{i(!0)},x=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,m,{}]:[s,m,{onFocus:sa(a,y),onBlur:sa(l,x),onMouseEnter:sa(c,y),onMouseLeave:sa(d,x),onTouchStart:sa(h,y)}]:[!1,m,{}]}function sa(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function O2({page:t,...e}){let{router:n}=D2(),r=C.useMemo(()=>m1(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?C.createElement(j2,{page:t,matches:r,...e}):null}function L2(t){let{manifest:e,routeModules:n}=S1(),[r,i]=C.useState([]);return C.useEffect(()=>{let s=!1;return I2(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function j2({page:t,matches:e,...n}){let r=xr(),{manifest:i,routeModules:s}=S1(),{loaderData:o,matches:a}=M2(),l=C.useMemo(()=>Hw(t,e,a,i,r,"data"),[t,e,a,i,r]),c=C.useMemo(()=>Hw(t,e,a,i,r,"assets"),[t,e,a,i,r]),d=C.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let y=new Set,x=!1;if(e.forEach(I=>{var _;let v=i.routes[I.route.id];!v||!v.hasLoader||(!l.some(E=>E.route.id===I.route.id)&&I.route.id in o&&((_=s[I.route.id])!=null&&_.shouldRevalidate)||v.hasClientLoader?x=!0:y.add(I.route.id))}),y.size===0)return[];let S=N2(t);return x&&y.size>0&&S.searchParams.set("_routes",e.filter(I=>y.has(I.route.id)).map(I=>I.route.id).join(",")),[S.pathname+S.search]},[o,r,i,l,e,t,s]),h=C.useMemo(()=>P2(c,i),[c,i]),m=L2(c);return C.createElement(C.Fragment,null,d.map(y=>C.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),h.map(y=>C.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),m.map(({key:y,link:x})=>C.createElement("link",{key:y,...x})))}function F2(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var k1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{k1&&(window.__reactRouterVersion="7.2.0")}catch{}function U2({basename:t,children:e,window:n}){let r=C.useRef();r.current==null&&(r.current=kN({window:n,v5Compat:!0}));let i=r.current,[s,o]=C.useState({action:i.action,location:i.location}),a=C.useCallback(l=>{C.startTransition(()=>o(l))},[o]);return C.useLayoutEffect(()=>i.listen(a),[i,a]),C.createElement(m2,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var b1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,de=C.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h,...m},y){let{basename:x}=C.useContext(An),S=typeof c=="string"&&b1.test(c),I,v=!1;if(typeof c=="string"&&S&&(I=c,k1))try{let b=new URL(window.location.href),P=c.startsWith("//")?new URL(b.protocol+c):new URL(c),R=si(P.pathname,x);P.origin===b.origin&&R!=null?c=R+P.search+P.hash:v=!0}catch{Cn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=XN(c,{relative:i}),[E,N,O]=V2(r,m),M=W2(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function k(b){e&&e(b),b.defaultPrevented||M(b)}let w=C.createElement("a",{...m,...O,href:I||_,onClick:v||s?e:k,ref:F2(y,N),target:l,"data-discover":!S&&n==="render"?"true":void 0});return E&&!S?C.createElement(C.Fragment,null,w,C.createElement(O2,{page:_})):w});de.displayName="Link";var B2=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},d){let h=Rl(o,{relative:c.relative}),m=xr(),y=C.useContext(zd),{navigator:x,basename:S}=C.useContext(An),I=y!=null&&Q2(h)&&a===!0,v=x.encodeLocation?x.encodeLocation(h).pathname:h.pathname,_=m.pathname,E=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(_=_.toLowerCase(),E=E?E.toLowerCase():null,v=v.toLowerCase()),E&&S&&(E=si(E,S)||E);const N=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let O=_===v||!i&&_.startsWith(v)&&_.charAt(N)==="/",M=E!=null&&(E===v||!i&&E.startsWith(v)&&E.charAt(v.length)==="/"),k={isActive:O,isPending:M,isTransitioning:I},w=O?e:void 0,b;typeof r=="function"?b=r(k):b=[r,O?"active":null,M?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let P=typeof s=="function"?s(k):s;return C.createElement(de,{...c,"aria-current":w,className:b,ref:d,style:P,to:o,viewTransition:a},typeof l=="function"?l(k):l)});B2.displayName="NavLink";var z2=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=nc,action:a,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:h,...m},y)=>{let x=G2(),S=q2(a,{relative:c}),I=o.toLowerCase()==="get"?"get":"post",v=typeof a=="string"&&b1.test(a),_=E=>{if(l&&l(E),E.defaultPrevented)return;E.preventDefault();let N=E.nativeEvent.submitter,O=(N==null?void 0:N.getAttribute("formmethod"))||o;x(N||E.currentTarget,{fetcherKey:e,method:O,navigate:n,replace:i,state:s,relative:c,preventScrollReset:d,viewTransition:h})};return C.createElement("form",{ref:y,method:I,action:S,onSubmit:r?l:_,...m,"data-discover":!v&&t==="render"?"true":void 0})});z2.displayName="Form";function $2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I1(t){let e=C.useContext(bo);return Pe(e,$2(t)),e}function W2(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=us(),l=xr(),c=Rl(t,{relative:s});return C.useCallback(d=>{if(x2(d,e)){d.preventDefault();let h=n!==void 0?n:il(l)===il(c);a(t,{replace:h,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,c,n,r,e,t,i,s,o])}var H2=0,K2=()=>`__${String(++H2)}__`;function G2(){let{router:t}=I1("useSubmit"),{basename:e}=C.useContext(An),n=d2();return C.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=S2(r,e);if(i.navigate===!1){let d=i.fetcherKey||K2();await t.fetch(d,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function q2(t,{relative:e}={}){let{basename:n}=C.useContext(An),r=C.useContext(pn);Pe(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Rl(t||".",{relative:e})},o=xr();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let d=a.toString();s.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:rr([n,s.pathname])),il(s)}function Q2(t,e={}){let n=C.useContext(w1);Pe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=I1("useViewTransitionState"),i=Rl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=si(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=si(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Bc(i.pathname,o)!=null||Bc(i.pathname,s)!=null}new TextEncoder;var P1={exports:{}},C1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nl=C;function Y2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var X2=typeof Object.is=="function"?Object.is:Y2,J2=Nl.useSyncExternalStore,Z2=Nl.useRef,eD=Nl.useEffect,tD=Nl.useMemo,nD=Nl.useDebugValue;C1.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=Z2(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=tD(function(){function l(y){if(!c){if(c=!0,d=y,y=r(y),i!==void 0&&o.hasValue){var x=o.value;if(i(x,y))return h=x}return h=y}if(x=h,X2(d,y))return x;var S=r(y);return i!==void 0&&i(x,S)?(d=y,x):(d=y,h=S)}var c=!1,d,h,m=n===void 0?null:n;return[function(){return l(e())},m===null?void 0:function(){return l(m())}]},[e,n,r,i]);var a=J2(t,s[0],s[1]);return eD(function(){o.hasValue=!0,o.value=a},[a]),nD(a),a};P1.exports=C1;var rD=P1.exports;function iD(t){t()}function sD(){let t=null,e=null;return{clear(){t=null,e=null},notify(){iD(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var Kw={notify(){},get:()=>[]};function oD(t,e){let n,r=Kw,i=0,s=!1;function o(S){d();const I=r.subscribe(S);let v=!1;return()=>{v||(v=!0,I(),h())}}function a(){r.notify()}function l(){x.onStateChange&&x.onStateChange()}function c(){return s}function d(){i++,n||(n=t.subscribe(l),r=sD())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Kw)}function m(){s||(s=!0,d())}function y(){s&&(s=!1,h())}const x={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:m,tryUnsubscribe:y,getListeners:()=>r};return x}var aD=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lD=aD(),uD=()=>typeof navigator<"u"&&navigator.product==="ReactNative",cD=uD(),dD=()=>lD||cD?C.useLayoutEffect:C.useEffect,hD=dD(),mf=Symbol.for("react-redux-context"),gf=typeof globalThis<"u"?globalThis:{};function fD(){if(!C.createContext)return{};const t=gf[mf]??(gf[mf]=new Map);let e=t.get(C.createContext);return e||(e=C.createContext(null),t.set(C.createContext,e)),e}var oi=fD();function pD(t){const{children:e,context:n,serverState:r,store:i}=t,s=C.useMemo(()=>{const l=oD(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),o=C.useMemo(()=>i.getState(),[i]);hD(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,o]);const a=n||oi;return C.createElement(a.Provider,{value:s},e)}var mD=pD;function Qg(t=oi){return function(){return C.useContext(t)}}var A1=Qg();function R1(t=oi){const e=t===oi?A1:Qg(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var gD=R1();function yD(t=oi){const e=t===oi?gD:R1(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var wi=yD(),vD=(t,e)=>t===e;function wD(t=oi){const e=t===oi?A1:Qg(t),n=(r,i={})=>{const{equalityFn:s=vD}=typeof i=="function"?{equalityFn:i}:i,o=e(),{store:a,subscription:l,getServerState:c}=o;C.useRef(!0);const d=C.useCallback({[r.name](m){return r(m)}}[r.name],[r]),h=rD.useSyncExternalStoreWithSelector(l.addNestedSub,a.getState,c||a.getState,d,s);return C.useDebugValue(h),h};return Object.assign(n,{withTypes:()=>n}),n}var We=wD();function tt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var _D=typeof Symbol=="function"&&Symbol.observable||"@@observable",Gw=_D,yf=()=>Math.random().toString(36).substring(7).split("").join("."),xD={INIT:`@@redux/INIT${yf()}`,REPLACE:`@@redux/REPLACE${yf()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${yf()}`},zc=xD;function Yg(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function N1(t,e,n){if(typeof t!="function")throw new Error(tt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(tt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(tt(1));return n(N1)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,l=!1;function c(){o===s&&(o=new Map,s.forEach((I,v)=>{o.set(v,I)}))}function d(){if(l)throw new Error(tt(3));return i}function h(I){if(typeof I!="function")throw new Error(tt(4));if(l)throw new Error(tt(5));let v=!0;c();const _=a++;return o.set(_,I),function(){if(v){if(l)throw new Error(tt(6));v=!1,c(),o.delete(_),s=null}}}function m(I){if(!Yg(I))throw new Error(tt(7));if(typeof I.type>"u")throw new Error(tt(8));if(typeof I.type!="string")throw new Error(tt(17));if(l)throw new Error(tt(9));try{l=!0,i=r(i,I)}finally{l=!1}return(s=o).forEach(_=>{_()}),I}function y(I){if(typeof I!="function")throw new Error(tt(10));r=I,m({type:zc.REPLACE})}function x(){const I=h;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(tt(11));function _(){const N=v;N.next&&N.next(d())}return _(),{unsubscribe:I(_)}},[Gw](){return this}}}return m({type:zc.INIT}),{dispatch:m,subscribe:h,getState:d,replaceReducer:y,[Gw]:x}}function ED(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:zc.INIT})>"u")throw new Error(tt(12));if(typeof n(void 0,{type:zc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(tt(13))})}function TD(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{ED(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const c={};for(let d=0;d<r.length;d++){const h=r[d],m=n[h],y=o[h],x=m(y,a);if(typeof x>"u")throw a&&a.type,new Error(tt(14));c[h]=x,l=l||x!==y}return l=l||r.length!==Object.keys(o).length,l?c:o}}function $c(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function SD(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(tt(15))};const o={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},a=t.map(l=>l(o));return s=$c(...a)(i.dispatch),{...i,dispatch:s}}}function kD(t){return Yg(t)&&"type"in t&&typeof t.type=="string"}var D1=Symbol.for("immer-nothing"),qw=Symbol.for("immer-draftable"),Yt=Symbol.for("immer-state");function Tn(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var lo=Object.getPrototypeOf;function Zi(t){return!!t&&!!t[Yt]}function fr(t){var e;return t?M1(t)||Array.isArray(t)||!!t[qw]||!!((e=t.constructor)!=null&&e[qw])||Hd(t)||Kd(t):!1}var bD=Object.prototype.constructor.toString();function M1(t){if(!t||typeof t!="object")return!1;const e=lo(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===bD}function Wc(t,e){Wd(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Wd(t){const e=t[Yt];return e?e.type_:Array.isArray(t)?1:Hd(t)?2:Kd(t)?3:0}function $p(t,e){return Wd(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function V1(t,e,n){const r=Wd(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function ID(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Hd(t){return t instanceof Map}function Kd(t){return t instanceof Set}function Di(t){return t.copy_||t.base_}function Wp(t,e){if(Hd(t))return new Map(t);if(Kd(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=M1(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Yt];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[o]})}return Object.create(lo(t),r)}else{const r=lo(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function Xg(t,e=!1){return Gd(t)||Zi(t)||!fr(t)||(Wd(t)>1&&(t.set=t.add=t.clear=t.delete=PD),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>Xg(r,!0))),t}function PD(){Tn(2)}function Gd(t){return Object.isFrozen(t)}var CD={};function es(t){const e=CD[t];return e||Tn(0,t),e}var sl;function O1(){return sl}function AD(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Qw(t,e){e&&(es("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Hp(t){Kp(t),t.drafts_.forEach(RD),t.drafts_=null}function Kp(t){t===sl&&(sl=t.parent_)}function Yw(t){return sl=AD(sl,t)}function RD(t){const e=t[Yt];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Xw(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Yt].modified_&&(Hp(e),Tn(4)),fr(t)&&(t=Hc(e,t),e.parent_||Kc(e,t)),e.patches_&&es("Patches").generateReplacementPatches_(n[Yt].base_,t,e.patches_,e.inversePatches_)):t=Hc(e,n,[]),Hp(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==D1?t:void 0}function Hc(t,e,n){if(Gd(e))return e;const r=e[Yt];if(!r)return Wc(e,(i,s)=>Jw(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Kc(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),Wc(s,(a,l)=>Jw(t,r,i,a,l,n,o)),Kc(t,i,!1),n&&t.patches_&&es("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function Jw(t,e,n,r,i,s,o){if(Zi(i)){const a=s&&e&&e.type_!==3&&!$p(e.assigned_,r)?s.concat(r):void 0,l=Hc(t,i,a);if(V1(n,r,l),Zi(l))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(fr(i)&&!Gd(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Hc(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Kc(t,i)}}function Kc(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Xg(e,n)}function ND(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:O1(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=Jg;n&&(i=[r],s=ol);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var Jg={get(t,e){if(e===Yt)return t;const n=Di(t);if(!$p(n,e))return DD(t,n,e);const r=n[e];return t.finalized_||!fr(r)?r:r===vf(t.base_,e)?(wf(t),t.copy_[e]=qp(r,t)):r},has(t,e){return e in Di(t)},ownKeys(t){return Reflect.ownKeys(Di(t))},set(t,e,n){const r=L1(Di(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=vf(Di(t),e),s=i==null?void 0:i[Yt];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(ID(n,i)&&(n!==void 0||$p(t.base_,e)))return!0;wf(t),Gp(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return vf(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,wf(t),Gp(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Di(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Tn(11)},getPrototypeOf(t){return lo(t.base_)},setPrototypeOf(){Tn(12)}},ol={};Wc(Jg,(t,e)=>{ol[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});ol.deleteProperty=function(t,e){return ol.set.call(this,t,e,void 0)};ol.set=function(t,e,n){return Jg.set.call(this,t[0],e,n,t[0])};function vf(t,e){const n=t[Yt];return(n?Di(n):t)[e]}function DD(t,e,n){var i;const r=L1(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function L1(t,e){if(!(e in t))return;let n=lo(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=lo(n)}}function Gp(t){t.modified_||(t.modified_=!0,t.parent_&&Gp(t.parent_))}function wf(t){t.copy_||(t.copy_=Wp(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var MD=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(l=s,...c){return o.produce(l,d=>n.call(this,d,...c))}}typeof n!="function"&&Tn(6),r!==void 0&&typeof r!="function"&&Tn(7);let i;if(fr(e)){const s=Yw(this),o=qp(e,void 0);let a=!0;try{i=n(o),a=!1}finally{a?Hp(s):Kp(s)}return Qw(s,r),Xw(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===D1&&(i=void 0),this.autoFreeze_&&Xg(i,!0),r){const s=[],o=[];es("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else Tn(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,i;return[this.produce(e,n,(o,a)=>{r=o,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){fr(t)||Tn(8),Zi(t)&&(t=VD(t));const e=Yw(this),n=qp(t,void 0);return n[Yt].isManual_=!0,Kp(e),n}finishDraft(t,e){const n=t&&t[Yt];(!n||!n.isManual_)&&Tn(9);const{scope_:r}=n;return Qw(r,e),Xw(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=es("Patches").applyPatches_;return Zi(t)?r(t,e):this.produce(t,i=>r(i,e))}};function qp(t,e){const n=Hd(t)?es("MapSet").proxyMap_(t,e):Kd(t)?es("MapSet").proxySet_(t,e):ND(t,e);return(e?e.scope_:O1()).drafts_.push(n),n}function VD(t){return Zi(t)||Tn(10,t),j1(t)}function j1(t){if(!fr(t)||Gd(t))return t;const e=t[Yt];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Wp(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Wp(t,!0);return Wc(n,(r,i)=>{V1(n,r,j1(i))}),e&&(e.finalized_=!1),n}var Xt=new MD,F1=Xt.produce;Xt.produceWithPatches.bind(Xt);Xt.setAutoFreeze.bind(Xt);Xt.setUseStrictShallowCopy.bind(Xt);Xt.applyPatches.bind(Xt);Xt.createDraft.bind(Xt);Xt.finishDraft.bind(Xt);function U1(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var OD=U1(),LD=U1,jD=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?$c:$c.apply(null,arguments)};function Zw(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(ir(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>kD(r)&&r.type===t,n}var B1=class fa extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,fa.prototype)}static get[Symbol.species](){return fa}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new fa(...e[0].concat(this)):new fa(...e.concat(this))}};function e_(t){return fr(t)?F1(t,()=>{}):t}function t_(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function FD(t){return typeof t=="boolean"}var UD=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new B1;return n&&(FD(n)?o.push(OD):o.push(LD(n.extraArgument))),o},BD="RTK_autoBatch",n_=t=>e=>{setTimeout(e,t)},zD=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:n_(10):t.type==="callback"?t.queueNotification:n_(t.timeout),c=()=>{o=!1,s&&(s=!1,a.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const h=()=>i&&d(),m=r.subscribe(h);return a.add(d),()=>{m(),a.delete(d)}},dispatch(d){var h;try{return i=!((h=d==null?void 0:d.meta)!=null&&h[BD]),s=!i,s&&(o||(o=!0,l(c))),r.dispatch(d)}finally{i=!0}}})},$D=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new B1(t);return r&&i.push(zD(typeof r=="object"?r:void 0)),i};function WD(t){const e=UD(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(Yg(n))a=TD(n);else throw new Error(ir(1));let l;typeof r=="function"?l=r(e):l=e();let c=$c;i&&(c=jD({trace:!1,...typeof i=="object"&&i}));const d=SD(...l),h=$D(d);let m=typeof o=="function"?o(h):h();const y=c(...m);return N1(a,s,y)}function z1(t){const e={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(ir(28));if(a in e)throw new Error(ir(29));return e[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function HD(t){return typeof t=="function"}function KD(t,e){let[n,r,i]=z1(e),s;if(HD(t))s=()=>e_(t());else{const a=e_(t);s=()=>a}function o(a=s(),l){let c=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,h)=>{if(h)if(Zi(d)){const y=h(d,l);return y===void 0?d:y}else{if(fr(d))return F1(d,m=>h(m,l));{const m=h(d,l);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},a)}return o.getInitialState=s,o}var GD=Symbol.for("rtk-slice-createasyncthunk");function qD(t,e){return`${t}/${e}`}function QD({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[GD];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(ir(11));const a=(typeof i.reducers=="function"?i.reducers(XD()):i.reducers)||{},l=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(E,N){const O=typeof E=="string"?E:E.type;if(!O)throw new Error(ir(12));if(O in c.sliceCaseReducersByType)throw new Error(ir(13));return c.sliceCaseReducersByType[O]=N,d},addMatcher(E,N){return c.sliceMatchers.push({matcher:E,reducer:N}),d},exposeAction(E,N){return c.actionCreators[E]=N,d},exposeCaseReducer(E,N){return c.sliceCaseReducersByName[E]=N,d}};l.forEach(E=>{const N=a[E],O={reducerName:E,type:qD(s,E),createNotation:typeof i.reducers=="function"};ZD(N)?tM(O,N,d,e):JD(O,N,d)});function h(){const[E={},N=[],O=void 0]=typeof i.extraReducers=="function"?z1(i.extraReducers):[i.extraReducers],M={...E,...c.sliceCaseReducersByType};return KD(i.initialState,k=>{for(let w in M)k.addCase(w,M[w]);for(let w of c.sliceMatchers)k.addMatcher(w.matcher,w.reducer);for(let w of N)k.addMatcher(w.matcher,w.reducer);O&&k.addDefaultCase(O)})}const m=E=>E,y=new Map;let x;function S(E,N){return x||(x=h()),x(E,N)}function I(){return x||(x=h()),x.getInitialState()}function v(E,N=!1){function O(k){let w=k[E];return typeof w>"u"&&N&&(w=I()),w}function M(k=m){const w=t_(y,N,()=>new WeakMap);return t_(w,k,()=>{const b={};for(const[P,R]of Object.entries(i.selectors??{}))b[P]=YD(R,k,I,N);return b})}return{reducerPath:E,getSelectors:M,get selectors(){return M(O)},selectSlice:O}}const _={name:s,reducer:S,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:I,...v(o),injectInto(E,{reducerPath:N,...O}={}){const M=N??o;return E.inject({reducerPath:M,reducer:S},O),{..._,...v(M,!0)}}};return _}}function YD(t,e,n,r){function i(s,...o){let a=e(s);return typeof a>"u"&&r&&(a=n()),t(a,...o)}return i.unwrapped=t,i}var Zg=QD();function XD(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function JD({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!eM(r))throw new Error(ir(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?Zw(t,o):Zw(t))}function ZD(t){return t._reducerDefinitionType==="asyncThunk"}function eM(t){return t._reducerDefinitionType==="reducerWithPrepare"}function tM({type:t,reducerName:e},n,r,i){if(!i)throw new Error(ir(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:c,options:d}=n,h=i(t,s,d);r.exposeAction(e,h),o&&r.addCase(h.fulfilled,o),a&&r.addCase(h.pending,a),l&&r.addCase(h.rejected,l),c&&r.addMatcher(h.settled,c),r.exposeCaseReducer(e,{fulfilled:o||Ru,pending:a||Ru,rejected:l||Ru,settled:c||Ru})}function Ru(){}function ir(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const nM={user:null,isAuthenticated:!1,loading:!1,error:null},$1=Zg({name:"auth",initialState:nM,reducers:{setLoading:(t,e)=>{t.loading=e.payload},setUser:(t,e)=>{t.user=e.payload,t.isAuthenticated=!!e.payload,t.loading=!1,t.error=null},setError:(t,e)=>{t.error=e.payload,t.loading=!1},clearError:t=>{t.error=null},logout:t=>{t.user=null,t.isAuthenticated=!1,t.loading=!1,t.error=null}}}),{setLoading:r_,setUser:Ki,setError:Gc,clearError:j8,logout:rM}=$1.actions,iM=$1.reducer,sM={theme:"light",sidebarOpen:!1},W1=Zg({name:"ui",initialState:sM,reducers:{toggleTheme:t=>{t.theme=t.theme==="light"?"dark":"light"},setTheme:(t,e)=>{t.theme=e.payload},toggleSidebar:t=>{t.sidebarOpen=!t.sidebarOpen},setSidebarOpen:(t,e)=>{t.sidebarOpen=e.payload}}}),{toggleTheme:oM,setTheme:F8,toggleSidebar:U8,setSidebarOpen:B8}=W1.actions,aM=W1.reducer,qc=[{id:"1",name:"Julio V",email:"julio.v@earthrated.com",role:"admin",registeredWorkshops:["1","3"]},{id:"2",name:"Jane Smith",email:"jane.smith@example.com",role:"student",registeredWorkshops:["1","2"]},{id:"3",name:"Bob Johnson",email:"bob.johnson@example.com",role:"instructor",registeredWorkshops:["3"]},{id:"4",name:"Alice Brown",email:"alice.brown@example.com",role:"student",registeredWorkshops:["2","4"]},{id:"5",name:"Charlie Davis",email:"charlie.davis@example.com",role:"student",registeredWorkshops:["1","4"]}],Qc=[{id:"1",title:"Introduction to React",description:"Learn the basics of React and build your first component.",instructor:"Bob Johnson",date:"2023-10-15",sessions:4,level:"Beginner",tags:["React","JavaScript","Frontend"],capacity:20,registered:15,materials:["React Docs","CodeSandbox"]},{id:"2",title:"Advanced TypeScript",description:"Deep dive into TypeScript features and advanced type systems.",instructor:"Alice Chen",date:"2023-10-22",sessions:3,level:"Advanced",tags:["TypeScript","JavaScript","Programming"],capacity:15,registered:10,materials:["TypeScript Handbook","GitHub Repo"]},{id:"3",title:"Firebase Fundamentals",description:"Learn how to integrate Firebase into your web applications.",instructor:"David Kim",date:"2023-11-05",sessions:2,level:"Intermediate",tags:["Firebase","Backend","Database"],capacity:25,registered:18,materials:["Firebase Documentation","Sample Code"]},{id:"4",title:"UI/UX Design Principles",description:"Understand the core principles of effective UI/UX design.",instructor:"Emma Wilson",date:"2023-11-12",sessions:5,level:"Beginner",tags:["Design","UI","UX"],capacity:30,registered:25,materials:["Figma Templates","Design Guidelines"]},{id:"5",title:"Node.js API Development",description:"Build robust APIs with Node.js and Express.",instructor:"Frank Thomas",date:"2023-11-19",sessions:4,level:"Intermediate",tags:["Node.js","API","Backend"],capacity:20,registered:12,materials:["API Documentation","GitHub Repo"]}],lM=()=>{const t="julio.v@earthrated.com";return qc.find(e=>e.email===t)||qc[0]},uM=()=>(console.log("Mock data initialized"),localStorage.setItem("mockUsers",JSON.stringify(qc)),localStorage.setItem("mockWorkshops",JSON.stringify(Qc)),{users:qc,workshops:Qc}),cM={workshops:[],filteredWorkshops:[],loading:!1,error:null,filters:{search:"",difficulty:null,topic:null,sortBy:"date"}},H1=Zg({name:"workshops",initialState:cM,reducers:{setWorkshops(t,e){t.workshops=e.payload,t.filteredWorkshops=e.payload,t.loading=!1},setLoading(t,e){t.loading=e.payload},setError(t,e){t.error=e.payload,t.loading=!1},fetchWorkshopsStart(t){t.loading=!0,t.error=null},fetchWorkshopsSuccess(t,e){t.workshops=e.payload,t.filteredWorkshops=e.payload,t.loading=!1},fetchWorkshopsFailure(t,e){t.loading=!1,t.error=e.payload},filterWorkshops(t,e){const{search:n,level:r,tags:i}=e.payload;t.filteredWorkshops=t.workshops.filter(s=>!(n&&!s.title.toLowerCase().includes(n.toLowerCase())&&!s.description.toLowerCase().includes(n.toLowerCase())||r&&s.level!==r||i&&i.length>0&&!i.every(a=>s.tags.includes(a))))},setFilter(t,e){const{key:n,value:r}=e.payload;t.filters={...t.filters,[n]:r}},clearFilters(t){t.filters={search:"",difficulty:null,topic:null,sortBy:"date"},t.filteredWorkshops=t.workshops},registerForWorkshop(t,e){const n=e.payload,r=t.workshops.find(i=>i.id===n);if(r&&r.registered<r.capacity){r.registered+=1;const s=Qc.map(o=>o.id===n?{...o,registered:o.registered+1}:o);localStorage.setItem("workshops",JSON.stringify(s))}}}}),{setWorkshops:dM,setLoading:hM,setError:fM,fetchWorkshopsStart:z8,fetchWorkshopsSuccess:$8,fetchWorkshopsFailure:W8,filterWorkshops:pM,setFilter:Nu,clearFilters:mM,registerForWorkshop:H8}=H1.actions,gM=H1.reducer,yM=WD({reducer:{auth:iM,ui:aM,workshops:gM}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Be=(t,e)=>{const n=C.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>C.createElement("svg",{ref:d,...vM,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${wM(t)}`,a].join(" "),...c},[...e.map(([h,m])=>C.createElement(h,m)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=Be("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=Be("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=Be("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=Be("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=Be("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=Be("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=Be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=Be("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=Be("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=Be("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=Be("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=Be("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=Be("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=Be("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=Be("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=Be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=Be("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=Be("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=Be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=Be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=Be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),X1=C.createContext({});function NM(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const ty=C.createContext(null),J1=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function DM(t=!0){const e=C.useContext(ty);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=C.useId();C.useEffect(()=>{if(t)return i(s)},[t]);const o=C.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const ny=typeof window<"u",MM=ny?C.useLayoutEffect:C.useEffect,qt=t=>t;let Z1=qt;function ry(t){let e;return()=>(e===void 0&&(e=t()),e)}const uo=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},sr=t=>t*1e3,or=t=>t/1e3,VM={useManualTiming:!1},Du=["read","resolveKeyframes","update","preRender","render","postRender"],i_={value:null};function OM(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(h){o.has(h)&&(d.schedule(h),t()),l++,h(a)}const d={schedule:(h,m=!1,y=!1)=>{const S=y&&i?n:r;return m&&o.add(h),S.has(h)||S.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),e&&i_.value&&i_.value.frameloop[e].push(l),l=0,n.clear(),i=!1,s&&(s=!1,d.process(h))}};return d}const LM=40;function ek(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Du.reduce((v,_)=>(v[_]=OM(s,e?_:void 0),v),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:h,postRender:m}=o,y=()=>{const v=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(v-i.timestamp,LM),1),i.timestamp=v,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),d.process(i),h.process(i),m.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(y))},x=()=>{n=!0,r=!0,i.isProcessing||t(y)};return{schedule:Du.reduce((v,_)=>{const E=o[_];return v[_]=(N,O=!1,M=!1)=>(n||x(),E.schedule(N,O,M)),v},{}),cancel:v=>{for(let _=0;_<Du.length;_++)o[Du[_]].cancel(v)},state:i,steps:o}}const{schedule:xe,cancel:ai,state:rt,steps:_f}=ek(typeof requestAnimationFrame<"u"?requestAnimationFrame:qt,!0),tk=C.createContext({strict:!1}),s_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},co={};for(const t in s_)co[t]={isEnabled:e=>s_[t].some(n=>!!e[n])};function jM(t){for(const e in t)co[e]={...co[e],...t[e]}}const FM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Yc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||FM.has(t)}let nk=t=>!Yc(t);function UM(t){t&&(nk=e=>e.startsWith("on")?!Yc(e):t(e))}try{UM(require("@emotion/is-prop-valid").default)}catch{}function BM(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(nk(i)||n===!0&&Yc(i)||!e&&!Yc(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function zM(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Qd=C.createContext({});function Yd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function al(t){return typeof t=="string"||Array.isArray(t)}const iy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],sy=["initial",...iy];function Xd(t){return Yd(t.animate)||sy.some(e=>al(t[e]))}function rk(t){return!!(Xd(t)||t.variants)}function $M(t,e){if(Xd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||al(n)?n:void 0,animate:al(r)?r:void 0}}return t.inherit!==!1?e:{}}function WM(t){const{initial:e,animate:n}=$M(t,C.useContext(Qd));return C.useMemo(()=>({initial:e,animate:n}),[o_(e),o_(n)])}function o_(t){return Array.isArray(t)?t.join(" "):t}const HM=Symbol.for("motionComponentSymbol");function Fs(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function KM(t,e,n){return C.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Fs(n)&&(n.current=r))},[e])}const oy=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),GM="framerAppearId",ik="data-"+oy(GM),{schedule:ay}=ek(queueMicrotask,!1),sk=C.createContext({});function qM(t,e,n,r,i){var s,o;const{visualElement:a}=C.useContext(Qd),l=C.useContext(tk),c=C.useContext(ty),d=C.useContext(J1).reducedMotion,h=C.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const m=h.current,y=C.useContext(sk);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&QM(h.current,n,i,y);const x=C.useRef(!1);C.useInsertionEffect(()=>{m&&x.current&&m.update(n,c)});const S=n[ik],I=C.useRef(!!S&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,S))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,S)));return MM(()=>{m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),ay.render(m.render),I.current&&m.animationState&&m.animationState.animateChanges())}),C.useEffect(()=>{m&&(!I.current&&m.animationState&&m.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,S)}),I.current=!1))}),m}function QM(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:ok(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Fs(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function ok(t){if(t)return t.options.allowProjection!==!1?t.projection:ok(t.parent)}function YM({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var s,o;t&&jM(t);function a(c,d){let h;const m={...C.useContext(J1),...c,layoutId:XM(c)},{isStatic:y}=m,x=WM(c),S=r(c,y);if(!y&&ny){JM();const I=ZM(m);h=I.MeasureLayout,x.visualElement=qM(i,S,m,e,I.ProjectionNode)}return p.jsxs(Qd.Provider,{value:x,children:[h&&x.visualElement?p.jsx(h,{visualElement:x.visualElement,...m}):null,n(i,c,KM(S,x.visualElement,d),S,y,x.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const l=C.forwardRef(a);return l[HM]=i,l}function XM({layoutId:t}){const e=C.useContext(X1).id;return e&&t!==void 0?e+"-"+t:t}function JM(t,e){C.useContext(tk).strict}function ZM(t){const{drag:e,layout:n}=co;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const ak=t=>e=>typeof e=="string"&&e.startsWith(t),ly=ak("--"),eV=ak("var(--"),uy=t=>eV(t)?tV.test(t.split("/*")[0].trim()):!1,tV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ll={};function nV(t){for(const e in t)ll[e]=t[e],ly(e)&&(ll[e].isCSSVariable=!0)}const Po=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],cs=new Set(Po);function lk(t,{layout:e,layoutId:n}){return cs.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ll[t]||t==="opacity")}const _t=t=>!!(t&&t.getVelocity),uk=(t,e)=>e&&typeof t=="number"?e.transform(t):t,pr=(t,e,n)=>n>e?e:n<t?t:n,Co={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ul={...Co,transform:t=>pr(0,1,t)},Mu={...Co,default:1},Ml=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Rr=Ml("deg"),jn=Ml("%"),X=Ml("px"),rV=Ml("vh"),iV=Ml("vw"),a_={...jn,parse:t=>jn.parse(t)/100,transform:t=>jn.transform(t*100)},sV={borderWidth:X,borderTopWidth:X,borderRightWidth:X,borderBottomWidth:X,borderLeftWidth:X,borderRadius:X,radius:X,borderTopLeftRadius:X,borderTopRightRadius:X,borderBottomRightRadius:X,borderBottomLeftRadius:X,width:X,maxWidth:X,height:X,maxHeight:X,top:X,right:X,bottom:X,left:X,padding:X,paddingTop:X,paddingRight:X,paddingBottom:X,paddingLeft:X,margin:X,marginTop:X,marginRight:X,marginBottom:X,marginLeft:X,backgroundPositionX:X,backgroundPositionY:X},oV={rotate:Rr,rotateX:Rr,rotateY:Rr,rotateZ:Rr,scale:Mu,scaleX:Mu,scaleY:Mu,scaleZ:Mu,skew:Rr,skewX:Rr,skewY:Rr,distance:X,translateX:X,translateY:X,translateZ:X,x:X,y:X,z:X,perspective:X,transformPerspective:X,opacity:ul,originX:a_,originY:a_,originZ:X},l_={...Co,transform:Math.round},cy={...sV,...oV,zIndex:l_,size:X,fillOpacity:ul,strokeOpacity:ul,numOctaves:l_},aV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},lV=Po.length;function uV(t,e,n){let r="",i=!0;for(let s=0;s<lV;s++){const o=Po[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=uk(a,cy[o]);if(!l){i=!1;const d=aV[o]||o;r+=`${d}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function dy(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(cs.has(l)){o=!0;continue}else if(ly(l)){i[l]=c;continue}else{const d=uk(c,cy[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=uV(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${c} ${d}`}}const hy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ck(t,e,n){for(const r in e)!_t(e[r])&&!lk(r,n)&&(t[r]=e[r])}function cV({transformTemplate:t},e){return C.useMemo(()=>{const n=hy();return dy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function dV(t,e){const n=t.style||{},r={};return ck(r,n,t),Object.assign(r,cV(t,e)),r}function hV(t,e){const n={},r=dV(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const fV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fy(t){return typeof t!="string"||t.includes("-")?!1:!!(fV.indexOf(t)>-1||/[A-Z]/u.test(t))}const pV={offset:"stroke-dashoffset",array:"stroke-dasharray"},mV={offset:"strokeDashoffset",array:"strokeDasharray"};function gV(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?pV:mV;t[s.offset]=X.transform(-r);const o=X.transform(e),a=X.transform(n);t[s.array]=`${o} ${a}`}function u_(t,e,n){return typeof t=="string"?t:X.transform(e+n*t)}function yV(t,e,n){const r=u_(e,t.x,t.width),i=u_(n,t.y,t.height);return`${r} ${i}`}function py(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,h){if(dy(t,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:y,dimensions:x}=t;m.transform&&(x&&(y.transform=m.transform),delete m.transform),x&&(i!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=yV(x,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&gV(m,o,a,l,!1)}const dk=()=>({...hy(),attrs:{}}),my=t=>typeof t=="string"&&t.toLowerCase()==="svg";function vV(t,e,n,r){const i=C.useMemo(()=>{const s=dk();return py(s,e,my(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};ck(s,t.style,t),i.style={...s,...i.style}}return i}function wV(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(fy(n)?vV:hV)(r,s,o,n),c=BM(r,typeof n=="string",t),d=n!==C.Fragment?{...c,...l,ref:i}:{},{children:h}=r,m=C.useMemo(()=>_t(h)?h.get():h,[h]);return C.createElement(n,{...d,children:m})}}function c_(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function gy(t,e,n,r){if(typeof e=="function"){const[i,s]=c_(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=c_(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const Yp=t=>Array.isArray(t),_V=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),xV=t=>Yp(t)?t[t.length-1]||0:t;function ic(t){const e=_t(t)?t.get():t;return _V(e)?e.toValue():e}function EV({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const o={latestValues:TV(r,i,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const hk=t=>(e,n)=>{const r=C.useContext(Qd),i=C.useContext(ty),s=()=>EV(t,e,r,i);return n?s():NM(s)};function TV(t,e,n,r){const i={},s=r(t,{});for(const m in s)i[m]=ic(s[m]);let{initial:o,animate:a}=t;const l=Xd(t),c=rk(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!Yd(h)){const m=Array.isArray(h)?h:[h];for(let y=0;y<m.length;y++){const x=gy(t,m[y]);if(x){const{transitionEnd:S,transition:I,...v}=x;for(const _ in v){let E=v[_];if(Array.isArray(E)){const N=d?E.length-1:0;E=E[N]}E!==null&&(i[_]=E)}for(const _ in S)i[_]=S[_]}}}return i}function yy(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(_t(i[o])||e.style&&_t(e.style[o])||lk(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}const SV={useVisualState:hk({scrapeMotionValuesFromProps:yy,createRenderState:hy})};function fk(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function pk(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const mk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function gk(t,e,n,r){pk(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(mk.has(i)?i:oy(i),e.attrs[i])}function yk(t,e,n){const r=yy(t,e,n);for(const i in t)if(_t(t[i])||_t(e[i])){const s=Po.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const d_=["x","y","width","height","cx","cy","r"],kV={useVisualState:hk({scrapeMotionValuesFromProps:yk,createRenderState:dk,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in i)if(cs.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<d_.length;a++){const l=d_[a];t[l]!==e[l]&&(o=!0)}o&&xe.read(()=>{fk(n,r),xe.render(()=>{py(r,i,my(n.tagName),t.transformTemplate),gk(n,r)})})}})};function bV(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...fy(r)?kV:SV,preloadedFeatures:t,useRender:wV(i),createVisualElement:e,Component:r};return YM(o)}}function cl(t,e,n){const r=t.getProps();return gy(r,e,n!==void 0?n:r.custom,t)}const IV=ry(()=>window.ScrollTimeline!==void 0);class PV{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(IV()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class CV extends PV{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function vy(t,e){return t?t[e]||t.default||t:void 0}const Xp=2e4;function vk(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Xp;)e+=n,r=t.next(e);return e>=Xp?1/0:e}function wy(t){return typeof t=="function"}function h_(t,e){t.timeline=e,t.onfinish=null}const _y=t=>Array.isArray(t)&&typeof t[0]=="number",AV={linearEasing:void 0};function RV(t,e){const n=ry(t);return()=>{var r;return(r=AV[e])!==null&&r!==void 0?r:n()}}const Xc=RV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),wk=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(uo(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function _k(t){return!!(typeof t=="function"&&Xc()||!t||typeof t=="string"&&(t in Jp||Xc())||_y(t)||Array.isArray(t)&&t.every(_k))}const pa=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Jp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:pa([0,.65,.55,1]),circOut:pa([.55,0,1,.45]),backIn:pa([.31,.01,.66,-.59]),backOut:pa([.33,1.53,.69,.99])};function xk(t,e){if(t)return typeof t=="function"&&Xc()?wk(t,e):_y(t)?pa(t):Array.isArray(t)?t.map(n=>xk(n,e)||Jp.easeOut):Jp[t]}const wn={x:!1,y:!1};function Ek(){return wn.x||wn.y}function NV(t,e,n){var r;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function Tk(t,e){const n=NV(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function f_(t){return!(t.pointerType==="touch"||Ek())}function DV(t,e,n={}){const[r,i,s]=Tk(t,n),o=a=>{if(!f_(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const d=h=>{f_(h)&&(c(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}function Ra(t,e){const n=`${e}PointerCapture`;if(t.target instanceof Element&&n in t.target&&t.pointerId!==void 0)try{t.target[n](t.pointerId)}catch{}}const Sk=(t,e)=>e?t===e?!0:Sk(t,e.parentElement):!1,xy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,MV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function VV(t){return MV.has(t.tagName)||t.tabIndex!==-1}const ma=new WeakSet;function p_(t){return e=>{e.key==="Enter"&&t(e)}}function xf(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const OV=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=p_(()=>{if(ma.has(n))return;xf(n,"down");const i=p_(()=>{xf(n,"up")}),s=()=>xf(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function m_(t){return xy(t)&&!Ek()}function LV(t,e,n={}){const[r,i,s]=Tk(t,n),o=a=>{const l=a.currentTarget;if(!l||!m_(a)||ma.has(l))return;ma.add(l),Ra(a,"set");const c=e(l,a),d=(y,x)=>{l.removeEventListener("pointerup",h),l.removeEventListener("pointercancel",m),Ra(y,"release"),!(!m_(y)||!ma.has(l))&&(ma.delete(l),typeof c=="function"&&c(y,{success:x}))},h=y=>{(y.isTrusted?jV(y,l instanceof Element?l.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?d(y,!1):d(y,!(l instanceof Element)||Sk(l,y.target))},m=y=>{d(y,!1)};l.addEventListener("pointerup",h,i),l.addEventListener("pointercancel",m,i),l.addEventListener("lostpointercapture",m,i)};return r.forEach(a=>{a=n.useGlobalTarget?window:a;let l=!1;a instanceof HTMLElement&&(l=!0,!VV(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0)),a.addEventListener("pointerdown",o,i),l&&a.addEventListener("focus",c=>OV(c,i),i)}),s}function jV(t,e){return t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom}function FV(t){return t==="x"||t==="y"?wn[t]?null:(wn[t]=!0,()=>{wn[t]=!1}):wn.x||wn.y?null:(wn.x=wn.y=!0,()=>{wn.x=wn.y=!1})}const kk=new Set(["width","height","top","left","right","bottom",...Po]);let sc;function UV(){sc=void 0}const Fn={now:()=>(sc===void 0&&Fn.set(rt.isProcessing||VM.useManualTiming?rt.timestamp:performance.now()),sc),set:t=>{sc=t,queueMicrotask(UV)}};function Ey(t,e){t.indexOf(e)===-1&&t.push(e)}function Ty(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Sy{constructor(){this.subscriptions=[]}add(e){return Ey(this.subscriptions,e),()=>Ty(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function bk(t,e){return e?t*(1e3/e):0}const g_=30,BV=t=>!isNaN(parseFloat(t));class zV{constructor(e,n={}){this.version="12.4.10",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Fn.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Fn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=BV(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Sy);const r=this.events[e].add(n);return e==="change"?()=>{r(),xe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Fn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>g_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,g_);return bk(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function dl(t,e){return new zV(t,e)}function $V(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,dl(n))}function WV(t,e){const n=cl(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=xV(s[o]);$V(t,o,a)}}function HV(t){return!!(_t(t)&&t.add)}function Zp(t,e){const n=t.getValue("willChange");if(HV(n))return n.add(e)}function Ik(t){return t.props[ik]}const Pk=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,KV=1e-7,GV=12;function qV(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=Pk(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>KV&&++a<GV);return o}function Vl(t,e,n,r){if(t===e&&n===r)return qt;const i=s=>qV(s,0,1,t,n);return s=>s===0||s===1?s:Pk(i(s),e,r)}const Ck=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Ak=t=>e=>1-t(1-e),Rk=Vl(.33,1.53,.69,.99),ky=Ak(Rk),Nk=Ck(ky),Dk=t=>(t*=2)<1?.5*ky(t):.5*(2-Math.pow(2,-10*(t-1))),by=t=>1-Math.sin(Math.acos(t)),Mk=Ak(by),Vk=Ck(by),Ok=t=>/^0[^.\s]+$/u.test(t);function QV(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Ok(t):!0}const Na=t=>Math.round(t*1e5)/1e5,Iy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function YV(t){return t==null}const XV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Py=(t,e)=>n=>!!(typeof n=="string"&&XV.test(n)&&n.startsWith(t)||e&&!YV(n)&&Object.prototype.hasOwnProperty.call(n,e)),Lk=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(Iy);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},JV=t=>pr(0,255,t),Ef={...Co,transform:t=>Math.round(JV(t))},Ui={test:Py("rgb","red"),parse:Lk("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Ef.transform(t)+", "+Ef.transform(e)+", "+Ef.transform(n)+", "+Na(ul.transform(r))+")"};function ZV(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const em={test:Py("#"),parse:ZV,transform:Ui.transform},Us={test:Py("hsl","hue"),parse:Lk("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+jn.transform(Na(e))+", "+jn.transform(Na(n))+", "+Na(ul.transform(r))+")"},gt={test:t=>Ui.test(t)||em.test(t)||Us.test(t),parse:t=>Ui.test(t)?Ui.parse(t):Us.test(t)?Us.parse(t):em.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ui.transform(t):Us.transform(t)},eO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function tO(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Iy))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(eO))===null||n===void 0?void 0:n.length)||0)>0}const jk="number",Fk="color",nO="var",rO="var(",y_="${}",iO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hl(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(iO,l=>(gt.test(l)?(r.color.push(s),i.push(Fk),n.push(gt.parse(l))):l.startsWith(rO)?(r.var.push(s),i.push(nO),n.push(l)):(r.number.push(s),i.push(jk),n.push(parseFloat(l))),++s,y_)).split(y_);return{values:n,split:a,indexes:r,types:i}}function Uk(t){return hl(t).values}function Bk(t){const{split:e,types:n}=hl(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===jk?s+=Na(i[o]):a===Fk?s+=gt.transform(i[o]):s+=i[o]}return s}}const sO=t=>typeof t=="number"?0:t;function oO(t){const e=Uk(t);return Bk(t)(e.map(sO))}const li={test:tO,parse:Uk,createTransformer:Bk,getAnimatableNone:oO},aO=new Set(["brightness","contrast","saturate","opacity"]);function lO(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Iy)||[];if(!r)return t;const i=n.replace(r,"");let s=aO.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const uO=/\b([a-z-]*)\(.*?\)/gu,tm={...li,getAnimatableNone:t=>{const e=t.match(uO);return e?e.map(lO).join(" "):t}},cO={...cy,color:gt,backgroundColor:gt,outlineColor:gt,fill:gt,stroke:gt,borderColor:gt,borderTopColor:gt,borderRightColor:gt,borderBottomColor:gt,borderLeftColor:gt,filter:tm,WebkitFilter:tm},Cy=t=>cO[t];function zk(t,e){let n=Cy(t);return n!==tm&&(n=li),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const dO=new Set(["auto","none","0"]);function hO(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!dO.has(s)&&hl(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=zk(n,i)}const v_=t=>t===Co||t===X,w_=(t,e)=>parseFloat(t.split(", ")[e]),__=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return w_(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?w_(s[1],t):0}},fO=new Set(["x","y","z"]),pO=Po.filter(t=>!fO.has(t));function mO(t){const e=[];return pO.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ho={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:__(4,13),y:__(5,14)};ho.translateX=ho.x;ho.translateY=ho.y;const Gi=new Set;let nm=!1,rm=!1;function $k(){if(rm){const t=Array.from(Gi).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=mO(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}rm=!1,nm=!1,Gi.forEach(t=>t.complete()),Gi.clear()}function Wk(){Gi.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(rm=!0)})}function gO(){Wk(),$k()}class Ay{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Gi.add(this),nm||(nm=!0,xe.read(Wk),xe.resolveKeyframes($k))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Gi.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Gi.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Hk=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),yO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function vO(t){const e=yO.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function Kk(t,e,n=1){const[r,i]=vO(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return Hk(o)?parseFloat(o):o}return uy(i)?Kk(i,e,n+1):i}const Gk=t=>e=>e.test(t),wO={test:t=>t==="auto",parse:t=>t},qk=[Co,X,jn,Rr,iV,rV,wO],x_=t=>qk.find(Gk(t));class Qk extends Ay{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),uy(c))){const d=Kk(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!kk.has(r)||e.length!==2)return;const[i,s]=e,o=x_(i),a=x_(s);if(o!==a)if(v_(o)&&v_(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)QV(e[i])&&r.push(i);r.length&&hO(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ho[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=ho[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const E_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(li.test(t)||t==="0")&&!t.startsWith("url("));function _O(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function xO(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=E_(i,e),a=E_(s,e);return!o||!a?!1:_O(t)||(n==="spring"||wy(n))&&r}const EO=t=>t!==null;function Jd(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(EO),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const TO=40;class Yk{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Fn.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>TO?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&gO(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Fn.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!xO(e,r,i,s))if(o)this.options.duration=0;else{l&&l(Jd(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Ae=(t,e,n)=>t+(e-t)*n;function Tf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function SO({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Tf(l,a,t+1/3),s=Tf(l,a,t),o=Tf(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Jc(t,e){return n=>n>0?e:t}const Sf=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},kO=[em,Ui,Us],bO=t=>kO.find(e=>e.test(t));function T_(t){const e=bO(t);if(!e)return!1;let n=e.parse(t);return e===Us&&(n=SO(n)),n}const S_=(t,e)=>{const n=T_(t),r=T_(e);if(!n||!r)return Jc(t,e);const i={...n};return s=>(i.red=Sf(n.red,r.red,s),i.green=Sf(n.green,r.green,s),i.blue=Sf(n.blue,r.blue,s),i.alpha=Ae(n.alpha,r.alpha,s),Ui.transform(i))},IO=(t,e)=>n=>e(t(n)),Ol=(...t)=>t.reduce(IO),im=new Set(["none","hidden"]);function PO(t,e){return im.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function CO(t,e){return n=>Ae(t,e,n)}function Ry(t){return typeof t=="number"?CO:typeof t=="string"?uy(t)?Jc:gt.test(t)?S_:NO:Array.isArray(t)?Xk:typeof t=="object"?gt.test(t)?S_:AO:Jc}function Xk(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>Ry(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function AO(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Ry(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function RO(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const NO=(t,e)=>{const n=li.createTransformer(e),r=hl(t),i=hl(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?im.has(t)&&!i.values.length||im.has(e)&&!r.values.length?PO(t,e):Ol(Xk(RO(r,i),i.values),n):Jc(t,e)};function Jk(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ae(t,e,n):Ry(t)(t,e)}const DO=5;function Zk(t,e,n){const r=Math.max(e-DO,0);return bk(n-t(r),e-r)}const Ve={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},k_=.001;function MO({duration:t=Ve.duration,bounce:e=Ve.bounce,velocity:n=Ve.velocity,mass:r=Ve.mass}){let i,s,o=1-e;o=pr(Ve.minDamping,Ve.maxDamping,o),t=pr(Ve.minDuration,Ve.maxDuration,or(t)),o<1?(i=c=>{const d=c*o,h=d*t,m=d-n,y=sm(c,o),x=Math.exp(-h);return k_-m/y*x},s=c=>{const h=c*o*t,m=h*n+n,y=Math.pow(o,2)*Math.pow(c,2)*t,x=Math.exp(-h),S=sm(Math.pow(c,2),o);return(-i(c)+k_>0?-1:1)*((m-y)*x)/S}):(i=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-.001+d*h},s=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const a=5/t,l=OO(i,s,a);if(t=sr(t),isNaN(l))return{stiffness:Ve.stiffness,damping:Ve.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const VO=12;function OO(t,e,n){let r=n;for(let i=1;i<VO;i++)r=r-t(r)/e(r);return r}function sm(t,e){return t*Math.sqrt(1-e*e)}const LO=["duration","bounce"],jO=["stiffness","damping","mass"];function b_(t,e){return e.some(n=>t[n]!==void 0)}function FO(t){let e={velocity:Ve.velocity,stiffness:Ve.stiffness,damping:Ve.damping,mass:Ve.mass,isResolvedFromDuration:!1,...t};if(!b_(t,jO)&&b_(t,LO))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*pr(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ve.mass,stiffness:i,damping:s}}else{const n=MO(t);e={...e,...n,mass:Ve.mass},e.isResolvedFromDuration=!0}return e}function eb(t=Ve.visualDuration,e=Ve.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:h,velocity:m,isResolvedFromDuration:y}=FO({...n,velocity:-or(n.velocity||0)}),x=m||0,S=c/(2*Math.sqrt(l*d)),I=o-s,v=or(Math.sqrt(l/d)),_=Math.abs(I)<5;r||(r=_?Ve.restSpeed.granular:Ve.restSpeed.default),i||(i=_?Ve.restDelta.granular:Ve.restDelta.default);let E;if(S<1){const O=sm(v,S);E=M=>{const k=Math.exp(-S*v*M);return o-k*((x+S*v*I)/O*Math.sin(O*M)+I*Math.cos(O*M))}}else if(S===1)E=O=>o-Math.exp(-v*O)*(I+(x+v*I)*O);else{const O=v*Math.sqrt(S*S-1);E=M=>{const k=Math.exp(-S*v*M),w=Math.min(O*M,300);return o-k*((x+S*v*I)*Math.sinh(w)+O*I*Math.cosh(w))/O}}const N={calculatedDuration:y&&h||null,next:O=>{const M=E(O);if(y)a.done=O>=h;else{let k=0;S<1&&(k=O===0?sr(x):Zk(E,O,M));const w=Math.abs(k)<=r,b=Math.abs(o-M)<=i;a.done=w&&b}return a.value=a.done?o:M,a},toString:()=>{const O=Math.min(vk(N),Xp),M=wk(k=>N.next(O*k).value,O,30);return O+"ms "+M}};return N}function I_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],m={done:!1,value:h},y=w=>a!==void 0&&w<a||l!==void 0&&w>l,x=w=>a===void 0?l:l===void 0||Math.abs(a-w)<Math.abs(l-w)?a:l;let S=n*e;const I=h+S,v=o===void 0?I:o(I);v!==I&&(S=v-h);const _=w=>-S*Math.exp(-w/r),E=w=>v+_(w),N=w=>{const b=_(w),P=E(w);m.done=Math.abs(b)<=c,m.value=m.done?v:P};let O,M;const k=w=>{y(m.value)&&(O=w,M=eb({keyframes:[m.value,x(m.value)],velocity:Zk(E,w,m.value),damping:i,stiffness:s,restDelta:c,restSpeed:d}))};return k(0),{calculatedDuration:null,next:w=>{let b=!1;return!M&&O===void 0&&(b=!0,N(w),k(w)),O!==void 0&&w>=O?M.next(w-O):(!b&&N(w),m)}}}const UO=Vl(.42,0,1,1),BO=Vl(0,0,.58,1),tb=Vl(.42,0,.58,1),zO=t=>Array.isArray(t)&&typeof t[0]!="number",$O={linear:qt,easeIn:UO,easeInOut:tb,easeOut:BO,circIn:by,circInOut:Vk,circOut:Mk,backIn:ky,backInOut:Nk,backOut:Rk,anticipate:Dk},P_=t=>{if(_y(t)){Z1(t.length===4);const[e,n,r,i]=t;return Vl(e,n,r,i)}else if(typeof t=="string")return $O[t];return t};function WO(t,e,n){const r=[],i=n||Jk,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||qt:e;a=Ol(l,a)}r.push(a)}return r}function HO(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Z1(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=WO(e,r,i),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const m=uo(t[h],t[h+1],d);return a[h](m)};return n?d=>c(pr(t[0],t[s-1],d)):c}function KO(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=uo(0,e,r);t.push(Ae(n,1,i))}}function GO(t){const e=[0];return KO(e,t.length-1),e}function qO(t,e){return t.map(n=>n*e)}function QO(t,e){return t.map(()=>e||tb).splice(0,t.length-1)}function Zc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=zO(r)?r.map(P_):P_(r),s={done:!1,value:e[0]},o=qO(n&&n.length===e.length?n:GO(e),t),a=HO(o,e,{ease:Array.isArray(i)?i:QO(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const YO=t=>{const e=({timestamp:n})=>t(n);return{start:()=>xe.update(e,!0),stop:()=>ai(e),now:()=>rt.isProcessing?rt.timestamp:Fn.now()}},XO={decay:I_,inertia:I_,tween:Zc,keyframes:Zc,spring:eb},JO=t=>t/100;class Ny extends Yk{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||Ay,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=wy(n)?n:XO[n]||Zc;let l,c;a!==Zc&&typeof e[0]!="number"&&(l=Ol(JO,Jk(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=vk(d));const{calculatedDuration:h}=d,m=h+i,y=m*(r+1)-i;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:m,totalDuration:y}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:w}=this.options;return{done:!0,value:w[w.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return s.next(0);const{delay:m,repeat:y,repeatType:x,repeatDelay:S,onUpdate:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const v=this.currentTime-m*(this.speed>=0?1:-1),_=this.speed>=0?v<0:v>d;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let E=this.currentTime,N=s;if(y){const w=Math.min(this.currentTime,d)/h;let b=Math.floor(w),P=w%1;!P&&w>=1&&(P=1),P===1&&b--,b=Math.min(b,y+1),!!(b%2)&&(x==="reverse"?(P=1-P,S&&(P-=S/h)):x==="mirror"&&(N=o)),E=pr(0,1,P)*h}const O=_?{done:!1,value:l[0]}:N.next(E);a&&(O.value=a(O.value));let{done:M}=O;!_&&c!==null&&(M=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return k&&i!==void 0&&(O.value=Jd(l,this.options,i)),I&&I(O.value),k&&this.finish(),O}get duration(){const{resolved:e}=this;return e?or(e.calculatedDuration):0}get time(){return or(this.currentTime)}set time(e){e=sr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=or(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=YO,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const ZO=new Set(["opacity","clipPath","filter","transform"]);function eL(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=xk(a,i);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const tL=ry(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ed=10,nL=2e4;function rL(t){return wy(t.type)||t.type==="spring"||!_k(t.ease)}function iL(t,e){const n=new Ny({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<nL;)r=n.sample(s),i.push(r.value),s+=ed;return{times:void 0,keyframes:i,duration:s-ed,ease:"linear"}}const nb={anticipate:Dk,backInOut:Nk,circInOut:Vk};function sL(t){return t in nb}class C_ extends Yk{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new Qk(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&Xc()&&sL(s)&&(s=nb[s]),rL(this.options)){const{onComplete:h,onUpdate:m,motionValue:y,element:x,...S}=this.options,I=iL(e,S);e=I.keyframes,e.length===1&&(e[1]=e[0]),r=I.duration,i=I.times,s=I.ease,o="keyframes"}const d=eL(a.owner.current,l,e,{...this.options,duration:r,times:i,ease:s});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?(h_(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;a.set(Jd(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return or(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return or(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=sr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return qt;const{animation:r}=n;h_(r,e)}return qt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:h,element:m,...y}=this.options,x=new Ny({...y,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),S=sr(this.time);c.setWithVelocity(x.sample(S-ed).value,x.sample(S).value,ed)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return tL()&&r&&ZO.has(r)&&!l&&!c&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const oL={type:"spring",stiffness:500,damping:25,restSpeed:10},aL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),lL={type:"keyframes",duration:.8},uL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},cL=(t,{keyframes:e})=>e.length>2?lL:cs.has(t)?t.startsWith("scale")?aL(e[1]):oL:uL;function dL({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const Dy=(t,e,n,r={},i,s)=>o=>{const a=vy(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-sr(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:m=>{e.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};dL(a)||(d={...d,...cL(t,d)}),d.duration&&(d.duration=sr(d.duration)),d.repeatDelay&&(d.repeatDelay=sr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!s&&e.get()!==void 0){const m=Jd(d.keyframes,a);if(m!==void 0)return xe.update(()=>{d.onUpdate(m),d.onComplete()}),new CV([])}return!s&&C_.supports(d)?new C_(d):new Ny(d)};function hL({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function rb(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in l){const m=t.getValue(h,(s=t.latestValues[h])!==null&&s!==void 0?s:null),y=l[h];if(y===void 0||d&&hL(d,h))continue;const x={delay:n,...vy(o||{},h)};let S=!1;if(window.MotionHandoffAnimation){const v=Ik(t);if(v){const _=window.MotionHandoffAnimation(v,h,xe);_!==null&&(x.startTime=_,S=!0)}}Zp(t,h),m.start(Dy(h,m,y,t.shouldReduceMotion&&kk.has(h)?{type:!1}:x,t,S));const I=m.animation;I&&c.push(I)}return a&&Promise.all(c).then(()=>{xe.update(()=>{a&&WV(t,a)})}),c}function om(t,e,n={}){var r;const i=cl(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(rb(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:m}=s;return fL(t,e,d+c,h,m,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function fL(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(pL).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(om(c,e,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function pL(t,e){return t.sortNodePosition(e)}function mL(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>om(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=om(t,e,n);else{const i=typeof e=="function"?cl(t,e,n.custom):e;r=Promise.all(rb(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function ib(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const gL=sy.length;function sb(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?sb(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<gL;n++){const r=sy[n],i=t.props[r];(al(i)||i===!1)&&(e[r]=i)}return e}const yL=[...iy].reverse(),vL=iy.length;function wL(t){return e=>Promise.all(e.map(({animation:n,options:r})=>mL(t,n,r)))}function _L(t){let e=wL(t),n=A_(),r=!0;const i=l=>(c,d)=>{var h;const m=cl(t,d,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(m){const{transition:y,transitionEnd:x,...S}=m;c={...c,...S,...x}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,d=sb(t.parent)||{},h=[],m=new Set;let y={},x=1/0;for(let I=0;I<vL;I++){const v=yL[I],_=n[v],E=c[v]!==void 0?c[v]:d[v],N=al(E),O=v===l?_.isActive:null;O===!1&&(x=I);let M=E===d[v]&&E!==c[v]&&N;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),_.protectedKeys={...y},!_.isActive&&O===null||!E&&!_.prevProp||Yd(E)||typeof E=="boolean")continue;const k=xL(_.prevProp,E);let w=k||v===l&&_.isActive&&!M&&N||I>x&&N,b=!1;const P=Array.isArray(E)?E:[E];let R=P.reduce(i(v),{});O===!1&&(R={});const{prevResolvedValues:D={}}=_,A={...D,...R},Ee=pe=>{w=!0,m.has(pe)&&(b=!0,m.delete(pe)),_.needsAnimating[pe]=!0;const F=t.getValue(pe);F&&(F.liveStyle=!1)};for(const pe in A){const F=R[pe],H=D[pe];if(y.hasOwnProperty(pe))continue;let Y=!1;Yp(F)&&Yp(H)?Y=!ib(F,H):Y=F!==H,Y?F!=null?Ee(pe):m.add(pe):F!==void 0&&m.has(pe)?Ee(pe):_.protectedKeys[pe]=!0}_.prevProp=E,_.prevResolvedValues=R,_.isActive&&(y={...y,...R}),r&&t.blockInitialAnimation&&(w=!1),w&&(!(M&&k)||b)&&h.push(...P.map(pe=>({animation:pe,options:{type:v}})))}if(m.size){const I={};if(typeof c.initial!="boolean"){const v=cl(t,Array.isArray(c.initial)?c.initial[0]:c.initial);v&&v.transition&&(I.transition=v.transition)}m.forEach(v=>{const _=t.getBaseTarget(v),E=t.getValue(v);E&&(E.liveStyle=!0),I[v]=_??null}),h.push({animation:I})}let S=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(h):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(m=>{var y;return(y=m.animationState)===null||y===void 0?void 0:y.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=A_(),r=!0}}}function xL(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!ib(e,t):!1}function Pi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function A_(){return{animate:Pi(!0),whileInView:Pi(),whileHover:Pi(),whileTap:Pi(),whileDrag:Pi(),whileFocus:Pi(),exit:Pi()}}class _i{constructor(e){this.isMounted=!1,this.node=e}update(){}}class EL extends _i{constructor(e){super(e),e.animationState||(e.animationState=_L(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Yd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let TL=0;class SL extends _i{constructor(){super(...arguments),this.id=TL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const kL={animation:{Feature:EL},exit:{Feature:SL}};function fl(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ll(t){return{point:{x:t.pageX,y:t.pageY}}}const bL=t=>e=>xy(e)&&t(e,Ll(e));function Bs(t,e,n,r){return fl(t,e,bL(n),r)}function ob({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function IL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function PL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const ab=1e-4,CL=1-ab,AL=1+ab,lb=.01,RL=0-lb,NL=0+lb;function Pt(t){return t.max-t.min}function DL(t,e,n){return Math.abs(t-e)<=n}function R_(t,e,n,r=.5){t.origin=r,t.originPoint=Ae(e.min,e.max,t.origin),t.scale=Pt(n)/Pt(e),t.translate=Ae(n.min,n.max,t.origin)-t.originPoint,(t.scale>=CL&&t.scale<=AL||isNaN(t.scale))&&(t.scale=1),(t.translate>=RL&&t.translate<=NL||isNaN(t.translate))&&(t.translate=0)}function Da(t,e,n,r){R_(t.x,e.x,n.x,r?r.originX:void 0),R_(t.y,e.y,n.y,r?r.originY:void 0)}function N_(t,e,n){t.min=n.min+e.min,t.max=t.min+Pt(e)}function ML(t,e,n){N_(t.x,e.x,n.x),N_(t.y,e.y,n.y)}function D_(t,e,n){t.min=e.min-n.min,t.max=t.min+Pt(e)}function Ma(t,e,n){D_(t.x,e.x,n.x),D_(t.y,e.y,n.y)}const M_=()=>({translate:0,scale:1,origin:0,originPoint:0}),zs=()=>({x:M_(),y:M_()}),V_=()=>({min:0,max:0}),je=()=>({x:V_(),y:V_()});function nn(t){return[t("x"),t("y")]}function kf(t){return t===void 0||t===1}function am({scale:t,scaleX:e,scaleY:n}){return!kf(t)||!kf(e)||!kf(n)}function Mi(t){return am(t)||ub(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function ub(t){return O_(t.x)||O_(t.y)}function O_(t){return t&&t!=="0%"}function td(t,e,n){const r=t-n,i=e*r;return n+i}function L_(t,e,n,r,i){return i!==void 0&&(t=td(t,i,r)),td(t,n,r)+e}function lm(t,e=0,n=1,r,i){t.min=L_(t.min,e,n,r,i),t.max=L_(t.max,e,n,r,i)}function cb(t,{x:e,y:n}){lm(t.x,e.translate,e.scale,e.originPoint),lm(t.y,n.translate,n.scale,n.originPoint)}const j_=.999999999999,F_=1.0000000000001;function VL(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ws(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,cb(t,o)),r&&Mi(s.latestValues)&&Ws(t,s.latestValues))}e.x<F_&&e.x>j_&&(e.x=1),e.y<F_&&e.y>j_&&(e.y=1)}function $s(t,e){t.min=t.min+e,t.max=t.max+e}function U_(t,e,n,r,i=.5){const s=Ae(t.min,t.max,i);lm(t,e,n,s,r)}function Ws(t,e){U_(t.x,e.x,e.scaleX,e.scale,e.originX),U_(t.y,e.y,e.scaleY,e.scale,e.originY)}function db(t,e){return ob(PL(t.getBoundingClientRect(),e))}function OL(t,e,n){const r=db(t,n),{scroll:i}=e;return i&&($s(r.x,i.offset.x),$s(r.y,i.offset.y)),r}const B_=(t,e)=>Math.abs(t-e);function LL(t,e){const n=B_(t.x,e.x),r=B_(t.y,e.y);return Math.sqrt(n**2+r**2)}class hb{constructor(e,n,{transformPagePoint:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=If(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=LL(d.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:y}=d,{timestamp:x}=rt;this.history.push({...y,timestamp:x});const{onStart:S,onMove:I}=this.handlers;h||(S&&S(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),I&&I(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{if(this.index=$_(d.currentTarget),d.target instanceof Element&&d.target.hasPointerCapture&&d.pointerId!==void 0)try{if(!d.target.hasPointerCapture(d.pointerId))return}catch{}this.lastMoveEvent=d,this.lastMoveEventInfo=bf(h,this.transformPagePoint),xe.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{Ra(d,"release"),this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=If(d.type==="pointercancel"||d.type==="lostpointercapture"?this.lastMoveEventInfo:bf(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,S),y&&y(d,S)},!xy(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r;const s=Ll(e),o=bf(s,this.transformPagePoint),{point:a}=o,{timestamp:l}=rt;this.history=[{...a,timestamp:l}];const{onSessionStart:c}=n;c&&c(e,If(o,this.history)),Ra(e,"set"),this.removeListeners=Ol(Bs(e.currentTarget,"pointermove",this.handlePointerMove),Bs(e.currentTarget,"pointerup",this.handlePointerUp),Bs(e.currentTarget,"pointercancel",this.handlePointerUp),Bs(e.currentTarget,"lostpointercapture",(d,h)=>{$_(d.currentTarget)!==this.index?Ra(d,"set"):this.handlePointerUp(d,h)}))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ai(this.updatePoint)}}function bf(t,e){return e?{point:e(t.point)}:t}function z_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function If({point:t},e){return{point:t,delta:z_(t,fb(e)),offset:z_(t,jL(e)),velocity:FL(e,.1)}}function jL(t){return t[0]}function fb(t){return t[t.length-1]}function FL(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=fb(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>sr(e)));)n--;if(!r)return{x:0,y:0};const s=or(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function $_(t){return t.parentNode?Array.from(t.parentNode.children).indexOf(t):-1}function UL(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ae(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ae(n,t,r.max):Math.min(t,n)),t}function W_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function BL(t,{top:e,left:n,bottom:r,right:i}){return{x:W_(t.x,n,i),y:W_(t.y,e,r)}}function H_(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function zL(t,e){return{x:H_(t.x,e.x),y:H_(t.y,e.y)}}function $L(t,e){let n=.5;const r=Pt(t),i=Pt(e);return i>r?n=uo(e.min,e.max-r,t.min):r>i&&(n=uo(t.min,t.max-i,e.min)),pr(0,1,n)}function WL(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const um=.35;function HL(t=um){return t===!1?t=0:t===!0&&(t=um),{x:K_(t,"left","right"),y:K_(t,"top","bottom")}}function K_(t,e,n){return{min:G_(t,e),max:G_(t,n)}}function G_(t,e){return typeof t=="number"?t:t[e]||0}const KL=new WeakMap;class GL{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=je(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ll(d).point)},s=(d,h)=>{const{drag:m,dragPropagation:y,onDragStart:x}=this.getProps();if(m&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=FV(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),nn(I=>{let v=this.getAxisMotionValue(I).get()||0;if(jn.test(v)){const{projection:_}=this.visualElement;if(_&&_.layout){const E=_.layout.layoutBox[I];E&&(v=Pt(E)*(parseFloat(v)/100))}}this.originPoint[I]=v}),x&&xe.postRender(()=>x(d,h)),Zp(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:m,dragDirectionLock:y,onDirectionLock:x,onDrag:S}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:I}=h;if(y&&this.currentDirection===null){this.currentDirection=qL(I),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,I),this.updateAxis("y",h.point,I),this.visualElement.render(),S&&S(d,h)},a=(d,h)=>this.stop(d,h),l=()=>nn(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new hb(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&xe.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Vu(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=UL(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Fs(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=BL(i.layoutBox,n):this.constraints=!1,this.elastic=HL(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&nn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=WL(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Fs(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=OL(r,i.root,this.visualElement.getTransformPagePoint());let o=zL(i.layout.layoutBox,s);if(n){const a=n(IL(o));this.hasMutatedConstraints=!!a,a&&(o=ob(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=nn(d=>{if(!Vu(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const m=i?200:1e6,y=i?40:1e7,x={type:"inertia",velocity:r?e[d]:0,bounceStiffness:m,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,x)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Zp(this.visualElement,e),r.start(Dy(e,r,0,n,this.visualElement,!1))}stopAnimation(){nn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){nn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){nn(n=>{const{drag:r}=this.getProps();if(!Vu(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Ae(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Fs(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};nn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=$L({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),nn(o=>{if(!Vu(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Ae(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;KL.set(this.visualElement,this);const e=this.visualElement.current,n=Bs(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Fs(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),xe.read(r);const o=fl(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(nn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=um,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Vu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function qL(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class QL extends _i{constructor(e){super(e),this.removeGroupControls=qt,this.removeListeners=qt,this.controls=new GL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qt}unmount(){this.removeGroupControls(),this.removeListeners()}}const q_=t=>(e,n)=>{t&&xe.postRender(()=>t(e,n))};class YL extends _i{constructor(){super(...arguments),this.removePointerDownListener=qt}onPointerDown(e){this.session=new hb(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:q_(e),onStart:q_(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&xe.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Bs(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const oc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Q_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const oa={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(X.test(t))t=parseFloat(t);else return t;const n=Q_(t,e.target.x),r=Q_(t,e.target.y);return`${n}% ${r}%`}},XL={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=li.parse(t);if(i.length>5)return r;const s=li.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=Ae(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class JL extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;nV(ZL),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),oc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||xe.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ay.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function pb(t){const[e,n]=DM(),r=C.useContext(X1);return p.jsx(JL,{...t,layoutGroup:r,switchLayoutGroup:C.useContext(sk),isPresent:e,safeToRemove:n})}const ZL={borderRadius:{...oa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:oa,borderTopRightRadius:oa,borderBottomLeftRadius:oa,borderBottomRightRadius:oa,boxShadow:XL};function e4(t,e,n){const r=_t(t)?t:dl(t);return r.start(Dy("",r,e,n)),r.animation}function t4(t){return t instanceof SVGElement&&t.tagName!=="svg"}const n4=(t,e)=>t.depth-e.depth;class r4{constructor(){this.children=[],this.isDirty=!1}add(e){Ey(this.children,e),this.isDirty=!0}remove(e){Ty(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(n4),this.isDirty=!1,this.children.forEach(e)}}function i4(t,e){const n=Fn.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(ai(r),t(s-e))};return xe.read(r,!0),()=>ai(r)}const mb=["TopLeft","TopRight","BottomLeft","BottomRight"],s4=mb.length,Y_=t=>typeof t=="string"?parseFloat(t):t,X_=t=>typeof t=="number"||X.test(t);function o4(t,e,n,r,i,s){i?(t.opacity=Ae(0,n.opacity!==void 0?n.opacity:1,a4(r)),t.opacityExit=Ae(e.opacity!==void 0?e.opacity:1,0,l4(r))):s&&(t.opacity=Ae(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<s4;o++){const a=`border${mb[o]}Radius`;let l=J_(e,a),c=J_(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||X_(l)===X_(c)?(t[a]=Math.max(Ae(Y_(l),Y_(c),r),0),(jn.test(c)||jn.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Ae(e.rotate||0,n.rotate||0,r))}function J_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const a4=gb(0,.5,Mk),l4=gb(.5,.95,qt);function gb(t,e,n){return r=>r<t?0:r>e?1:n(uo(t,e,r))}function Z_(t,e){t.min=e.min,t.max=e.max}function en(t,e){Z_(t.x,e.x),Z_(t.y,e.y)}function ex(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function tx(t,e,n,r,i){return t-=e,t=td(t,1/n,r),i!==void 0&&(t=td(t,1/i,r)),t}function u4(t,e=0,n=1,r=.5,i,s=t,o=t){if(jn.test(e)&&(e=parseFloat(e),e=Ae(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ae(s.min,s.max,r);t===s&&(a-=e),t.min=tx(t.min,e,n,a,i),t.max=tx(t.max,e,n,a,i)}function nx(t,e,[n,r,i],s,o){u4(t,e[n],e[r],e[i],e.scale,s,o)}const c4=["x","scaleX","originX"],d4=["y","scaleY","originY"];function rx(t,e,n,r){nx(t.x,e,c4,n?n.x:void 0,r?r.x:void 0),nx(t.y,e,d4,n?n.y:void 0,r?r.y:void 0)}function ix(t){return t.translate===0&&t.scale===1}function yb(t){return ix(t.x)&&ix(t.y)}function sx(t,e){return t.min===e.min&&t.max===e.max}function h4(t,e){return sx(t.x,e.x)&&sx(t.y,e.y)}function ox(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function vb(t,e){return ox(t.x,e.x)&&ox(t.y,e.y)}function ax(t){return Pt(t.x)/Pt(t.y)}function lx(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class f4{constructor(){this.members=[]}add(e){Ey(this.members,e),e.scheduleRender()}remove(e){if(Ty(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function p4(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:m,skewX:y,skewY:x}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),m&&(r+=`rotateY(${m}deg) `),y&&(r+=`skewX(${y}deg) `),x&&(r+=`skewY(${x}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Pf=["","X","Y","Z"],m4={visibility:"hidden"},ux=1e3;let g4=0;function Cf(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function wb(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Ik(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",xe,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&wb(r)}function _b({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=g4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(w4),this.nodes.forEach(S4),this.nodes.forEach(k4),this.nodes.forEach(_4)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new r4)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Sy),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=t4(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const m=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=i4(m,250),oc.hasAnimatedSinceResize&&(oc.hasAnimatedSinceResize=!1,this.nodes.forEach(dx))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:y,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||d.getDefaultTransition()||A4,{onLayoutAnimationStart:I,onLayoutAnimationComplete:v}=d.getProps(),_=!this.targetLayout||!vb(this.targetLayout,x),E=!m&&y;if(this.options.layoutRoot||this.resumeFrom||E||m&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,E);const N={...vy(S,"layout"),onPlay:I,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else m||dx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ai(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(b4),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&wb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(cx);return}this.isUpdating||this.nodes.forEach(E4),this.isUpdating=!1,this.nodes.forEach(T4),this.nodes.forEach(y4),this.nodes.forEach(v4),this.clearAllSnapshots();const a=Fn.now();rt.delta=pr(0,1e3/60,a-rt.timestamp),rt.timestamp=a,rt.isProcessing=!0,_f.update.process(rt),_f.preRender.process(rt),_f.render.process(rt),rt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ay.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(x4),this.sharedNodes.forEach(I4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Pt(this.snapshot.measuredBox.x)&&!Pt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=je(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!yb(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||Mi(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),R4(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return je();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(N4))){const{scroll:d}=this.root;d&&($s(l.x,d.offset.x),$s(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=je();if(en(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:m}=d;d!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&en(l,o),$s(l.x,h.offset.x),$s(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=je();en(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ws(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Mi(d.latestValues)&&Ws(l,d.latestValues)}return Mi(this.latestValues)&&Ws(l,this.latestValues),l}removeTransform(o){const a=je();en(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Mi(c.latestValues))continue;am(c.latestValues)&&c.updateSnapshot();const d=je(),h=c.measurePageBox();en(d,h),rx(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Mi(this.latestValues)&&rx(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=rt.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=je(),this.relativeTargetOrigin=je(),Ma(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),en(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=je(),this.targetWithTransforms=je()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ML(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):en(this.target,this.layout.layoutBox),cb(this.target,this.targetDelta)):en(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=je(),this.relativeTargetOrigin=je(),Ma(this.relativeTargetOrigin,this.target,y.target),en(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||am(this.parent.latestValues)||ub(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===rt.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;en(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,y=this.treeScale.y;VL(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=je());const{target:x}=a;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ex(this.prevProjectionDelta.x,this.projectionDelta.x),ex(this.prevProjectionDelta.y,this.projectionDelta.y)),Da(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==y||!lx(this.projectionDelta.x,this.prevProjectionDelta.x)||!lx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=zs(),this.projectionDelta=zs(),this.projectionDeltaWithTransform=zs()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=zs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=je(),y=l?l.source:void 0,x=this.layout?this.layout.source:void 0,S=y!==x,I=this.getStack(),v=!I||I.members.length<=1,_=!!(S&&!v&&this.options.crossfade===!0&&!this.path.some(C4));this.animationProgress=0;let E;this.mixTargetDelta=N=>{const O=N/1e3;hx(h.x,o.x,O),hx(h.y,o.y,O),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ma(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),P4(this.relativeTarget,this.relativeTargetOrigin,m,O),E&&h4(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=je()),en(E,this.relativeTarget)),S&&(this.animationValues=d,o4(d,c,this.latestValues,O,_,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ai(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xe.update(()=>{oc.hasAnimatedSinceResize=!0,this.currentAnimation=e4(0,ux,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ux),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&xb(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||je();const h=Pt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const m=Pt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+m}en(a,l),Ws(a,d),Da(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new f4),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Cf("z",o,c,this.animationValues);for(let d=0;d<Pf.length;d++)Cf(`rotate${Pf[d]}`,o,c,this.animationValues),Cf(`skew${Pf[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return m4;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=ic(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=ic(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Mi(this.latestValues)&&(S.transform=d?d({},""):"none",this.hasProjected=!1),S}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=p4(this.projectionDeltaWithTransform,this.treeScale,m),d&&(c.transform=d(m,c.transform));const{x:y,y:x}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${x.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=m.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const S in ll){if(m[S]===void 0)continue;const{correct:I,applyTo:v,isCSSVariable:_}=ll[S],E=c.transform==="none"?m[S]:I(m[S],h);if(v){const N=v.length;for(let O=0;O<N;O++)c[v[O]]=E}else _?this.options.visualElement.renderState.vars[S]=E:c[S]=E}return this.options.layoutId&&(c.pointerEvents=h===this?ic(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(cx),this.root.sharedNodes.clear()}}}function y4(t){t.updateLayout()}function v4(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?nn(h=>{const m=o?n.measuredBox[h]:n.layoutBox[h],y=Pt(m);m.min=r[h].min,m.max=m.min+y}):xb(s,n.layoutBox,r)&&nn(h=>{const m=o?n.measuredBox[h]:n.layoutBox[h],y=Pt(r[h]);m.max=m.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+y)});const a=zs();Da(a,r,n.layoutBox);const l=zs();o?Da(l,t.applyTransform(i,!0),n.measuredBox):Da(l,r,n.layoutBox);const c=!yb(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:y}=h;if(m&&y){const x=je();Ma(x,n.layoutBox,m.layoutBox);const S=je();Ma(S,r,y.layoutBox),vb(x,S)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=x,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function w4(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function _4(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function x4(t){t.clearSnapshot()}function cx(t){t.clearMeasurements()}function E4(t){t.isLayoutDirty=!1}function T4(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function dx(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function S4(t){t.resolveTargetDelta()}function k4(t){t.calcProjection()}function b4(t){t.resetSkewAndRotation()}function I4(t){t.removeLeadSnapshot()}function hx(t,e,n){t.translate=Ae(e.translate,0,n),t.scale=Ae(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function fx(t,e,n,r){t.min=Ae(e.min,n.min,r),t.max=Ae(e.max,n.max,r)}function P4(t,e,n,r){fx(t.x,e.x,n.x,r),fx(t.y,e.y,n.y,r)}function C4(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const A4={duration:.45,ease:[.4,0,.1,1]},px=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),mx=px("applewebkit/")&&!px("chrome/")?Math.round:qt;function gx(t){t.min=mx(t.min),t.max=mx(t.max)}function R4(t){gx(t.x),gx(t.y)}function xb(t,e,n){return t==="position"||t==="preserve-aspect"&&!DL(ax(e),ax(n),.2)}function N4(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const D4=_b({attachResizeListener:(t,e)=>fl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Af={current:void 0},Eb=_b({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Af.current){const t=new D4({});t.mount(window),t.setOptions({layoutScroll:!0}),Af.current=t}return Af.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),M4={pan:{Feature:YL},drag:{Feature:QL,ProjectionNode:Eb,MeasureLayout:pb}};function yx(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&xe.postRender(()=>s(e,Ll(e)))}class V4 extends _i{mount(){const{current:e}=this.node;e&&(this.unmount=DV(e,(n,r)=>(yx(this.node,r,"Start"),i=>yx(this.node,i,"End"))))}unmount(){}}class O4 extends _i{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ol(fl(this.node.current,"focus",()=>this.onFocus()),fl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function vx(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&xe.postRender(()=>s(e,Ll(e)))}class L4 extends _i{mount(){const{current:e}=this.node;e&&(this.unmount=LV(e,(n,r)=>(vx(this.node,r,"Start"),(i,{success:s})=>vx(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const cm=new WeakMap,Rf=new WeakMap,j4=t=>{const e=cm.get(t.target);e&&e(t)},F4=t=>{t.forEach(j4)};function U4({root:t,...e}){const n=t||document;Rf.has(n)||Rf.set(n,{});const r=Rf.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(F4,{root:t,...e})),r[i]}function B4(t,e,n){const r=U4(e);return cm.set(t,n),r.observe(t),()=>{cm.delete(t),r.unobserve(t)}}const z4={some:0,all:1};class $4 extends _i{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:z4[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),m=c?d:h;m&&m(l)};return B4(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(W4(e,n))&&this.startObserver()}unmount(){}}function W4({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const H4={inView:{Feature:$4},tap:{Feature:L4},focus:{Feature:O4},hover:{Feature:V4}},K4={layout:{ProjectionNode:Eb,MeasureLayout:pb}},dm={current:null},Tb={current:!1};function G4(){if(Tb.current=!0,!!ny)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>dm.current=t.matches;t.addListener(e),e()}else dm.current=!1}const q4=[...qk,gt,li],Q4=t=>q4.find(Gk(t)),Y4=new WeakMap;function X4(t,e,n){for(const r in e){const i=e[r],s=n[r];if(_t(i))t.addValue(r,i);else if(_t(s))t.addValue(r,dl(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,dl(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const wx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class J4{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ay,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Fn.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,xe.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:d}=o;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Xd(n),this.isVariantNode=rk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in m){const x=m[y];l[y]!==void 0&&_t(x)&&x.set(l[y],!1)}}mount(e){this.current=e,Y4.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Tb.current||G4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:dm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ai(this.notifyUpdate),ai(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=cs.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&xe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in co){const n=co[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):je()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<wx.length;r++){const i=wx[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=X4(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=dl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Hk(i)||Ok(i))?i=parseFloat(i):!Q4(i)&&li.test(n)&&(i=zk(e,n)),this.setBaseTarget(e,_t(i)?i.get():i)),_t(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=gy(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!_t(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Sy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Sb extends J4{constructor(){super(...arguments),this.KeyframeResolver=Qk}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;_t(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Z4(t){return window.getComputedStyle(t)}class ej extends Sb{constructor(){super(...arguments),this.type="html",this.renderInstance=pk}readValueFromInstance(e,n){if(cs.has(n)){const r=Cy(n);return r&&r.default||0}else{const r=Z4(e),i=(ly(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return db(e,n)}build(e,n,r){dy(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return yy(e,n,r)}}class tj extends Sb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=je,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&fk(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(cs.has(n)){const r=Cy(n);return r&&r.default||0}return n=mk.has(n)?n:oy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return yk(e,n,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&xe.postRender(this.updateDimensions)}build(e,n,r){py(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){gk(e,n,r,i)}mount(e){this.isSVGTag=my(e.tagName),super.mount(e)}}const nj=(t,e)=>fy(t)?new tj(e):new ej(e,{allowProjection:t!==C.Fragment}),rj=bV({...kL,...H4,...M4,...K4},nj),At=zM(rj),_x=()=>{const t=wi(),{theme:e}=We(n=>n.ui);return Qm.useEffect(()=>{e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]),p.jsx(At.button,{className:"p-2 rounded-full bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200",onClick:()=>t(oM()),whileTap:{scale:.9},"aria-label":`Switch to ${e==="light"?"dark":"light"} mode`,children:e==="light"?p.jsx(PM,{size:20}):p.jsx(AM,{size:20})})};function kb(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=kb(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ij(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=kb(t))&&(r&&(r+=" "),r+=e);return r}const My="-",sj=t=>{const e=aj(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(My);return a[0]===""&&a.length!==1&&a.shift(),bb(a,e)||oj(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},bb=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?bb(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(My);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},xx=/^\[(.+)\]$/,oj=t=>{if(xx.test(t)){const e=xx.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},aj=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)hm(n[i],r,i,e);return r},hm=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:Ex(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(lj(i)){hm(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{hm(o,Ex(e,s),n,r)})})},Ex=(t,e)=>{let n=t;return e.split(My).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},lj=t=>t.isThemeGetter,uj=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},fm="!",pm=":",cj=pm.length,dj=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let o=0,a=0,l=0,c;for(let x=0;x<i.length;x++){let S=i[x];if(o===0&&a===0){if(S===pm){s.push(i.slice(l,x)),l=x+cj;continue}if(S==="/"){c=x;continue}}S==="["?o++:S==="]"?o--:S==="("?a++:S===")"&&a--}const d=s.length===0?i:i.substring(l),h=hj(d),m=h!==d,y=c&&c>l?c-l:void 0;return{modifiers:s,hasImportantModifier:m,baseClassName:h,maybePostfixModifierPosition:y}};if(e){const i=e+pm,s=r;r=o=>o.startsWith(i)?s(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},hj=t=>t.endsWith(fm)?t.substring(0,t.length-1):t.startsWith(fm)?t.substring(1):t,fj=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(o=>{o[0]==="["||e[o]?(i.push(...s.sort(),o),s=[]):s.push(o)}),i.push(...s.sort()),i}},pj=t=>({cache:uj(t.cacheSize),parseClassName:dj(t),sortModifiers:fj(t),...sj(t)}),mj=/\s+/,gj=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],a=t.trim().split(mj);let l="";for(let c=a.length-1;c>=0;c-=1){const d=a[c],{isExternal:h,modifiers:m,hasImportantModifier:y,baseClassName:x,maybePostfixModifierPosition:S}=n(d);if(h){l=d+(l.length>0?" "+l:l);continue}let I=!!S,v=r(I?x.substring(0,S):x);if(!v){if(!I){l=d+(l.length>0?" "+l:l);continue}if(v=r(x),!v){l=d+(l.length>0?" "+l:l);continue}I=!1}const _=s(m).join(":"),E=y?_+fm:_,N=E+v;if(o.includes(N))continue;o.push(N);const O=i(v,I);for(let M=0;M<O.length;++M){const k=O[M];o.push(E+k)}l=d+(l.length>0?" "+l:l)}return l};function yj(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Ib(e))&&(r&&(r+=" "),r+=n);return r}const Ib=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Ib(t[r]))&&(n&&(n+=" "),n+=e);return n};function vj(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((d,h)=>h(d),t());return n=pj(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=gj(l,n);return i(l,d),d}return function(){return s(yj.apply(null,arguments))}}const Ye=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Pb=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Cb=/^\((?:(\w[\w-]*):)?(.+)\)$/i,wj=/^\d+\/\d+$/,_j=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ej=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Tj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Sj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xs=t=>wj.test(t),re=t=>!!t&&!Number.isNaN(Number(t)),Ci=t=>!!t&&Number.isInteger(Number(t)),Tx=t=>t.endsWith("%")&&re(t.slice(0,-1)),Pr=t=>_j.test(t),kj=()=>!0,bj=t=>xj.test(t)&&!Ej.test(t),Vy=()=>!1,Ij=t=>Tj.test(t),Pj=t=>Sj.test(t),Cj=t=>!K(t)&&!G(t),Aj=t=>Ao(t,Nb,Vy),K=t=>Pb.test(t),Ai=t=>Ao(t,Db,bj),Nf=t=>Ao(t,Bj,re),Rj=t=>Ao(t,Ab,Vy),Nj=t=>Ao(t,Rb,Pj),Dj=t=>Ao(t,Vy,Ij),G=t=>Cb.test(t),Ou=t=>Ro(t,Db),Mj=t=>Ro(t,zj),Vj=t=>Ro(t,Ab),Oj=t=>Ro(t,Nb),Lj=t=>Ro(t,Rb),jj=t=>Ro(t,$j,!0),Ao=(t,e,n)=>{const r=Pb.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Ro=(t,e,n=!1)=>{const r=Cb.exec(t);return r?r[1]?e(r[1]):n:!1},Ab=t=>t==="position",Fj=new Set(["image","url"]),Rb=t=>Fj.has(t),Uj=new Set(["length","size","percentage"]),Nb=t=>Uj.has(t),Db=t=>t==="length",Bj=t=>t==="number",zj=t=>t==="family-name",$j=t=>t==="shadow",Wj=()=>{const t=Ye("color"),e=Ye("font"),n=Ye("text"),r=Ye("font-weight"),i=Ye("tracking"),s=Ye("leading"),o=Ye("breakpoint"),a=Ye("container"),l=Ye("spacing"),c=Ye("radius"),d=Ye("shadow"),h=Ye("inset-shadow"),m=Ye("drop-shadow"),y=Ye("blur"),x=Ye("perspective"),S=Ye("aspect"),I=Ye("ease"),v=Ye("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],N=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],M=()=>[G,K,l],k=()=>[xs,"full","auto",...M()],w=()=>[Ci,"none","subgrid",G,K],b=()=>["auto",{span:["full",Ci,G,K]},G,K],P=()=>[Ci,"auto",G,K],R=()=>["auto","min","max","fr",G,K],D=()=>["start","end","center","between","around","evenly","stretch","baseline"],A=()=>["start","end","center","stretch"],Ee=()=>["auto",...M()],ut=()=>[xs,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...M()],le=()=>[t,G,K],pe=()=>[Tx,Ai],F=()=>["","none","full",c,G,K],H=()=>["",re,Ou,Ai],Y=()=>["solid","dashed","dotted","double"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],he=()=>["","none",y,G,K],be=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",G,K],Dt=()=>["none",re,G,K],Mt=()=>["none",re,G,K],zt=()=>[re,G,K],Vt=()=>[xs,"full",...M()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Pr],breakpoint:[Pr],color:[kj],container:[Pr],"drop-shadow":[Pr],ease:["in","out","in-out"],font:[Cj],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Pr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Pr],shadow:[Pr],spacing:["px",re],text:[Pr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",xs,K,G,S]}],container:["container"],columns:[{columns:[re,K,G,a]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...E(),K,G]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[Ci,"auto",G,K]}],basis:[{basis:[xs,"full","auto",a,...M()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[re,xs,"auto","initial","none",K]}],grow:[{grow:["",re,G,K]}],shrink:[{shrink:["",re,G,K]}],order:[{order:[Ci,"first","last","none",G,K]}],"grid-cols":[{"grid-cols":w()}],"col-start-end":[{col:b()}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":w()}],"row-start-end":[{row:b()}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":R()}],"auto-rows":[{"auto-rows":R()}],gap:[{gap:M()}],"gap-x":[{"gap-x":M()}],"gap-y":[{"gap-y":M()}],"justify-content":[{justify:[...D(),"normal"]}],"justify-items":[{"justify-items":[...A(),"normal"]}],"justify-self":[{"justify-self":["auto",...A()]}],"align-content":[{content:["normal",...D()]}],"align-items":[{items:[...A(),"baseline"]}],"align-self":[{self:["auto",...A(),"baseline"]}],"place-content":[{"place-content":D()}],"place-items":[{"place-items":[...A(),"baseline"]}],"place-self":[{"place-self":["auto",...A()]}],p:[{p:M()}],px:[{px:M()}],py:[{py:M()}],ps:[{ps:M()}],pe:[{pe:M()}],pt:[{pt:M()}],pr:[{pr:M()}],pb:[{pb:M()}],pl:[{pl:M()}],m:[{m:Ee()}],mx:[{mx:Ee()}],my:[{my:Ee()}],ms:[{ms:Ee()}],me:[{me:Ee()}],mt:[{mt:Ee()}],mr:[{mr:Ee()}],mb:[{mb:Ee()}],ml:[{ml:Ee()}],"space-x":[{"space-x":M()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":M()}],"space-y-reverse":["space-y-reverse"],size:[{size:ut()}],w:[{w:[a,"screen",...ut()]}],"min-w":[{"min-w":[a,"screen","none",...ut()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...ut()]}],h:[{h:["screen",...ut()]}],"min-h":[{"min-h":["screen","none",...ut()]}],"max-h":[{"max-h":["screen",...ut()]}],"font-size":[{text:["base",n,Ou,Ai]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,G,Nf]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Tx,K]}],"font-family":[{font:[Mj,K,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,G,K]}],"line-clamp":[{"line-clamp":[re,"none",G,Nf]}],leading:[{leading:[s,...M()]}],"list-image":[{"list-image":["none",G,K]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",G,K]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:le()}],"text-color":[{text:le()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:[re,"from-font","auto",G,Ai]}],"text-decoration-color":[{decoration:le()}],"underline-offset":[{"underline-offset":[re,"auto",G,K]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",G,K]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",G,K]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...E(),Vj,Rj]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",Oj,Aj]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ci,G,K],radial:["",G,K],conic:[Ci,G,K]},Lj,Nj]}],"bg-color":[{bg:le()}],"gradient-from-pos":[{from:pe()}],"gradient-via-pos":[{via:pe()}],"gradient-to-pos":[{to:pe()}],"gradient-from":[{from:le()}],"gradient-via":[{via:le()}],"gradient-to":[{to:le()}],rounded:[{rounded:F()}],"rounded-s":[{"rounded-s":F()}],"rounded-e":[{"rounded-e":F()}],"rounded-t":[{"rounded-t":F()}],"rounded-r":[{"rounded-r":F()}],"rounded-b":[{"rounded-b":F()}],"rounded-l":[{"rounded-l":F()}],"rounded-ss":[{"rounded-ss":F()}],"rounded-se":[{"rounded-se":F()}],"rounded-ee":[{"rounded-ee":F()}],"rounded-es":[{"rounded-es":F()}],"rounded-tl":[{"rounded-tl":F()}],"rounded-tr":[{"rounded-tr":F()}],"rounded-br":[{"rounded-br":F()}],"rounded-bl":[{"rounded-bl":F()}],"border-w":[{border:H()}],"border-w-x":[{"border-x":H()}],"border-w-y":[{"border-y":H()}],"border-w-s":[{"border-s":H()}],"border-w-e":[{"border-e":H()}],"border-w-t":[{"border-t":H()}],"border-w-r":[{"border-r":H()}],"border-w-b":[{"border-b":H()}],"border-w-l":[{"border-l":H()}],"divide-x":[{"divide-x":H()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":H()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Y(),"hidden","none"]}],"divide-style":[{divide:[...Y(),"hidden","none"]}],"border-color":[{border:le()}],"border-color-x":[{"border-x":le()}],"border-color-y":[{"border-y":le()}],"border-color-s":[{"border-s":le()}],"border-color-e":[{"border-e":le()}],"border-color-t":[{"border-t":le()}],"border-color-r":[{"border-r":le()}],"border-color-b":[{"border-b":le()}],"border-color-l":[{"border-l":le()}],"divide-color":[{divide:le()}],"outline-style":[{outline:[...Y(),"none","hidden"]}],"outline-offset":[{"outline-offset":[re,G,K]}],"outline-w":[{outline:["",re,Ou,Ai]}],"outline-color":[{outline:[t]}],shadow:[{shadow:["","none",d,jj,Dj]}],"shadow-color":[{shadow:le()}],"inset-shadow":[{"inset-shadow":["none",G,K,h]}],"inset-shadow-color":[{"inset-shadow":le()}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:le()}],"ring-offset-w":[{"ring-offset":[re,Ai]}],"ring-offset-color":[{"ring-offset":le()}],"inset-ring-w":[{"inset-ring":H()}],"inset-ring-color":[{"inset-ring":le()}],opacity:[{opacity:[re,G,K]}],"mix-blend":[{"mix-blend":[...we(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":we()}],filter:[{filter:["","none",G,K]}],blur:[{blur:he()}],brightness:[{brightness:[re,G,K]}],contrast:[{contrast:[re,G,K]}],"drop-shadow":[{"drop-shadow":["","none",m,G,K]}],grayscale:[{grayscale:["",re,G,K]}],"hue-rotate":[{"hue-rotate":[re,G,K]}],invert:[{invert:["",re,G,K]}],saturate:[{saturate:[re,G,K]}],sepia:[{sepia:["",re,G,K]}],"backdrop-filter":[{"backdrop-filter":["","none",G,K]}],"backdrop-blur":[{"backdrop-blur":he()}],"backdrop-brightness":[{"backdrop-brightness":[re,G,K]}],"backdrop-contrast":[{"backdrop-contrast":[re,G,K]}],"backdrop-grayscale":[{"backdrop-grayscale":["",re,G,K]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[re,G,K]}],"backdrop-invert":[{"backdrop-invert":["",re,G,K]}],"backdrop-opacity":[{"backdrop-opacity":[re,G,K]}],"backdrop-saturate":[{"backdrop-saturate":[re,G,K]}],"backdrop-sepia":[{"backdrop-sepia":["",re,G,K]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":M()}],"border-spacing-x":[{"border-spacing-x":M()}],"border-spacing-y":[{"border-spacing-y":M()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",G,K]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[re,"initial",G,K]}],ease:[{ease:["linear","initial",I,G,K]}],delay:[{delay:[re,G,K]}],animate:[{animate:["none",v,G,K]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,G,K]}],"perspective-origin":[{"perspective-origin":be()}],rotate:[{rotate:Dt()}],"rotate-x":[{"rotate-x":Dt()}],"rotate-y":[{"rotate-y":Dt()}],"rotate-z":[{"rotate-z":Dt()}],scale:[{scale:Mt()}],"scale-x":[{"scale-x":Mt()}],"scale-y":[{"scale-y":Mt()}],"scale-z":[{"scale-z":Mt()}],"scale-3d":["scale-3d"],skew:[{skew:zt()}],"skew-x":[{"skew-x":zt()}],"skew-y":[{"skew-y":zt()}],transform:[{transform:[G,K,"","none","gpu","cpu"]}],"transform-origin":[{origin:be()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Vt()}],"translate-x":[{"translate-x":Vt()}],"translate-y":[{"translate-y":Vt()}],"translate-z":[{"translate-z":Vt()}],"translate-none":["translate-none"],accent:[{accent:le()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:le()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",G,K]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",G,K]}],fill:[{fill:["none",...le()]}],"stroke-w":[{stroke:[re,Ou,Ai,Nf]}],stroke:[{stroke:["none",...le()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},Hj=vj(Wj);function Tt(...t){return Hj(ij(t))}const ve=({className:t,variant:e="default",size:n="default",icon:r,children:i,...s})=>{const o="inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",a={default:"bg-forest-green text-white-linen hover:bg-spring-garden dark:bg-spring-garden dark:hover:bg-moss-green",outline:"border border-spring-garden bg-transparent hover:bg-spring-garden hover:text-white-linen dark:border-moss-green dark:hover:bg-moss-green dark:hover:text-charcoal",ghost:"bg-transparent hover:bg-moss-green hover:text-charcoal dark:hover:bg-spring-garden dark:hover:text-white-linen",link:"bg-transparent underline-offset-4 hover:underline text-spring-garden hover:text-forest-green dark:text-moss-green dark:hover:text-lemon-yellow p-0"},l={default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md text-sm",lg:"h-11 px-8 rounded-md text-base",icon:"h-10 w-10"};return p.jsxs("button",{className:Tt(o,a[e],l[n],t),...s,children:[r&&p.jsx("span",{className:i?"mr-2":"",children:r}),i]})},Kj=()=>{const{isAuthenticated:t,user:e}=We(a=>a.auth),n=wi(),r=us(),[i,s]=C.useState(!1),o=()=>{n(rM()),r("/")};return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"bg-forest-green text-white-linen py-2 px-4 text-center text-sm",children:["Making learning with code simpler, and better.",p.jsx("span",{className:"ml-4 hidden md:inline",children:p.jsx(de,{to:"/contact",className:"text-lemon-yellow hover:underline",children:"Get in touch"})})]}),p.jsxs("nav",{className:"bg-white-linen border-b border-moss-green/20",children:[p.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"flex justify-between h-16",children:[p.jsxs("div",{className:"flex",children:[p.jsx("div",{className:"flex-shrink-0 flex items-center",children:p.jsxs(de,{to:"/",className:"flex flex-col items-center",children:[p.jsx("span",{className:"text-2xl font-bold text-forest-green tracking-tight",children:"Bark & Build Lab"}),p.jsx("span",{className:"text-xs text-spring-garden italic mt-[-2px]",children:"by Earth Rated"})]})}),p.jsxs("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:[p.jsx(de,{to:"/",className:"inline-flex items-center px-1 pt-1 border-b-2 border-transparent hover:border-spring-garden text-sm font-medium text-charcoal hover:text-forest-green",children:"Home"}),p.jsx(de,{to:"/workshops",className:"inline-flex items-center px-1 pt-1 border-b-2 border-transparent hover:border-spring-garden text-sm font-medium text-charcoal hover:text-forest-green",children:"Workshops"})]})]}),p.jsxs("div",{className:"hidden sm:ml-6 sm:flex sm:items-center sm:space-x-4",children:[p.jsx(_x,{}),t?p.jsxs(p.Fragment,{children:[(e==null?void 0:e.role)==="admin"&&p.jsx(de,{to:"/admin",children:p.jsxs(ve,{variant:"outline",size:"sm",className:"flex items-center gap-1",children:[p.jsx(CM,{size:16}),p.jsx("span",{children:"Admin"})]})}),p.jsx(de,{to:"/dashboard",children:p.jsx(ve,{variant:"outline",size:"sm",children:"Dashboard"})}),p.jsx(ve,{variant:"ghost",size:"sm",onClick:o,children:"Sign Out"})]}):p.jsxs(p.Fragment,{children:[p.jsx(de,{to:"/login",children:p.jsx(ve,{variant:"ghost",size:"sm",children:"Sign In"})}),p.jsx(de,{to:"/signup",children:p.jsx(ve,{className:"bg-lemon-yellow text-charcoal hover:bg-lemon-yellow/80",size:"sm",children:"Sign Up"})})]})]}),p.jsxs("div",{className:"-mr-2 flex items-center sm:hidden",children:[p.jsx(_x,{}),p.jsxs("button",{type:"button",className:"inline-flex items-center justify-center p-2 rounded-md text-charcoal hover:text-forest-green hover:bg-moss-green/20","aria-controls":"mobile-menu","aria-expanded":"false",onClick:()=>s(!i),children:[p.jsx("span",{className:"sr-only",children:"Open main menu"}),i?p.jsx(Y1,{className:"block h-6 w-6","aria-hidden":"true"}):p.jsx(IM,{className:"block h-6 w-6","aria-hidden":"true"})]})]})]})}),i&&p.jsxs("div",{className:"sm:hidden",id:"mobile-menu",children:[p.jsxs("div",{className:"pt-2 pb-3 space-y-1 bg-white-linen",children:[p.jsx(de,{to:"/",className:"block pl-3 pr-4 py-2 text-base font-medium text-charcoal hover:bg-moss-green/20 hover:text-forest-green",onClick:()=>s(!1),children:"Home"}),p.jsx(de,{to:"/workshops",className:"block pl-3 pr-4 py-2 text-base font-medium text-charcoal hover:bg-moss-green/20 hover:text-forest-green",onClick:()=>s(!1),children:"Workshops"})]}),p.jsx("div",{className:"pt-4 pb-3 border-t border-moss-green/20 bg-white-linen",children:p.jsx("div",{className:"space-y-1",children:t?p.jsxs(p.Fragment,{children:[(e==null?void 0:e.role)==="admin"&&p.jsx(de,{to:"/admin",className:"block pl-3 pr-4 py-2 text-base font-medium text-charcoal hover:bg-moss-green/20 hover:text-forest-green",onClick:()=>s(!1),children:"Admin"}),p.jsx(de,{to:"/dashboard",className:"block pl-3 pr-4 py-2 text-base font-medium text-charcoal hover:bg-moss-green/20 hover:text-forest-green",onClick:()=>s(!1),children:"Dashboard"}),p.jsx("button",{onClick:()=>{o(),s(!1)},className:"block w-full text-left pl-3 pr-4 py-2 text-base font-medium text-charcoal hover:bg-moss-green/20 hover:text-forest-green",children:"Sign Out"})]}):p.jsxs(p.Fragment,{children:[p.jsx(de,{to:"/login",className:"block pl-3 pr-4 py-2 text-base font-medium text-charcoal hover:bg-moss-green/20 hover:text-forest-green",onClick:()=>s(!1),children:"Sign In"}),p.jsx(de,{to:"/signup",className:"block pl-3 pr-4 py-2 text-base font-medium text-charcoal hover:bg-moss-green/20 hover:text-forest-green",onClick:()=>s(!1),children:"Sign Up"})]})})})]})]})]})},Gj=()=>p.jsx("footer",{className:"bg-white-linen dark:bg-charcoal border-t border-moss-green/20 dark:border-moss-green/10",children:p.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"flex flex-col items-center justify-center",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(G1,{className:"h-8 w-8 text-forest-green dark:text-moss-green"}),p.jsx("span",{className:"ml-2 text-xl font-bold text-forest-green dark:text-moss-green",children:"CodeWorkshops"})]}),p.jsx("p",{className:"mt-4 text-charcoal dark:text-white-linen max-w-md text-center",children:"A free platform to organize, discover, and participate in coding workshops. Built for the community, by the community."}),p.jsxs("div",{className:"mt-6 flex space-x-6",children:[p.jsxs("a",{href:"#",className:"text-spring-garden hover:text-forest-green dark:text-moss-green dark:hover:text-lemon-yellow",children:[p.jsx("span",{className:"sr-only",children:"GitHub"}),p.jsx(kM,{className:"h-6 w-6"})]}),p.jsxs("a",{href:"mailto:info@codeworkshops.org",className:"text-spring-garden hover:text-forest-green dark:text-moss-green dark:hover:text-lemon-yellow",children:[p.jsx("span",{className:"sr-only",children:"Email"}),p.jsx(ey,{className:"h-6 w-6"})]})]})]}),p.jsx("div",{className:"mt-12 border-t border-moss-green/20 dark:border-moss-green/10 pt-8",children:p.jsxs("p",{className:"text-base text-charcoal dark:text-white-linen text-center",children:[" ",new Date().getFullYear()," CodeWorkshops. Open source and free for everyone."]})})]})});let qj={data:""},Qj=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||qj,Yj=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Xj=/\/\*[^]*?\*\/|  +/g,Sx=/\n+/g,Or=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?Or(o,s):s+"{"+Or(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=Or(o,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Or.p?Or.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Gn={},Mb=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Mb(t[n]);return e}return t},Jj=(t,e,n,r,i)=>{let s=Mb(t),o=Gn[s]||(Gn[s]=(l=>{let c=0,d=11;for(;c<l.length;)d=101*d+l.charCodeAt(c++)>>>0;return"go"+d})(s));if(!Gn[o]){let l=s!==t?t:(c=>{let d,h,m=[{}];for(;d=Yj.exec(c.replace(Xj,""));)d[4]?m.shift():d[3]?(h=d[3].replace(Sx," ").trim(),m.unshift(m[0][h]=m[0][h]||{})):m[0][d[1]]=d[2].replace(Sx," ").trim();return m[0]})(t);Gn[o]=Or(i?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&Gn.g?Gn.g:null;return n&&(Gn.g=Gn[o]),((l,c,d,h)=>{h?c.data=c.data.replace(h,l):c.data.indexOf(l)===-1&&(c.data=d?l+c.data:c.data+l)})(Gn[o],e,r,a),o},Zj=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Or(a,""):a===!1?"":a}return r+i+(o??"")},"");function Zd(t){let e=this||{},n=t.call?t(e.p):t;return Jj(n.unshift?n.raw?Zj(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,Qj(e.target),e.g,e.o,e.k)}let Vb,mm,gm;Zd.bind({g:1});let mr=Zd.bind({k:1});function eF(t,e,n,r){Or.p=e,Vb=t,mm=n,gm=r}function xi(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;n.p=Object.assign({theme:mm&&mm()},a),n.o=/ *go\d+/.test(l),a.className=Zd.apply(n,r)+(l?" "+l:"");let c=t;return t[0]&&(c=a.as||t,delete a.as),gm&&c[0]&&gm(a),Vb(c,a)}return i}}var tF=t=>typeof t=="function",nd=(t,e)=>tF(t)?t(e):t,nF=(()=>{let t=0;return()=>(++t).toString()})(),Ob=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),rF=20,Lb=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,rF)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return Lb(t,{type:t.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},ac=[],Bi={toasts:[],pausedAt:void 0},ds=t=>{Bi=Lb(Bi,t),ac.forEach(e=>{e(Bi)})},iF={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},sF=(t={})=>{let[e,n]=C.useState(Bi),r=C.useRef(Bi);C.useEffect(()=>(r.current!==Bi&&n(Bi),ac.push(n),()=>{let s=ac.indexOf(n);s>-1&&ac.splice(s,1)}),[]);let i=e.toasts.map(s=>{var o,a,l;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((o=t[s.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((a=t[s.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||iF[s.type],style:{...t.style,...(l=t[s.type])==null?void 0:l.style,...s.style}}});return{...e,toasts:i}},oF=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||nF()}),jl=t=>(e,n)=>{let r=oF(e,t,n);return ds({type:2,toast:r}),r.id},It=(t,e)=>jl("blank")(t,e);It.error=jl("error");It.success=jl("success");It.loading=jl("loading");It.custom=jl("custom");It.dismiss=t=>{ds({type:3,toastId:t})};It.remove=t=>ds({type:4,toastId:t});It.promise=(t,e,n)=>{let r=It.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?nd(e.success,i):void 0;return s?It.success(s,{id:r,...n,...n==null?void 0:n.success}):It.dismiss(r),i}).catch(i=>{let s=e.error?nd(e.error,i):void 0;s?It.error(s,{id:r,...n,...n==null?void 0:n.error}):It.dismiss(r)}),t};var aF=(t,e)=>{ds({type:1,toast:{id:t,height:e}})},lF=()=>{ds({type:5,time:Date.now()})},Va=new Map,uF=1e3,cF=(t,e=uF)=>{if(Va.has(t))return;let n=setTimeout(()=>{Va.delete(t),ds({type:4,toastId:t})},e);Va.set(t,n)},dF=t=>{let{toasts:e,pausedAt:n}=sF(t);C.useEffect(()=>{if(n)return;let s=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(l<0){a.visible&&It.dismiss(a.id);return}return setTimeout(()=>It.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=C.useCallback(()=>{n&&ds({type:6,time:Date.now()})},[n]),i=C.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=o||{},d=e.filter(y=>(y.position||c)===(s.position||c)&&y.height),h=d.findIndex(y=>y.id===s.id),m=d.filter((y,x)=>x<h&&y.visible).length;return d.filter(y=>y.visible).slice(...a?[m+1]:[0,m]).reduce((y,x)=>y+(x.height||0)+l,0)},[e]);return C.useEffect(()=>{e.forEach(s=>{if(s.dismissed)cF(s.id,s.removeDelay);else{let o=Va.get(s.id);o&&(clearTimeout(o),Va.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:aF,startPause:lF,endPause:r,calculateOffset:i}}},hF=mr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,fF=mr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,pF=mr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,mF=xi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${hF} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${fF} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${pF} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,gF=mr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,yF=xi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${gF} 1s linear infinite;
`,vF=mr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,wF=mr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,_F=xi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${vF} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${wF} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,xF=xi("div")`
  position: absolute;
`,EF=xi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,TF=mr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,SF=xi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${TF} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,kF=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?C.createElement(SF,null,e):e:n==="blank"?null:C.createElement(EF,null,C.createElement(yF,{...r}),n!=="loading"&&C.createElement(xF,null,n==="error"?C.createElement(mF,{...r}):C.createElement(_F,{...r})))},bF=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,IF=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,PF="0%{opacity:0;} 100%{opacity:1;}",CF="0%{opacity:1;} 100%{opacity:0;}",AF=xi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,RF=xi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,NF=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=Ob()?[PF,CF]:[bF(n),IF(n)];return{animation:e?`${mr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${mr(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},DF=C.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?NF(t.position||e||"top-center",t.visible):{opacity:0},s=C.createElement(kF,{toast:t}),o=C.createElement(RF,{...t.ariaProps},nd(t.message,t));return C.createElement(AF,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:o}):C.createElement(C.Fragment,null,s,o))});eF(C.createElement);var MF=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=C.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return C.createElement("div",{ref:s,className:e,style:n},i)},VF=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Ob()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},OF=Zd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Lu=16,LF=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:l}=dF(n);return C.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Lu,left:Lu,right:Lu,bottom:Lu,pointerEvents:"none",...s},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let d=c.position||e,h=l.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),m=VF(d,h);return C.createElement(MF,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?OF:"",style:m},c.type==="custom"?nd(c.message,c):i?i(c):C.createElement(DF,{toast:c,position:d}))}))},zr=It;const jF=({children:t})=>{const{theme:e}=We(n=>n.ui);return p.jsxs("div",{className:`min-h-screen flex flex-col bg-gray-50 dark:bg-gray-900 ${e}`,children:[p.jsx(Kj,{}),p.jsx("main",{className:"flex-grow",children:t}),p.jsx(Gj,{}),p.jsx(LF,{position:"top-right",toastOptions:{style:{background:e==="dark"?"#374151":"#ffffff",color:e==="dark"?"#ffffff":"#1f2937"}}})]})},FF=()=>{};var kx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},UF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Fb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let m=(a&15)<<2|c>>6,y=c&63;l||(y=64,o||(m=64)),r.push(n[d],n[h],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):UF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new BF;const m=s<<2|a>>4;if(r.push(m),c!==64){const y=a<<4&240|c>>2;if(r.push(y),h!==64){const x=c<<6&192|h;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class BF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zF=function(t){const e=jb(t);return Fb.encodeByteArray(e,!0)},rd=function(t){return zF(t).replace(/\./g,"")},Ub=function(t){try{return Fb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $F(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF=()=>$F().__FIREBASE_DEFAULTS__,HF=()=>{if(typeof process>"u"||typeof kx>"u")return;const t=kx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ub(t[1]);return e&&JSON.parse(e)},eh=()=>{try{return FF()||WF()||HF()||KF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Bb=t=>{var e,n;return(n=(e=eh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},GF=t=>{const e=Bb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},zb=()=>{var t;return(t=eh())===null||t===void 0?void 0:t.config},$b=t=>{var e;return(e=eh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[rd(JSON.stringify(n)),rd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function XF(){var t;const e=(t=eh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function e3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function t3(){const t=Et();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function n3(){return!XF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function r3(){try{return typeof indexedDB=="object"}catch{return!1}}function i3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3="FirebaseError";class Er extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=s3,Object.setPrototypeOf(this,Er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fl.prototype.create)}}class Fl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?o3(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Er(i,a,r)}}function o3(t,e){return t.replace(a3,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const a3=/\{\$([^}]+)}/g;function l3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ts(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(bx(s)&&bx(o)){if(!ts(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function bx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ga(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ya(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function u3(t,e){const n=new c3(t,e);return n.subscribe.bind(n)}class c3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");d3(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Df),i.error===void 0&&(i.error=Df),i.complete===void 0&&(i.complete=Df);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function d3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Df(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(t){return t&&t._delegate?t._delegate:t}class ns{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new qF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(p3(e))try{this.getOrInitializeService({instanceIdentifier:Vi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Vi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vi){return this.instances.has(e)}getOptions(e=Vi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:f3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vi){return this.component?this.component.multipleInstances?e:Vi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function f3(t){return t===Vi?void 0:t}function p3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new h3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ie||(ie={}));const g3={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},y3=ie.INFO,v3={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},w3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=v3[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Oy{constructor(e){this.name=e,this._logLevel=y3,this._logHandler=w3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?g3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...e),this._logHandler(this,ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...e),this._logHandler(this,ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...e),this._logHandler(this,ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...e),this._logHandler(this,ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...e),this._logHandler(this,ie.ERROR,...e)}}const _3=(t,e)=>e.some(n=>t instanceof n);let Ix,Px;function x3(){return Ix||(Ix=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function E3(){return Px||(Px=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wb=new WeakMap,ym=new WeakMap,Hb=new WeakMap,Mf=new WeakMap,Ly=new WeakMap;function T3(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Jr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Wb.set(n,t)}).catch(()=>{}),Ly.set(e,t),e}function S3(t){if(ym.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ym.set(t,e)}let vm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ym.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Hb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function k3(t){vm=t(vm)}function b3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Vf(this),e,...n);return Hb.set(r,e.sort?e.sort():[e]),Jr(r)}:E3().includes(t)?function(...e){return t.apply(Vf(this),e),Jr(Wb.get(this))}:function(...e){return Jr(t.apply(Vf(this),e))}}function I3(t){return typeof t=="function"?b3(t):(t instanceof IDBTransaction&&S3(t),_3(t,x3())?new Proxy(t,vm):t)}function Jr(t){if(t instanceof IDBRequest)return T3(t);if(Mf.has(t))return Mf.get(t);const e=I3(t);return e!==t&&(Mf.set(t,e),Ly.set(e,t)),e}const Vf=t=>Ly.get(t);function P3(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Jr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Jr(o.result),l.oldVersion,l.newVersion,Jr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const C3=["get","getKey","getAll","getAllKeys","count"],A3=["put","add","delete","clear"],Of=new Map;function Cx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Of.get(e))return Of.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=A3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||C3.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Of.set(e,s),s}k3(t=>({...t,get:(e,n,r)=>Cx(e,n)||t.get(e,n,r),has:(e,n)=>!!Cx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(N3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function N3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wm="@firebase/app",Ax="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new Oy("@firebase/app"),D3="@firebase/app-compat",M3="@firebase/analytics-compat",V3="@firebase/analytics",O3="@firebase/app-check-compat",L3="@firebase/app-check",j3="@firebase/auth",F3="@firebase/auth-compat",U3="@firebase/database",B3="@firebase/data-connect",z3="@firebase/database-compat",$3="@firebase/functions",W3="@firebase/functions-compat",H3="@firebase/installations",K3="@firebase/installations-compat",G3="@firebase/messaging",q3="@firebase/messaging-compat",Q3="@firebase/performance",Y3="@firebase/performance-compat",X3="@firebase/remote-config",J3="@firebase/remote-config-compat",Z3="@firebase/storage",eU="@firebase/storage-compat",tU="@firebase/firestore",nU="@firebase/vertexai",rU="@firebase/firestore-compat",iU="firebase",sU="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="[DEFAULT]",oU={[wm]:"fire-core",[D3]:"fire-core-compat",[V3]:"fire-analytics",[M3]:"fire-analytics-compat",[L3]:"fire-app-check",[O3]:"fire-app-check-compat",[j3]:"fire-auth",[F3]:"fire-auth-compat",[U3]:"fire-rtdb",[B3]:"fire-data-connect",[z3]:"fire-rtdb-compat",[$3]:"fire-fn",[W3]:"fire-fn-compat",[H3]:"fire-iid",[K3]:"fire-iid-compat",[G3]:"fire-fcm",[q3]:"fire-fcm-compat",[Q3]:"fire-perf",[Y3]:"fire-perf-compat",[X3]:"fire-rc",[J3]:"fire-rc-compat",[Z3]:"fire-gcs",[eU]:"fire-gcs-compat",[tU]:"fire-fst",[rU]:"fire-fst-compat",[nU]:"fire-vertex","fire-js":"fire-js",[iU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id=new Map,aU=new Map,xm=new Map;function Rx(t,e){try{t.container.addComponent(e)}catch(n){gr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fo(t){const e=t.name;if(xm.has(e))return gr.debug(`There were multiple attempts to register component ${e}.`),!1;xm.set(e,t);for(const n of id.values())Rx(n,t);for(const n of aU.values())Rx(n,t);return!0}function jy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ht(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zr=new Fl("app","Firebase",lU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=sU;function Kb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:_m,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Zr.create("bad-app-name",{appName:String(i)});if(n||(n=zb()),!n)throw Zr.create("no-options");const s=id.get(i);if(s){if(ts(n,s.options)&&ts(r,s.config))return s;throw Zr.create("duplicate-app",{appName:i})}const o=new m3(i);for(const l of xm.values())o.addComponent(l);const a=new uU(n,r,o);return id.set(i,a),a}function Gb(t=_m){const e=id.get(t);if(!e&&t===_m&&zb())return Kb();if(!e)throw Zr.create("no-app",{appName:t});return e}function ei(t,e,n){var r;let i=(r=oU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gr.warn(a.join(" "));return}fo(new ns(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU="firebase-heartbeat-database",dU=1,pl="firebase-heartbeat-store";let Lf=null;function qb(){return Lf||(Lf=P3(cU,dU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(pl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Zr.create("idb-open",{originalErrorMessage:t.message})})),Lf}async function hU(t){try{const n=(await qb()).transaction(pl),r=await n.objectStore(pl).get(Qb(t));return await n.done,r}catch(e){if(e instanceof Er)gr.warn(e.message);else{const n=Zr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gr.warn(n.message)}}}async function Nx(t,e){try{const r=(await qb()).transaction(pl,"readwrite");await r.objectStore(pl).put(e,Qb(t)),await r.done}catch(n){if(n instanceof Er)gr.warn(n.message);else{const r=Zr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gr.warn(r.message)}}}function Qb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU=1024,pU=30;class mU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Dx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>pU){const o=vU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){gr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Dx(),{heartbeatsToSend:r,unsentEntries:i}=gU(this._heartbeatsCache.heartbeats),s=rd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return gr.warn(n),""}}}function Dx(){return new Date().toISOString().substring(0,10)}function gU(t,e=fU){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Mx(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Mx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class yU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return r3()?i3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hU(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Nx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Nx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Mx(t){return rd(JSON.stringify({version:2,heartbeats:t})).length}function vU(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wU(t){fo(new ns("platform-logger",e=>new R3(e),"PRIVATE")),fo(new ns("heartbeat",e=>new mU(e),"PRIVATE")),ei(wm,Ax,t),ei(wm,Ax,"esm2017"),ei("fire-js","")}wU("");function Fy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Yb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _U=Yb,Xb=new Fl("auth","Firebase",Yb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd=new Oy("@firebase/auth");function xU(t,...e){sd.logLevel<=ie.WARN&&sd.warn(`Auth (${No}): ${t}`,...e)}function lc(t,...e){sd.logLevel<=ie.ERROR&&sd.error(`Auth (${No}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(t,...e){throw By(t,...e)}function In(t,...e){return By(t,...e)}function Uy(t,e,n){const r=Object.assign(Object.assign({},_U()),{[e]:n});return new Fl("auth","Firebase",r).create(e,{appName:t.name})}function ar(t){return Uy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function EU(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&fn(t,"argument-error"),Uy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function By(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Xb.create(t,...e)}function J(t,e,...n){if(!t)throw By(e,...n)}function Zn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw lc(e),new Error(e)}function yr(t,e){t||Zn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function TU(){return Vx()==="http:"||Vx()==="https:"}function Vx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TU()||ZF()||"connection"in navigator)?navigator.onLine:!0}function kU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n){this.shortDelay=e,this.longDelay=n,yr(n>e,"Short delay should be less than long delay!"),this.isMobile=YF()||e3()}get(){return SU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(t,e){yr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU=new Bl(3e4,6e4);function Ei(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Tr(t,e,n,r,i={}){return Zb(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ul(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return JF()||(c.referrerPolicy="no-referrer"),Jb.fetch()(eI(t,t.config.apiHost,n,a),c)})}async function Zb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},bU),e);try{const i=new CU(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ju(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ju(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ju(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ju(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Uy(t,d,c);fn(t,d)}}catch(i){if(i instanceof Er)throw i;fn(t,"network-request-failed",{message:String(i)})}}async function zl(t,e,n,r,i={}){const s=await Tr(t,e,n,r,i);return"mfaPendingCredential"in s&&fn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function eI(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?zy(t.config,i):`${t.config.apiScheme}://${i}`}function PU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class CU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(In(this.auth,"network-request-failed")),IU.get())})}}function ju(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=In(t,e,r);return i.customData._tokenResponse=n,i}function Ox(t){return t!==void 0&&t.enterprise!==void 0}class AU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return PU(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function RU(t,e){return Tr(t,"GET","/v2/recaptchaConfig",Ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NU(t,e){return Tr(t,"POST","/v1/accounts:delete",e)}async function tI(t,e){return Tr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function DU(t,e=!1){const n=hn(t),r=await n.getIdToken(e),i=$y(r);J(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Oa(jf(i.auth_time)),issuedAtTime:Oa(jf(i.iat)),expirationTime:Oa(jf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function jf(t){return Number(t)*1e3}function $y(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return lc("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ub(n);return i?JSON.parse(i):(lc("Failed to decode base64 JWT payload"),null)}catch(i){return lc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Lx(t){const e=$y(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Er&&MU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function MU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oa(this.lastLoginAt),this.creationTime=Oa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function od(t){var e;const n=t.auth,r=await t.getIdToken(),i=await po(t,tI(n,{idToken:r}));J(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?nI(s.providerUserInfo):[],a=LU(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Tm(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function OU(t){const e=hn(t);await od(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function LU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function nI(t){return t.map(e=>{var{providerId:n}=e,r=Fy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jU(t,e){const n=await Zb(t,{},async()=>{const r=Ul({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=eI(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Jb.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function FU(t,e){return Tr(t,"POST","/v2/accounts:revokeToken",Ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Lx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){J(e.length!==0,"internal-error");const n=Lx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await jU(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Xs;return r&&(J(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(J(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(J(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xs,this.toJSON())}_performRefresh(){return Zn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class er{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Fy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new VU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Tm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await po(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return DU(this,e)}reload(){return OU(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new er(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await od(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ht(this.auth.app))return Promise.reject(ar(this.auth));const e=await this.getIdToken();return await po(this,NU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,x=(o=n.photoURL)!==null&&o!==void 0?o:void 0,S=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:N,isAnonymous:O,providerData:M,stsTokenManager:k}=n;J(E&&k,e,"internal-error");const w=Xs.fromJSON(this.name,k);J(typeof E=="string",e,"internal-error"),Cr(h,e.name),Cr(m,e.name),J(typeof N=="boolean",e,"internal-error"),J(typeof O=="boolean",e,"internal-error"),Cr(y,e.name),Cr(x,e.name),Cr(S,e.name),Cr(I,e.name),Cr(v,e.name),Cr(_,e.name);const b=new er({uid:E,auth:e,email:m,emailVerified:N,displayName:h,isAnonymous:O,photoURL:x,phoneNumber:y,tenantId:S,stsTokenManager:w,createdAt:v,lastLoginAt:_});return M&&Array.isArray(M)&&(b.providerData=M.map(P=>Object.assign({},P))),I&&(b._redirectEventId=I),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new Xs;i.updateFromServerResponse(n);const s=new er({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await od(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];J(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?nI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Xs;a.updateFromIdToken(r);const l=new er({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Tm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=new Map;function tr(t){yr(t instanceof Function,"Expected a class definition");let e=jx.get(t);return e?(yr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,jx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}rI.type="NONE";const Fx=rI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(t,e,n){return`firebase:${t}:${e}:${n}`}class Js{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=uc(this.userKey,i.apiKey,s),this.fullPersistenceKey=uc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?er._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Js(tr(Fx),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||tr(Fx);const o=uc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const h=er._fromJSON(e,d);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Js(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Js(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uI(e))return"Blackberry";if(cI(e))return"Webos";if(sI(e))return"Safari";if((e.includes("chrome/")||oI(e))&&!e.includes("edge/"))return"Chrome";if(lI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function iI(t=Et()){return/firefox\//i.test(t)}function sI(t=Et()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oI(t=Et()){return/crios\//i.test(t)}function aI(t=Et()){return/iemobile/i.test(t)}function lI(t=Et()){return/android/i.test(t)}function uI(t=Et()){return/blackberry/i.test(t)}function cI(t=Et()){return/webos/i.test(t)}function Wy(t=Et()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function UU(t=Et()){var e;return Wy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function BU(){return t3()&&document.documentMode===10}function dI(t=Et()){return Wy(t)||lI(t)||cI(t)||uI(t)||/windows phone/i.test(t)||aI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(t,e=[]){let n;switch(t){case"Browser":n=Ux(Et());break;case"Worker":n=`${Ux(Et())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${No}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $U(t,e={}){return Tr(t,"GET","/v2/passwordPolicy",Ei(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU=6;class HU{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:WU,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bx(this),this.idTokenSubscription=new Bx(this),this.beforeStateQueue=new zU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=tr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Js.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await tI(this,{idToken:e}),r=await er._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ht(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await od(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ht(this.app))return Promise.reject(ar(this));const n=e?hn(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ht(this.app)?Promise.reject(ar(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ht(this.app)?Promise.reject(ar(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $U(this),n=new HU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await FU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&tr(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=await Js.create(this,[tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Ht(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&xU(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ti(t){return hn(t)}class Bx{constructor(e){this.auth=e,this.observer=null,this.addObserver=u3(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let th={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GU(t){th=t}function fI(t){return th.loadJS(t)}function qU(){return th.recaptchaEnterpriseScript}function QU(){return th.gapiScript}function YU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class XU{constructor(){this.enterprise=new JU}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class JU{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const ZU="recaptcha-enterprise",pI="NO_RECAPTCHA";class e9{constructor(e){this.type=ZU,this.auth=Ti(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{RU(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new AU(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Ox(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(pI)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new XU().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Ox(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=qU();l.length!==0&&(l+=a),fI(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function zx(t,e,n,r=!1,i=!1){const s=new e9(t);let o;if(i)o=pI;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Sm(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await zx(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await zx(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t9(t,e){const n=jy(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ts(s,e??{}))return i;fn(i,"already-initialized")}return n.initialize({options:e})}function n9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(tr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function r9(t,e,n){const r=Ti(t);J(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=mI(e),{host:o,port:a}=i9(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){J(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),J(ts(c,r.config.emulator)&&ts(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,s9()}function mI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function i9(t){const e=mI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:$x(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:$x(o)}}}function $x(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function s9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zn("not implemented")}_getIdTokenResponse(e){return Zn("not implemented")}_linkToIdToken(e,n){return Zn("not implemented")}_getReauthenticationResolver(e){return Zn("not implemented")}}async function o9(t,e){return Tr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a9(t,e){return zl(t,"POST","/v1/accounts:signInWithPassword",Ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l9(t,e){return zl(t,"POST","/v1/accounts:signInWithEmailLink",Ei(t,e))}async function u9(t,e){return zl(t,"POST","/v1/accounts:signInWithEmailLink",Ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml extends Hy{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ml(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ml(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sm(e,n,"signInWithPassword",a9);case"emailLink":return l9(e,{email:this._email,oobCode:this._password});default:fn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sm(e,r,"signUpPassword",o9);case"emailLink":return u9(e,{idToken:n,email:this._email,oobCode:this._password});default:fn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zs(t,e){return zl(t,"POST","/v1/accounts:signInWithIdp",Ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9="http://localhost";class rs extends Hy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new rs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Fy(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new rs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Zs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Zs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Zs(e,n)}buildRequest(){const e={requestUri:c9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ul(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function h9(t){const e=ga(ya(t)).link,n=e?ga(ya(e)).deep_link_id:null,r=ga(ya(t)).deep_link_id;return(r?ga(ya(r)).link:null)||r||n||e||t}class Ky{constructor(e){var n,r,i,s,o,a;const l=ga(ya(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=d9((i=l.mode)!==null&&i!==void 0?i:null);J(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=h9(e);try{return new Ky(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.providerId=Do.PROVIDER_ID}static credential(e,n){return ml._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ky.parseLink(n);return J(r,"argument-error"),ml._fromEmailAndCode(e,r.code,r.tenantId)}}Do.PROVIDER_ID="password";Do.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Do.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l extends Gy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends $l{constructor(){super("facebook.com")}static credential(e){return rs._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn extends $l{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return rs._fromParams({providerId:Yn.PROVIDER_ID,signInMethod:Yn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yn.credentialFromTaggedObject(e)}static credentialFromError(e){return Yn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Yn.credential(n,r)}catch{return null}}}Yn.GOOGLE_SIGN_IN_METHOD="google.com";Yn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends $l{constructor(){super("github.com")}static credential(e){return rs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jr.credential(e.oauthAccessToken)}catch{return null}}}jr.GITHUB_SIGN_IN_METHOD="github.com";jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends $l{constructor(){super("twitter.com")}static credential(e,n){return rs._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Fr.credential(n,r)}catch{return null}}}Fr.TWITTER_SIGN_IN_METHOD="twitter.com";Fr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f9(t,e){return zl(t,"POST","/v1/accounts:signUp",Ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await er._fromIdTokenResponse(e,r,i),o=Wx(r);return new is({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Wx(r);return new is({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Wx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad extends Er{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ad.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ad(e,n,r,i)}}function gI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ad._fromErrorAndOperation(t,s,e,r):s})}async function p9(t,e,n=!1){const r=await po(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return is._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m9(t,e,n=!1){const{auth:r}=t;if(Ht(r.app))return Promise.reject(ar(r));const i="reauthenticate";try{const s=await po(t,gI(r,i,e,t),n);J(s.idToken,r,"internal-error");const o=$y(s.idToken);J(o,r,"internal-error");const{sub:a}=o;return J(t.uid===a,r,"user-mismatch"),is._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&fn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yI(t,e,n=!1){if(Ht(t.app))return Promise.reject(ar(t));const r="signIn",i=await gI(t,r,e),s=await is._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function g9(t,e){return yI(Ti(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vI(t){const e=Ti(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function y9(t,e,n){if(Ht(t.app))return Promise.reject(ar(t));const r=Ti(t),o=await Sm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",f9).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&vI(t),l}),a=await is._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function v9(t,e,n){return Ht(t.app)?Promise.reject(ar(t)):g9(hn(t),Do.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&vI(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w9(t,e){return Tr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _9(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=hn(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await po(r,w9(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function x9(t,e,n,r){return hn(t).onIdTokenChanged(e,n,r)}function E9(t,e,n){return hn(t).beforeAuthStateChanged(e,n)}const ld="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ld,"1"),this.storage.removeItem(ld),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9=1e3,S9=10;class _I extends wI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);BU()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,S9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},T9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_I.type="LOCAL";const k9=_I;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI extends wI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xI.type="SESSION";const EI=xI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new nh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await b9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=qy("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const m=h;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return window}function P9(t){Un().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(){return typeof Un().WorkerGlobalScope<"u"&&typeof Un().importScripts=="function"}async function C9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function A9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function R9(){return TI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI="firebaseLocalStorageDb",N9=1,ud="firebaseLocalStorage",kI="fbase_key";class Wl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rh(t,e){return t.transaction([ud],e?"readwrite":"readonly").objectStore(ud)}function D9(){const t=indexedDB.deleteDatabase(SI);return new Wl(t).toPromise()}function km(){const t=indexedDB.open(SI,N9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ud,{keyPath:kI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ud)?e(r):(r.close(),await D9(),e(await km()))})})}async function Hx(t,e,n){const r=rh(t,!0).put({[kI]:e,value:n});return new Wl(r).toPromise()}async function M9(t,e){const n=rh(t,!1).get(e),r=await new Wl(n).toPromise();return r===void 0?null:r.value}function Kx(t,e){const n=rh(t,!0).delete(e);return new Wl(n).toPromise()}const V9=800,O9=3;class bI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await km(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>O9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nh._getInstance(R9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await C9(),!this.activeServiceWorker)return;this.sender=new I9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||A9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await km();return await Hx(e,ld,"1"),await Kx(e,ld),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Hx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>M9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Kx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=rh(i,!1).getAll();return new Wl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),V9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bI.type="LOCAL";const L9=bI;new Bl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(t,e){return e?tr(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy extends Hy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Zs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Zs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function j9(t){return yI(t.auth,new Qy(t),t.bypassAuthState)}function F9(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),m9(n,new Qy(t),t.bypassAuthState)}async function U9(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),p9(n,new Qy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return j9;case"linkViaPopup":case"linkViaRedirect":return U9;case"reauthViaPopup":case"reauthViaRedirect":return F9;default:fn(this.auth,"internal-error")}}resolve(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9=new Bl(2e3,1e4);async function CI(t,e,n){if(Ht(t.app))return Promise.reject(In(t,"operation-not-supported-in-this-environment"));const r=Ti(t);EU(t,e,Gy);const i=II(r,n);return new zi(r,"signInViaPopup",e,i).executeNotNull()}class zi extends PI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,zi.currentPopupAction&&zi.currentPopupAction.cancel(),zi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return J(e,this.auth,"internal-error"),e}async onExecution(){yr(this.filter.length===1,"Popup operations only handle one event");const e=qy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(In(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(In(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(In(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,B9.get())};e()}}zi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9="pendingRedirect",cc=new Map;class $9 extends PI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=cc.get(this.auth._key());if(!e){try{const r=await W9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}cc.set(this.auth._key(),e)}return this.bypassAuthState||cc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function W9(t,e){const n=G9(e),r=K9(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function H9(t,e){cc.set(t._key(),e)}function K9(t){return tr(t._redirectPersistence)}function G9(t){return uc(z9,t.config.apiKey,t.name)}async function q9(t,e,n=!1){if(Ht(t.app))return Promise.reject(ar(t));const r=Ti(t),i=II(r,e),o=await new $9(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9=10*60*1e3;class Y9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!X9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!AI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(In(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Q9&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gx(e))}saveEventToCache(e){this.cachedEventUids.add(Gx(e)),this.lastProcessedEventTime=Date.now()}}function Gx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function X9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J9(t,e={}){return Tr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e5=/^https?/;async function t5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await J9(t);for(const n of e)try{if(n5(n))return}catch{}fn(t,"unauthorized-domain")}function n5(t){const e=Em(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!e5.test(n))return!1;if(Z9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5=new Bl(3e4,6e4);function qx(){const t=Un().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function i5(t){return new Promise((e,n)=>{var r,i,s;function o(){qx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qx(),n(In(t,"network-request-failed"))},timeout:r5.get()})}if(!((i=(r=Un().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Un().gapi)===null||s===void 0)&&s.load)o();else{const a=YU("iframefcb");return Un()[a]=()=>{gapi.load?o():n(In(t,"network-request-failed"))},fI(`${QU()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw dc=null,e})}let dc=null;function s5(t){return dc=dc||i5(t),dc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5=new Bl(5e3,15e3),a5="__/auth/iframe",l5="emulator/auth/iframe",u5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},c5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function d5(t){const e=t.config;J(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zy(e,l5):`https://${t.config.authDomain}/${a5}`,r={apiKey:e.apiKey,appName:t.name,v:No},i=c5.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ul(r).slice(1)}`}async function h5(t){const e=await s5(t),n=Un().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:d5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:u5,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=In(t,"network-request-failed"),a=Un().setTimeout(()=>{s(o)},o5.get());function l(){Un().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},p5=500,m5=600,g5="_blank",y5="http://localhost";class Qx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function v5(t,e,n,r=p5,i=m5){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},f5),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Et().toLowerCase();n&&(a=oI(c)?g5:n),iI(c)&&(e=e||y5,l.scrollbars="yes");const d=Object.entries(l).reduce((m,[y,x])=>`${m}${y}=${x},`,"");if(UU(c)&&a!=="_self")return w5(e||"",a),new Qx(null);const h=window.open(e||"",a,d);J(h,t,"popup-blocked");try{h.focus()}catch{}return new Qx(h)}function w5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5="__/auth/handler",x5="emulator/auth/handler",E5=encodeURIComponent("fac");async function Yx(t,e,n,r,i,s){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:No,eventId:i};if(e instanceof Gy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",l3(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof $l){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${E5}=${encodeURIComponent(l)}`:"";return`${T5(t)}?${Ul(a).slice(1)}${c}`}function T5({config:t}){return t.emulator?zy(t,x5):`https://${t.authDomain}/${_5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="webStorageSupport";class S5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=EI,this._completeRedirectFn=q9,this._overrideRedirectResult=H9}async _openPopup(e,n,r,i){var s;yr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Yx(e,n,r,Em(),i);return v5(e,o,qy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Yx(e,n,r,Em(),i);return P9(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(yr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await h5(e),r=new Y9(e);return n.register("authEvent",i=>(J(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ff,{type:Ff},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Ff];o!==void 0&&n(!!o),fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=t5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return dI()||sI()||Wy()}}const k5=S5;var Xx="@firebase/auth",Jx="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function P5(t){fo(new ns("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;J(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hI(t)},c=new KU(r,i,s,l);return n9(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fo(new ns("auth-internal",e=>{const n=Ti(e.getProvider("auth").getImmediate());return(r=>new b5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ei(Xx,Jx,I5(t)),ei(Xx,Jx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5=5*60,A5=$b("authIdTokenMaxAge")||C5;let Zx=null;const R5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>A5)return;const i=n==null?void 0:n.token;Zx!==i&&(Zx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function N5(t=Gb()){const e=jy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=t9(t,{popupRedirectResolver:k5,persistence:[L9,k9,EI]}),r=$b("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=R5(s.toString());E9(n,o,()=>o(n.currentUser)),x9(n,a=>o(a))}}const i=Bb("auth");return i&&r9(n,`http://${i}`),n}function D5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}GU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=In("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",D5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});P5("Browser");var M5="firebase",V5="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ei(M5,V5,"app");var eE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ti,RI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,w){function b(){}b.prototype=w.prototype,k.D=w.prototype,k.prototype=new b,k.prototype.constructor=k,k.C=function(P,R,D){for(var A=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)A[Ee-2]=arguments[Ee];return w.prototype[R].apply(P,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,w,b){b||(b=0);var P=Array(16);if(typeof w=="string")for(var R=0;16>R;++R)P[R]=w.charCodeAt(b++)|w.charCodeAt(b++)<<8|w.charCodeAt(b++)<<16|w.charCodeAt(b++)<<24;else for(R=0;16>R;++R)P[R]=w[b++]|w[b++]<<8|w[b++]<<16|w[b++]<<24;w=k.g[0],b=k.g[1],R=k.g[2];var D=k.g[3],A=w+(D^b&(R^D))+P[0]+3614090360&4294967295;w=b+(A<<7&4294967295|A>>>25),A=D+(R^w&(b^R))+P[1]+3905402710&4294967295,D=w+(A<<12&4294967295|A>>>20),A=R+(b^D&(w^b))+P[2]+606105819&4294967295,R=D+(A<<17&4294967295|A>>>15),A=b+(w^R&(D^w))+P[3]+3250441966&4294967295,b=R+(A<<22&4294967295|A>>>10),A=w+(D^b&(R^D))+P[4]+4118548399&4294967295,w=b+(A<<7&4294967295|A>>>25),A=D+(R^w&(b^R))+P[5]+1200080426&4294967295,D=w+(A<<12&4294967295|A>>>20),A=R+(b^D&(w^b))+P[6]+2821735955&4294967295,R=D+(A<<17&4294967295|A>>>15),A=b+(w^R&(D^w))+P[7]+4249261313&4294967295,b=R+(A<<22&4294967295|A>>>10),A=w+(D^b&(R^D))+P[8]+1770035416&4294967295,w=b+(A<<7&4294967295|A>>>25),A=D+(R^w&(b^R))+P[9]+2336552879&4294967295,D=w+(A<<12&4294967295|A>>>20),A=R+(b^D&(w^b))+P[10]+4294925233&4294967295,R=D+(A<<17&4294967295|A>>>15),A=b+(w^R&(D^w))+P[11]+2304563134&4294967295,b=R+(A<<22&4294967295|A>>>10),A=w+(D^b&(R^D))+P[12]+1804603682&4294967295,w=b+(A<<7&4294967295|A>>>25),A=D+(R^w&(b^R))+P[13]+4254626195&4294967295,D=w+(A<<12&4294967295|A>>>20),A=R+(b^D&(w^b))+P[14]+2792965006&4294967295,R=D+(A<<17&4294967295|A>>>15),A=b+(w^R&(D^w))+P[15]+1236535329&4294967295,b=R+(A<<22&4294967295|A>>>10),A=w+(R^D&(b^R))+P[1]+4129170786&4294967295,w=b+(A<<5&4294967295|A>>>27),A=D+(b^R&(w^b))+P[6]+3225465664&4294967295,D=w+(A<<9&4294967295|A>>>23),A=R+(w^b&(D^w))+P[11]+643717713&4294967295,R=D+(A<<14&4294967295|A>>>18),A=b+(D^w&(R^D))+P[0]+3921069994&4294967295,b=R+(A<<20&4294967295|A>>>12),A=w+(R^D&(b^R))+P[5]+3593408605&4294967295,w=b+(A<<5&4294967295|A>>>27),A=D+(b^R&(w^b))+P[10]+38016083&4294967295,D=w+(A<<9&4294967295|A>>>23),A=R+(w^b&(D^w))+P[15]+3634488961&4294967295,R=D+(A<<14&4294967295|A>>>18),A=b+(D^w&(R^D))+P[4]+3889429448&4294967295,b=R+(A<<20&4294967295|A>>>12),A=w+(R^D&(b^R))+P[9]+568446438&4294967295,w=b+(A<<5&4294967295|A>>>27),A=D+(b^R&(w^b))+P[14]+3275163606&4294967295,D=w+(A<<9&4294967295|A>>>23),A=R+(w^b&(D^w))+P[3]+4107603335&4294967295,R=D+(A<<14&4294967295|A>>>18),A=b+(D^w&(R^D))+P[8]+1163531501&4294967295,b=R+(A<<20&4294967295|A>>>12),A=w+(R^D&(b^R))+P[13]+2850285829&4294967295,w=b+(A<<5&4294967295|A>>>27),A=D+(b^R&(w^b))+P[2]+4243563512&4294967295,D=w+(A<<9&4294967295|A>>>23),A=R+(w^b&(D^w))+P[7]+1735328473&4294967295,R=D+(A<<14&4294967295|A>>>18),A=b+(D^w&(R^D))+P[12]+2368359562&4294967295,b=R+(A<<20&4294967295|A>>>12),A=w+(b^R^D)+P[5]+4294588738&4294967295,w=b+(A<<4&4294967295|A>>>28),A=D+(w^b^R)+P[8]+2272392833&4294967295,D=w+(A<<11&4294967295|A>>>21),A=R+(D^w^b)+P[11]+1839030562&4294967295,R=D+(A<<16&4294967295|A>>>16),A=b+(R^D^w)+P[14]+4259657740&4294967295,b=R+(A<<23&4294967295|A>>>9),A=w+(b^R^D)+P[1]+2763975236&4294967295,w=b+(A<<4&4294967295|A>>>28),A=D+(w^b^R)+P[4]+1272893353&4294967295,D=w+(A<<11&4294967295|A>>>21),A=R+(D^w^b)+P[7]+4139469664&4294967295,R=D+(A<<16&4294967295|A>>>16),A=b+(R^D^w)+P[10]+3200236656&4294967295,b=R+(A<<23&4294967295|A>>>9),A=w+(b^R^D)+P[13]+681279174&4294967295,w=b+(A<<4&4294967295|A>>>28),A=D+(w^b^R)+P[0]+3936430074&4294967295,D=w+(A<<11&4294967295|A>>>21),A=R+(D^w^b)+P[3]+3572445317&4294967295,R=D+(A<<16&4294967295|A>>>16),A=b+(R^D^w)+P[6]+76029189&4294967295,b=R+(A<<23&4294967295|A>>>9),A=w+(b^R^D)+P[9]+3654602809&4294967295,w=b+(A<<4&4294967295|A>>>28),A=D+(w^b^R)+P[12]+3873151461&4294967295,D=w+(A<<11&4294967295|A>>>21),A=R+(D^w^b)+P[15]+530742520&4294967295,R=D+(A<<16&4294967295|A>>>16),A=b+(R^D^w)+P[2]+3299628645&4294967295,b=R+(A<<23&4294967295|A>>>9),A=w+(R^(b|~D))+P[0]+4096336452&4294967295,w=b+(A<<6&4294967295|A>>>26),A=D+(b^(w|~R))+P[7]+1126891415&4294967295,D=w+(A<<10&4294967295|A>>>22),A=R+(w^(D|~b))+P[14]+2878612391&4294967295,R=D+(A<<15&4294967295|A>>>17),A=b+(D^(R|~w))+P[5]+4237533241&4294967295,b=R+(A<<21&4294967295|A>>>11),A=w+(R^(b|~D))+P[12]+1700485571&4294967295,w=b+(A<<6&4294967295|A>>>26),A=D+(b^(w|~R))+P[3]+2399980690&4294967295,D=w+(A<<10&4294967295|A>>>22),A=R+(w^(D|~b))+P[10]+4293915773&4294967295,R=D+(A<<15&4294967295|A>>>17),A=b+(D^(R|~w))+P[1]+2240044497&4294967295,b=R+(A<<21&4294967295|A>>>11),A=w+(R^(b|~D))+P[8]+1873313359&4294967295,w=b+(A<<6&4294967295|A>>>26),A=D+(b^(w|~R))+P[15]+4264355552&4294967295,D=w+(A<<10&4294967295|A>>>22),A=R+(w^(D|~b))+P[6]+2734768916&4294967295,R=D+(A<<15&4294967295|A>>>17),A=b+(D^(R|~w))+P[13]+1309151649&4294967295,b=R+(A<<21&4294967295|A>>>11),A=w+(R^(b|~D))+P[4]+4149444226&4294967295,w=b+(A<<6&4294967295|A>>>26),A=D+(b^(w|~R))+P[11]+3174756917&4294967295,D=w+(A<<10&4294967295|A>>>22),A=R+(w^(D|~b))+P[2]+718787259&4294967295,R=D+(A<<15&4294967295|A>>>17),A=b+(D^(R|~w))+P[9]+3951481745&4294967295,k.g[0]=k.g[0]+w&4294967295,k.g[1]=k.g[1]+(R+(A<<21&4294967295|A>>>11))&4294967295,k.g[2]=k.g[2]+R&4294967295,k.g[3]=k.g[3]+D&4294967295}r.prototype.u=function(k,w){w===void 0&&(w=k.length);for(var b=w-this.blockSize,P=this.B,R=this.h,D=0;D<w;){if(R==0)for(;D<=b;)i(this,k,D),D+=this.blockSize;if(typeof k=="string"){for(;D<w;)if(P[R++]=k.charCodeAt(D++),R==this.blockSize){i(this,P),R=0;break}}else for(;D<w;)if(P[R++]=k[D++],R==this.blockSize){i(this,P),R=0;break}}this.h=R,this.o+=w},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var w=1;w<k.length-8;++w)k[w]=0;var b=8*this.o;for(w=k.length-8;w<k.length;++w)k[w]=b&255,b/=256;for(this.u(k),k=Array(16),w=b=0;4>w;++w)for(var P=0;32>P;P+=8)k[b++]=this.g[w]>>>P&255;return k};function s(k,w){var b=a;return Object.prototype.hasOwnProperty.call(b,k)?b[k]:b[k]=w(k)}function o(k,w){this.h=w;for(var b=[],P=!0,R=k.length-1;0<=R;R--){var D=k[R]|0;P&&D==w||(b[R]=D,P=!1)}this.g=b}var a={};function l(k){return-128<=k&&128>k?s(k,function(w){return new o([w|0],0>w?-1:0)}):new o([k|0],0>k?-1:0)}function c(k){if(isNaN(k)||!isFinite(k))return h;if(0>k)return I(c(-k));for(var w=[],b=1,P=0;k>=b;P++)w[P]=k/b|0,b*=4294967296;return new o(w,0)}function d(k,w){if(k.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(k.charAt(0)=="-")return I(d(k.substring(1),w));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=c(Math.pow(w,8)),P=h,R=0;R<k.length;R+=8){var D=Math.min(8,k.length-R),A=parseInt(k.substring(R,R+D),w);8>D?(D=c(Math.pow(w,D)),P=P.j(D).add(c(A))):(P=P.j(b),P=P.add(c(A)))}return P}var h=l(0),m=l(1),y=l(16777216);t=o.prototype,t.m=function(){if(S(this))return-I(this).m();for(var k=0,w=1,b=0;b<this.g.length;b++){var P=this.i(b);k+=(0<=P?P:4294967296+P)*w,w*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(x(this))return"0";if(S(this))return"-"+I(this).toString(k);for(var w=c(Math.pow(k,6)),b=this,P="";;){var R=N(b,w).g;b=v(b,R.j(w));var D=((0<b.g.length?b.g[0]:b.h)>>>0).toString(k);if(b=R,x(b))return D+P;for(;6>D.length;)D="0"+D;P=D+P}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function x(k){if(k.h!=0)return!1;for(var w=0;w<k.g.length;w++)if(k.g[w]!=0)return!1;return!0}function S(k){return k.h==-1}t.l=function(k){return k=v(this,k),S(k)?-1:x(k)?0:1};function I(k){for(var w=k.g.length,b=[],P=0;P<w;P++)b[P]=~k.g[P];return new o(b,~k.h).add(m)}t.abs=function(){return S(this)?I(this):this},t.add=function(k){for(var w=Math.max(this.g.length,k.g.length),b=[],P=0,R=0;R<=w;R++){var D=P+(this.i(R)&65535)+(k.i(R)&65535),A=(D>>>16)+(this.i(R)>>>16)+(k.i(R)>>>16);P=A>>>16,D&=65535,A&=65535,b[R]=A<<16|D}return new o(b,b[b.length-1]&-2147483648?-1:0)};function v(k,w){return k.add(I(w))}t.j=function(k){if(x(this)||x(k))return h;if(S(this))return S(k)?I(this).j(I(k)):I(I(this).j(k));if(S(k))return I(this.j(I(k)));if(0>this.l(y)&&0>k.l(y))return c(this.m()*k.m());for(var w=this.g.length+k.g.length,b=[],P=0;P<2*w;P++)b[P]=0;for(P=0;P<this.g.length;P++)for(var R=0;R<k.g.length;R++){var D=this.i(P)>>>16,A=this.i(P)&65535,Ee=k.i(R)>>>16,ut=k.i(R)&65535;b[2*P+2*R]+=A*ut,_(b,2*P+2*R),b[2*P+2*R+1]+=D*ut,_(b,2*P+2*R+1),b[2*P+2*R+1]+=A*Ee,_(b,2*P+2*R+1),b[2*P+2*R+2]+=D*Ee,_(b,2*P+2*R+2)}for(P=0;P<w;P++)b[P]=b[2*P+1]<<16|b[2*P];for(P=w;P<2*w;P++)b[P]=0;return new o(b,0)};function _(k,w){for(;(k[w]&65535)!=k[w];)k[w+1]+=k[w]>>>16,k[w]&=65535,w++}function E(k,w){this.g=k,this.h=w}function N(k,w){if(x(w))throw Error("division by zero");if(x(k))return new E(h,h);if(S(k))return w=N(I(k),w),new E(I(w.g),I(w.h));if(S(w))return w=N(k,I(w)),new E(I(w.g),w.h);if(30<k.g.length){if(S(k)||S(w))throw Error("slowDivide_ only works with positive integers.");for(var b=m,P=w;0>=P.l(k);)b=O(b),P=O(P);var R=M(b,1),D=M(P,1);for(P=M(P,2),b=M(b,2);!x(P);){var A=D.add(P);0>=A.l(k)&&(R=R.add(b),D=A),P=M(P,1),b=M(b,1)}return w=v(k,R.j(w)),new E(R,w)}for(R=h;0<=k.l(w);){for(b=Math.max(1,Math.floor(k.m()/w.m())),P=Math.ceil(Math.log(b)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),D=c(b),A=D.j(w);S(A)||0<A.l(k);)b-=P,D=c(b),A=D.j(w);x(D)&&(D=m),R=R.add(D),k=v(k,A)}return new E(R,k)}t.A=function(k){return N(this,k).h},t.and=function(k){for(var w=Math.max(this.g.length,k.g.length),b=[],P=0;P<w;P++)b[P]=this.i(P)&k.i(P);return new o(b,this.h&k.h)},t.or=function(k){for(var w=Math.max(this.g.length,k.g.length),b=[],P=0;P<w;P++)b[P]=this.i(P)|k.i(P);return new o(b,this.h|k.h)},t.xor=function(k){for(var w=Math.max(this.g.length,k.g.length),b=[],P=0;P<w;P++)b[P]=this.i(P)^k.i(P);return new o(b,this.h^k.h)};function O(k){for(var w=k.g.length+1,b=[],P=0;P<w;P++)b[P]=k.i(P)<<1|k.i(P-1)>>>31;return new o(b,k.h)}function M(k,w){var b=w>>5;w%=32;for(var P=k.g.length-b,R=[],D=0;D<P;D++)R[D]=0<w?k.i(D+b)>>>w|k.i(D+b+1)<<32-w:k.i(D+b);return new o(R,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,RI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,ti=o}).apply(typeof eE<"u"?eE:typeof self<"u"?self:typeof window<"u"?window:{});var Fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var NI,va,DI,hc,bm,MI,VI,OI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,f,g){return u==Array.prototype||u==Object.prototype||(u[f]=g.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fu=="object"&&Fu];for(var f=0;f<u.length;++f){var g=u[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(u,f){if(f)e:{var g=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var V=u[T];if(!(V in g))break e;g=g[V]}u=u[u.length-1],T=g[u],f=f(T),f!=T&&f!=null&&e(g,u,{configurable:!0,writable:!0,value:f})}}function s(u,f){u instanceof String&&(u+="");var g=0,T=!1,V={next:function(){if(!T&&g<u.length){var L=g++;return{value:f(L,u[L]),done:!1}}return T=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(u){return u||function(){return s(this,function(f,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var f=typeof u;return f=f!="object"?f:u?Array.isArray(u)?"array":f:"null",f=="array"||f=="object"&&typeof u.length=="number"}function c(u){var f=typeof u;return f=="object"&&u!=null||f=="function"}function d(u,f,g){return u.call.apply(u.bind,arguments)}function h(u,f,g){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,T),u.apply(f,V)}}return function(){return u.apply(f,arguments)}}function m(u,f,g){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,m.apply(null,arguments)}function y(u,f){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function x(u,f){function g(){}g.prototype=f.prototype,u.aa=f.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(T,V,L){for(var z=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)z[ye-2]=arguments[ye];return f.prototype[V].apply(T,z)}}function S(u){const f=u.length;if(0<f){const g=Array(f);for(let T=0;T<f;T++)g[T]=u[T];return g}return[]}function I(u,f){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(l(T)){const V=u.length||0,L=T.length||0;u.length=V+L;for(let z=0;z<L;z++)u[V+z]=T[z]}else u.push(T)}}class v{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function _(u){return/^[\s\xa0]*$/.test(u)}function E(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function N(u){return N[" "](u),u}N[" "]=function(){};var O=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function M(u,f,g){for(const T in u)f.call(g,u[T],T,u)}function k(u,f){for(const g in u)f.call(void 0,u[g],g,u)}function w(u){const f={};for(const g in u)f[g]=u[g];return f}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,f){let g,T;for(let V=1;V<arguments.length;V++){T=arguments[V];for(g in T)u[g]=T[g];for(let L=0;L<b.length;L++)g=b[L],Object.prototype.hasOwnProperty.call(T,g)&&(u[g]=T[g])}}function R(u){var f=1;u=u.split(":");const g=[];for(;0<f&&u.length;)g.push(u.shift()),f--;return u.length&&g.push(u.join(":")),g}function D(u){a.setTimeout(()=>{throw u},0)}function A(){var u=H;let f=null;return u.g&&(f=u.g,u.g=u.g.next,u.g||(u.h=null),f.next=null),f}class Ee{constructor(){this.h=this.g=null}add(f,g){const T=ut.get();T.set(f,g),this.h?this.h.next=T:this.g=T,this.h=T}}var ut=new v(()=>new le,u=>u.reset());class le{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,F=!1,H=new Ee,Y=()=>{const u=a.Promise.resolve(void 0);pe=()=>{u.then(we)}};var we=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(g){D(g)}var f=ut;f.j(u),100>f.h&&(f.h++,u.next=f.g,f.g=u)}F=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function be(u,f){this.type=u,this.g=this.target=f,this.defaultPrevented=!1}be.prototype.h=function(){this.defaultPrevented=!0};var Dt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return u}();function Mt(u,f){if(be.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=f,f=u.relatedTarget){if(O){e:{try{N(f.nodeName);var V=!0;break e}catch{}V=!1}V||(f=null)}}else g=="mouseover"?f=u.fromElement:g=="mouseout"&&(f=u.toElement);this.relatedTarget=f,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:zt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Mt.aa.h.call(this)}}x(Mt,be);var zt={2:"touch",3:"pen",4:"mouse"};Mt.prototype.h=function(){Mt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Vt="closure_listenable_"+(1e6*Math.random()|0),dC=0;function hC(u,f,g,T,V){this.listener=u,this.proxy=null,this.src=f,this.type=g,this.capture=!!T,this.ha=V,this.key=++dC,this.da=this.fa=!1}function Ql(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Yl(u){this.src=u,this.g={},this.h=0}Yl.prototype.add=function(u,f,g,T,V){var L=u.toString();u=this.g[L],u||(u=this.g[L]=[],this.h++);var z=vh(u,f,T,V);return-1<z?(f=u[z],g||(f.fa=!1)):(f=new hC(f,this.src,L,!!T,V),f.fa=g,u.push(f)),f};function yh(u,f){var g=f.type;if(g in u.g){var T=u.g[g],V=Array.prototype.indexOf.call(T,f,void 0),L;(L=0<=V)&&Array.prototype.splice.call(T,V,1),L&&(Ql(f),u.g[g].length==0&&(delete u.g[g],u.h--))}}function vh(u,f,g,T){for(var V=0;V<u.length;++V){var L=u[V];if(!L.da&&L.listener==f&&L.capture==!!g&&L.ha==T)return V}return-1}var wh="closure_lm_"+(1e6*Math.random()|0),_h={};function Av(u,f,g,T,V){if(Array.isArray(f)){for(var L=0;L<f.length;L++)Av(u,f[L],g,T,V);return null}return g=Dv(g),u&&u[Vt]?u.K(f,g,c(T)?!!T.capture:!1,V):fC(u,f,g,!1,T,V)}function fC(u,f,g,T,V,L){if(!f)throw Error("Invalid event type");var z=c(V)?!!V.capture:!!V,ye=Eh(u);if(ye||(u[wh]=ye=new Yl(u)),g=ye.add(f,g,T,z,L),g.proxy)return g;if(T=pC(),g.proxy=T,T.src=u,T.listener=g,u.addEventListener)Dt||(V=z),V===void 0&&(V=!1),u.addEventListener(f.toString(),T,V);else if(u.attachEvent)u.attachEvent(Nv(f.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function pC(){function u(g){return f.call(u.src,u.listener,g)}const f=mC;return u}function Rv(u,f,g,T,V){if(Array.isArray(f))for(var L=0;L<f.length;L++)Rv(u,f[L],g,T,V);else T=c(T)?!!T.capture:!!T,g=Dv(g),u&&u[Vt]?(u=u.i,f=String(f).toString(),f in u.g&&(L=u.g[f],g=vh(L,g,T,V),-1<g&&(Ql(L[g]),Array.prototype.splice.call(L,g,1),L.length==0&&(delete u.g[f],u.h--)))):u&&(u=Eh(u))&&(f=u.g[f.toString()],u=-1,f&&(u=vh(f,g,T,V)),(g=-1<u?f[u]:null)&&xh(g))}function xh(u){if(typeof u!="number"&&u&&!u.da){var f=u.src;if(f&&f[Vt])yh(f.i,u);else{var g=u.type,T=u.proxy;f.removeEventListener?f.removeEventListener(g,T,u.capture):f.detachEvent?f.detachEvent(Nv(g),T):f.addListener&&f.removeListener&&f.removeListener(T),(g=Eh(f))?(yh(g,u),g.h==0&&(g.src=null,f[wh]=null)):Ql(u)}}}function Nv(u){return u in _h?_h[u]:_h[u]="on"+u}function mC(u,f){if(u.da)u=!0;else{f=new Mt(f,this);var g=u.listener,T=u.ha||u.src;u.fa&&xh(u),u=g.call(T,f)}return u}function Eh(u){return u=u[wh],u instanceof Yl?u:null}var Th="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dv(u){return typeof u=="function"?u:(u[Th]||(u[Th]=function(f){return u.handleEvent(f)}),u[Th])}function ct(){he.call(this),this.i=new Yl(this),this.M=this,this.F=null}x(ct,he),ct.prototype[Vt]=!0,ct.prototype.removeEventListener=function(u,f,g,T){Rv(this,u,f,g,T)};function St(u,f){var g,T=u.F;if(T)for(g=[];T;T=T.F)g.push(T);if(u=u.M,T=f.type||f,typeof f=="string")f=new be(f,u);else if(f instanceof be)f.target=f.target||u;else{var V=f;f=new be(T,u),P(f,V)}if(V=!0,g)for(var L=g.length-1;0<=L;L--){var z=f.g=g[L];V=Xl(z,T,!0,f)&&V}if(z=f.g=u,V=Xl(z,T,!0,f)&&V,V=Xl(z,T,!1,f)&&V,g)for(L=0;L<g.length;L++)z=f.g=g[L],V=Xl(z,T,!1,f)&&V}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var u=this.i,f;for(f in u.g){for(var g=u.g[f],T=0;T<g.length;T++)Ql(g[T]);delete u.g[f],u.h--}}this.F=null},ct.prototype.K=function(u,f,g,T){return this.i.add(String(u),f,!1,g,T)},ct.prototype.L=function(u,f,g,T){return this.i.add(String(u),f,!0,g,T)};function Xl(u,f,g,T){if(f=u.i.g[String(f)],!f)return!0;f=f.concat();for(var V=!0,L=0;L<f.length;++L){var z=f[L];if(z&&!z.da&&z.capture==g){var ye=z.listener,et=z.ha||z.src;z.fa&&yh(u.i,z),V=ye.call(et,T)!==!1&&V}}return V&&!T.defaultPrevented}function Mv(u,f,g){if(typeof u=="function")g&&(u=m(u,g));else if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(u,f||0)}function Vv(u){u.g=Mv(()=>{u.g=null,u.i&&(u.i=!1,Vv(u))},u.l);const f=u.h;u.h=null,u.m.apply(null,f)}class gC extends he{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Vv(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jo(u){he.call(this),this.h=u,this.g={}}x(jo,he);var Ov=[];function Lv(u){M(u.g,function(f,g){this.g.hasOwnProperty(g)&&xh(f)},u),u.g={}}jo.prototype.N=function(){jo.aa.N.call(this),Lv(this)},jo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sh=a.JSON.stringify,yC=a.JSON.parse,vC=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function kh(){}kh.prototype.h=null;function jv(u){return u.h||(u.h=u.i())}function Fv(){}var Fo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bh(){be.call(this,"d")}x(bh,be);function Ih(){be.call(this,"c")}x(Ih,be);var Si={},Uv=null;function Jl(){return Uv=Uv||new ct}Si.La="serverreachability";function Bv(u){be.call(this,Si.La,u)}x(Bv,be);function Uo(u){const f=Jl();St(f,new Bv(f))}Si.STAT_EVENT="statevent";function zv(u,f){be.call(this,Si.STAT_EVENT,u),this.stat=f}x(zv,be);function kt(u){const f=Jl();St(f,new zv(f,u))}Si.Ma="timingevent";function $v(u,f){be.call(this,Si.Ma,u),this.size=f}x($v,be);function Bo(u,f){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},f)}function zo(){this.g=!0}zo.prototype.xa=function(){this.g=!1};function wC(u,f,g,T,V,L){u.info(function(){if(u.g)if(L)for(var z="",ye=L.split("&"),et=0;et<ye.length;et++){var ce=ye[et].split("=");if(1<ce.length){var dt=ce[0];ce=ce[1];var ht=dt.split("_");z=2<=ht.length&&ht[1]=="type"?z+(dt+"="+ce+"&"):z+(dt+"=redacted&")}}else z=null;else z=L;return"XMLHTTP REQ ("+T+") [attempt "+V+"]: "+f+`
`+g+`
`+z})}function _C(u,f,g,T,V,L,z){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+V+"]: "+f+`
`+g+`
`+L+" "+z})}function gs(u,f,g,T){u.info(function(){return"XMLHTTP TEXT ("+f+"): "+EC(u,g)+(T?" "+T:"")})}function xC(u,f){u.info(function(){return"TIMEOUT: "+f})}zo.prototype.info=function(){};function EC(u,f){if(!u.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var T=g[u];if(!(2>T.length)){var V=T[1];if(Array.isArray(V)&&!(1>V.length)){var L=V[0];if(L!="noop"&&L!="stop"&&L!="close")for(var z=1;z<V.length;z++)V[z]=""}}}}return Sh(g)}catch{return f}}var Zl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Wv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ph;function eu(){}x(eu,kh),eu.prototype.g=function(){return new XMLHttpRequest},eu.prototype.i=function(){return{}},Ph=new eu;function Sr(u,f,g,T){this.j=u,this.i=f,this.l=g,this.R=T||1,this.U=new jo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hv}function Hv(){this.i=null,this.g="",this.h=!1}var Kv={},Ch={};function Ah(u,f,g){u.L=1,u.v=iu(Hn(f)),u.m=g,u.P=!0,Gv(u,null)}function Gv(u,f){u.F=Date.now(),tu(u),u.A=Hn(u.v);var g=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),a0(g.i,"t",T),u.C=0,g=u.j.J,u.h=new Hv,u.g=k0(u.j,g?f:null,!u.m),0<u.O&&(u.M=new gC(m(u.Y,u,u.g),u.O)),f=u.U,g=u.g,T=u.ca;var V="readystatechange";Array.isArray(V)||(V&&(Ov[0]=V.toString()),V=Ov);for(var L=0;L<V.length;L++){var z=Av(g,V[L],T||f.handleEvent,!1,f.h||f);if(!z)break;f.g[z.key]=z}f=u.H?w(u.H):{},u.m?(u.u||(u.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,f)):(u.u="GET",u.g.ea(u.A,u.u,null,f)),Uo(),wC(u.i,u.u,u.A,u.l,u.R,u.m)}Sr.prototype.ca=function(u){u=u.target;const f=this.M;f&&Kn(u)==3?f.j():this.Y(u)},Sr.prototype.Y=function(u){try{if(u==this.g)e:{const ht=Kn(this.g);var f=this.g.Ba();const ws=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||p0(this.g)))){this.J||ht!=4||f==7||(f==8||0>=ws?Uo(3):Uo(2)),Rh(this);var g=this.g.Z();this.X=g;t:if(qv(this)){var T=p0(this.g);u="";var V=T.length,L=Kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ki(this),$o(this);var z="";break t}this.h.i=new a.TextDecoder}for(f=0;f<V;f++)this.h.h=!0,u+=this.h.i.decode(T[f],{stream:!(L&&f==V-1)});T.length=0,this.h.g+=u,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=g==200,_C(this.i,this.u,this.A,this.l,this.R,ht,g),this.o){if(this.T&&!this.K){t:{if(this.g){var ye,et=this.g;if((ye=et.g?et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(ye)){var ce=ye;break t}}ce=null}if(g=ce)gs(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nh(this,g);else{this.o=!1,this.s=3,kt(12),ki(this),$o(this);break e}}if(this.P){g=!0;let mn;for(;!this.J&&this.C<z.length;)if(mn=TC(this,z),mn==Ch){ht==4&&(this.s=4,kt(14),g=!1),gs(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==Kv){this.s=4,kt(15),gs(this.i,this.l,z,"[Invalid Chunk]"),g=!1;break}else gs(this.i,this.l,mn,null),Nh(this,mn);if(qv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||z.length!=0||this.h.h||(this.s=1,kt(16),g=!1),this.o=this.o&&g,!g)gs(this.i,this.l,z,"[Invalid Chunked Response]"),ki(this),$o(this);else if(0<z.length&&!this.W){this.W=!0;var dt=this.j;dt.g==this&&dt.ba&&!dt.M&&(dt.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),jh(dt),dt.M=!0,kt(11))}}else gs(this.i,this.l,z,null),Nh(this,z);ht==4&&ki(this),this.o&&!this.J&&(ht==4?x0(this.j,this):(this.o=!1,tu(this)))}else UC(this.g),g==400&&0<z.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),ki(this),$o(this)}}}catch{}finally{}};function qv(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function TC(u,f){var g=u.C,T=f.indexOf(`
`,g);return T==-1?Ch:(g=Number(f.substring(g,T)),isNaN(g)?Kv:(T+=1,T+g>f.length?Ch:(f=f.slice(T,T+g),u.C=T+g,f)))}Sr.prototype.cancel=function(){this.J=!0,ki(this)};function tu(u){u.S=Date.now()+u.I,Qv(u,u.I)}function Qv(u,f){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Bo(m(u.ba,u),f)}function Rh(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Sr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(xC(this.i,this.A),this.L!=2&&(Uo(),kt(17)),ki(this),this.s=2,$o(this)):Qv(this,this.S-u)};function $o(u){u.j.G==0||u.J||x0(u.j,u)}function ki(u){Rh(u);var f=u.M;f&&typeof f.ma=="function"&&f.ma(),u.M=null,Lv(u.U),u.g&&(f=u.g,u.g=null,f.abort(),f.ma())}function Nh(u,f){try{var g=u.j;if(g.G!=0&&(g.g==u||Dh(g.h,u))){if(!u.K&&Dh(g.h,u)&&g.G==3){try{var T=g.Da.g.parse(f)}catch{T=null}if(Array.isArray(T)&&T.length==3){var V=T;if(V[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)cu(g),lu(g);else break e;Lh(g),kt(18)}}else g.za=V[1],0<g.za-g.T&&37500>V[2]&&g.F&&g.v==0&&!g.C&&(g.C=Bo(m(g.Za,g),6e3));if(1>=Jv(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Ii(g,11)}else if((u.K||g.g==u)&&cu(g),!_(f))for(V=g.Da.g.parse(f),f=0;f<V.length;f++){let ce=V[f];if(g.T=ce[0],ce=ce[1],g.G==2)if(ce[0]=="c"){g.K=ce[1],g.ia=ce[2];const dt=ce[3];dt!=null&&(g.la=dt,g.j.info("VER="+g.la));const ht=ce[4];ht!=null&&(g.Aa=ht,g.j.info("SVER="+g.Aa));const ws=ce[5];ws!=null&&typeof ws=="number"&&0<ws&&(T=1.5*ws,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const mn=u.g;if(mn){const hu=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hu){var L=T.h;L.g||hu.indexOf("spdy")==-1&&hu.indexOf("quic")==-1&&hu.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Mh(L,L.h),L.h=null))}if(T.D){const Fh=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Fh&&(T.ya=Fh,Te(T.I,T.D,Fh))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var z=u;if(T.qa=S0(T,T.J?T.ia:null,T.W),z.K){Zv(T.h,z);var ye=z,et=T.L;et&&(ye.I=et),ye.B&&(Rh(ye),tu(ye)),T.g=z}else w0(T);0<g.i.length&&uu(g)}else ce[0]!="stop"&&ce[0]!="close"||Ii(g,7);else g.G==3&&(ce[0]=="stop"||ce[0]=="close"?ce[0]=="stop"?Ii(g,7):Oh(g):ce[0]!="noop"&&g.l&&g.l.ta(ce),g.v=0)}}Uo(4)}catch{}}var SC=class{constructor(u,f){this.g=u,this.map=f}};function Yv(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xv(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Jv(u){return u.h?1:u.g?u.g.size:0}function Dh(u,f){return u.h?u.h==f:u.g?u.g.has(f):!1}function Mh(u,f){u.g?u.g.add(f):u.h=f}function Zv(u,f){u.h&&u.h==f?u.h=null:u.g&&u.g.has(f)&&u.g.delete(f)}Yv.prototype.cancel=function(){if(this.i=e0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function e0(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let f=u.i;for(const g of u.g.values())f=f.concat(g.D);return f}return S(u.i)}function kC(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var f=[],g=u.length,T=0;T<g;T++)f.push(u[T]);return f}f=[],g=0;for(T in u)f[g++]=u[T];return f}function bC(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var f=[];u=u.length;for(var g=0;g<u;g++)f.push(g);return f}f=[],g=0;for(const T in u)f[g++]=T;return f}}}function t0(u,f){if(u.forEach&&typeof u.forEach=="function")u.forEach(f,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,f,void 0);else for(var g=bC(u),T=kC(u),V=T.length,L=0;L<V;L++)f.call(void 0,T[L],g&&g[L],u)}var n0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function IC(u,f){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var T=u[g].indexOf("="),V=null;if(0<=T){var L=u[g].substring(0,T);V=u[g].substring(T+1)}else L=u[g];f(L,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function bi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof bi){this.h=u.h,nu(this,u.j),this.o=u.o,this.g=u.g,ru(this,u.s),this.l=u.l;var f=u.i,g=new Ko;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),r0(this,g),this.m=u.m}else u&&(f=String(u).match(n0))?(this.h=!1,nu(this,f[1]||"",!0),this.o=Wo(f[2]||""),this.g=Wo(f[3]||"",!0),ru(this,f[4]),this.l=Wo(f[5]||"",!0),r0(this,f[6]||"",!0),this.m=Wo(f[7]||"")):(this.h=!1,this.i=new Ko(null,this.h))}bi.prototype.toString=function(){var u=[],f=this.j;f&&u.push(Ho(f,i0,!0),":");var g=this.g;return(g||f=="file")&&(u.push("//"),(f=this.o)&&u.push(Ho(f,i0,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(Ho(g,g.charAt(0)=="/"?AC:CC,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",Ho(g,NC)),u.join("")};function Hn(u){return new bi(u)}function nu(u,f,g){u.j=g?Wo(f,!0):f,u.j&&(u.j=u.j.replace(/:$/,""))}function ru(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.s=f}else u.s=null}function r0(u,f,g){f instanceof Ko?(u.i=f,DC(u.i,u.h)):(g||(f=Ho(f,RC)),u.i=new Ko(f,u.h))}function Te(u,f,g){u.i.set(f,g)}function iu(u){return Te(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Wo(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ho(u,f,g){return typeof u=="string"?(u=encodeURI(u).replace(f,PC),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function PC(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var i0=/[#\/\?@]/g,CC=/[#\?:]/g,AC=/[#\?]/g,RC=/[#\?@]/g,NC=/#/g;function Ko(u,f){this.h=this.g=null,this.i=u||null,this.j=!!f}function kr(u){u.g||(u.g=new Map,u.h=0,u.i&&IC(u.i,function(f,g){u.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=Ko.prototype,t.add=function(u,f){kr(this),this.i=null,u=ys(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(f),this.h+=1,this};function s0(u,f){kr(u),f=ys(u,f),u.g.has(f)&&(u.i=null,u.h-=u.g.get(f).length,u.g.delete(f))}function o0(u,f){return kr(u),f=ys(u,f),u.g.has(f)}t.forEach=function(u,f){kr(this),this.g.forEach(function(g,T){g.forEach(function(V){u.call(f,V,T,this)},this)},this)},t.na=function(){kr(this);const u=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let T=0;T<f.length;T++){const V=u[T];for(let L=0;L<V.length;L++)g.push(f[T])}return g},t.V=function(u){kr(this);let f=[];if(typeof u=="string")o0(this,u)&&(f=f.concat(this.g.get(ys(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)f=f.concat(u[g])}return f},t.set=function(u,f){return kr(this),this.i=null,u=ys(this,u),o0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[f]),this.h+=1,this},t.get=function(u,f){return u?(u=this.V(u),0<u.length?String(u[0]):f):f};function a0(u,f,g){s0(u,f),0<g.length&&(u.i=null,u.g.set(ys(u,f),S(g)),u.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var T=f[g];const L=encodeURIComponent(String(T)),z=this.V(T);for(T=0;T<z.length;T++){var V=L;z[T]!==""&&(V+="="+encodeURIComponent(String(z[T]))),u.push(V)}}return this.i=u.join("&")};function ys(u,f){return f=String(f),u.j&&(f=f.toLowerCase()),f}function DC(u,f){f&&!u.j&&(kr(u),u.i=null,u.g.forEach(function(g,T){var V=T.toLowerCase();T!=V&&(s0(this,T),a0(this,V,g))},u)),u.j=f}function MC(u,f){const g=new zo;if(a.Image){const T=new Image;T.onload=y(br,g,"TestLoadImage: loaded",!0,f,T),T.onerror=y(br,g,"TestLoadImage: error",!1,f,T),T.onabort=y(br,g,"TestLoadImage: abort",!1,f,T),T.ontimeout=y(br,g,"TestLoadImage: timeout",!1,f,T),a.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else f(!1)}function VC(u,f){const g=new zo,T=new AbortController,V=setTimeout(()=>{T.abort(),br(g,"TestPingServer: timeout",!1,f)},1e4);fetch(u,{signal:T.signal}).then(L=>{clearTimeout(V),L.ok?br(g,"TestPingServer: ok",!0,f):br(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(V),br(g,"TestPingServer: error",!1,f)})}function br(u,f,g,T,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),T(g)}catch{}}function OC(){this.g=new vC}function LC(u,f,g){const T=g||"";try{t0(u,function(V,L){let z=V;c(V)&&(z=Sh(V)),f.push(T+L+"="+encodeURIComponent(z))})}catch(V){throw f.push(T+"type="+encodeURIComponent("_badmap")),V}}function su(u){this.l=u.Ub||null,this.j=u.eb||!1}x(su,kh),su.prototype.g=function(){return new ou(this.l,this.j)},su.prototype.i=function(u){return function(){return u}}({});function ou(u,f){ct.call(this),this.D=u,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(ou,ct),t=ou.prototype,t.open=function(u,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=f,this.readyState=1,qo(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(f.body=u),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Go(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qo(this)),this.g&&(this.readyState=3,qo(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;l0(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function l0(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var f=u.value?u.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!u.done}))&&(this.response=this.responseText+=f)}u.done?Go(this):qo(this),this.readyState==3&&l0(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Go(this))},t.Qa=function(u){this.g&&(this.response=u,Go(this))},t.ga=function(){this.g&&Go(this)};function Go(u){u.readyState=4,u.l=null,u.j=null,u.v=null,qo(u)}t.setRequestHeader=function(u,f){this.u.append(u,f)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=f.next();return u.join(`\r
`)};function qo(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ou.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function u0(u){let f="";return M(u,function(g,T){f+=T,f+=":",f+=g,f+=`\r
`}),f}function Vh(u,f,g){e:{for(T in g){var T=!1;break e}T=!0}T||(g=u0(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):Te(u,f,g))}function Me(u){ct.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Me,ct);var jC=/^https?$/i,FC=["POST","PUT"];t=Me.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,f,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);f=f?f.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ph.g(),this.v=this.o?jv(this.o):jv(Ph),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(f,String(u),!0),this.B=!1}catch(L){c0(this,L);return}if(u=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var V in T)g.set(V,T[V]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const L of T.keys())g.set(L,T.get(L));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(L=>L.toLowerCase()=="content-type"),V=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(FC,f,void 0))||T||V||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,z]of g)this.g.setRequestHeader(L,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{f0(this),this.u=!0,this.g.send(u),this.u=!1}catch(L){c0(this,L)}};function c0(u,f){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=f,u.m=5,d0(u),au(u)}function d0(u){u.A||(u.A=!0,St(u,"complete"),St(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,St(this,"complete"),St(this,"abort"),au(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),au(this,!0)),Me.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?h0(this):this.bb())},t.bb=function(){h0(this)};function h0(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Kn(u)!=4||u.Z()!=2)){if(u.u&&Kn(u)==4)Mv(u.Ea,0,u);else if(St(u,"readystatechange"),Kn(u)==4){u.h=!1;try{const z=u.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var T;if(T=z===0){var V=String(u.D).match(n0)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),T=!jC.test(V?V.toLowerCase():"")}g=T}if(g)St(u,"complete"),St(u,"success");else{u.m=6;try{var L=2<Kn(u)?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.Z()+"]",d0(u)}}finally{au(u)}}}}function au(u,f){if(u.g){f0(u);const g=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,f||St(u,"ready");try{g.onreadystatechange=T}catch{}}}function f0(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Kn(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Kn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var f=this.g.responseText;return u&&f.indexOf(u)==0&&(f=f.substring(u.length)),yC(f)}};function p0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function UC(u){const f={};u=(u.g&&2<=Kn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(_(u[T]))continue;var g=R(u[T]);const V=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const L=f[V]||[];f[V]=L,L.push(g)}k(f,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qo(u,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||f}function m0(u){this.Aa=0,this.i=[],this.j=new zo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qo("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qo("baseRetryDelayMs",5e3,u),this.cb=Qo("retryDelaySeedMs",1e4,u),this.Wa=Qo("forwardChannelMaxRetries",2,u),this.wa=Qo("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Yv(u&&u.concurrentRequestLimit),this.Da=new OC,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=m0.prototype,t.la=8,t.G=1,t.connect=function(u,f,g,T){kt(0),this.W=u,this.H=f||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=S0(this,null,this.W),uu(this)};function Oh(u){if(g0(u),u.G==3){var f=u.U++,g=Hn(u.I);if(Te(g,"SID",u.K),Te(g,"RID",f),Te(g,"TYPE","terminate"),Yo(u,g),f=new Sr(u,u.j,f),f.L=2,f.v=iu(Hn(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=f.v,g=!0),g||(f.g=k0(f.j,null),f.g.ea(f.v)),f.F=Date.now(),tu(f)}T0(u)}function lu(u){u.g&&(jh(u),u.g.cancel(),u.g=null)}function g0(u){lu(u),u.u&&(a.clearTimeout(u.u),u.u=null),cu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function uu(u){if(!Xv(u.h)&&!u.s){u.s=!0;var f=u.Ga;pe||Y(),F||(pe(),F=!0),H.add(f,u),u.B=0}}function BC(u,f){return Jv(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=f.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Bo(m(u.Ga,u,f),E0(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const V=new Sr(this,this.j,u);let L=this.o;if(this.S&&(L?(L=w(L),P(L,this.S)):L=this.S),this.m!==null||this.O||(V.H=L,L=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(f+=T,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=v0(this,V,f),g=Hn(this.I),Te(g,"RID",u),Te(g,"CVER",22),this.D&&Te(g,"X-HTTP-Session-Id",this.D),Yo(this,g),L&&(this.O?f="headers="+encodeURIComponent(String(u0(L)))+"&"+f:this.m&&Vh(g,this.m,L)),Mh(this.h,V),this.Ua&&Te(g,"TYPE","init"),this.P?(Te(g,"$req",f),Te(g,"SID","null"),V.T=!0,Ah(V,g,null)):Ah(V,g,f),this.G=2}}else this.G==3&&(u?y0(this,u):this.i.length==0||Xv(this.h)||y0(this))};function y0(u,f){var g;f?g=f.l:g=u.U++;const T=Hn(u.I);Te(T,"SID",u.K),Te(T,"RID",g),Te(T,"AID",u.T),Yo(u,T),u.m&&u.o&&Vh(T,u.m,u.o),g=new Sr(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),f&&(u.i=f.D.concat(u.i)),f=v0(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Mh(u.h,g),Ah(g,T,f)}function Yo(u,f){u.H&&M(u.H,function(g,T){Te(f,T,g)}),u.l&&t0({},function(g,T){Te(f,T,g)})}function v0(u,f,g){g=Math.min(u.i.length,g);var T=u.l?m(u.l.Na,u.l,u):null;e:{var V=u.i;let L=-1;for(;;){const z=["count="+g];L==-1?0<g?(L=V[0].g,z.push("ofs="+L)):L=0:z.push("ofs="+L);let ye=!0;for(let et=0;et<g;et++){let ce=V[et].g;const dt=V[et].map;if(ce-=L,0>ce)L=Math.max(0,V[et].g-100),ye=!1;else try{LC(dt,z,"req"+ce+"_")}catch{T&&T(dt)}}if(ye){T=z.join("&");break e}}}return u=u.i.splice(0,g),f.D=u,T}function w0(u){if(!u.g&&!u.u){u.Y=1;var f=u.Fa;pe||Y(),F||(pe(),F=!0),H.add(f,u),u.v=0}}function Lh(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Bo(m(u.Fa,u),E0(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,_0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Bo(m(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),lu(this),_0(this))};function jh(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function _0(u){u.g=new Sr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var f=Hn(u.qa);Te(f,"RID","rpc"),Te(f,"SID",u.K),Te(f,"AID",u.T),Te(f,"CI",u.F?"0":"1"),!u.F&&u.ja&&Te(f,"TO",u.ja),Te(f,"TYPE","xmlhttp"),Yo(u,f),u.m&&u.o&&Vh(f,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=iu(Hn(f)),g.m=null,g.P=!0,Gv(g,u)}t.Za=function(){this.C!=null&&(this.C=null,lu(this),Lh(this),kt(19))};function cu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function x0(u,f){var g=null;if(u.g==f){cu(u),jh(u),u.g=null;var T=2}else if(Dh(u.h,f))g=f.D,Zv(u.h,f),T=1;else return;if(u.G!=0){if(f.o)if(T==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var V=u.B;T=Jl(),St(T,new $v(T,g)),uu(u)}else w0(u);else if(V=f.s,V==3||V==0&&0<f.X||!(T==1&&BC(u,f)||T==2&&Lh(u)))switch(g&&0<g.length&&(f=u.h,f.i=f.i.concat(g)),V){case 1:Ii(u,5);break;case 4:Ii(u,10);break;case 3:Ii(u,6);break;default:Ii(u,2)}}}function E0(u,f){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*f}function Ii(u,f){if(u.j.info("Error code "+f),f==2){var g=m(u.fb,u),T=u.Xa;const V=!T;T=new bi(T||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||nu(T,"https"),iu(T),V?MC(T.toString(),g):VC(T.toString(),g)}else kt(2);u.G=0,u.l&&u.l.sa(f),T0(u),g0(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function T0(u){if(u.G=0,u.ka=[],u.l){const f=e0(u.h);(f.length!=0||u.i.length!=0)&&(I(u.ka,f),I(u.ka,u.i),u.h.i.length=0,S(u.i),u.i.length=0),u.l.ra()}}function S0(u,f,g){var T=g instanceof bi?Hn(g):new bi(g);if(T.g!="")f&&(T.g=f+"."+T.g),ru(T,T.s);else{var V=a.location;T=V.protocol,f=f?f+"."+V.hostname:V.hostname,V=+V.port;var L=new bi(null);T&&nu(L,T),f&&(L.g=f),V&&ru(L,V),g&&(L.l=g),T=L}return g=u.D,f=u.ya,g&&f&&Te(T,g,f),Te(T,"VER",u.la),Yo(u,T),T}function k0(u,f,g){if(f&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=u.Ca&&!u.pa?new Me(new su({eb:g})):new Me(u.pa),f.Ha(u.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function b0(){}t=b0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function du(){}du.prototype.g=function(u,f){return new $t(u,f)};function $t(u,f){ct.call(this),this.g=new m0(f),this.l=u,this.h=f&&f.messageUrlParams||null,u=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(u?u["X-WebChannel-Content-Type"]=f.messageContentType:u={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(u?u["X-WebChannel-Client-Profile"]=f.va:u={"X-WebChannel-Client-Profile":f.va}),this.g.S=u,(u=f&&f.Sb)&&!_(u)&&(this.g.m=u),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!_(f)&&(this.g.D=f,u=this.h,u!==null&&f in u&&(u=this.h,f in u&&delete u[f])),this.j=new vs(this)}x($t,ct),$t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){Oh(this.g)},$t.prototype.o=function(u){var f=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=Sh(u),u=g);f.i.push(new SC(f.Ya++,u)),f.G==3&&uu(f)},$t.prototype.N=function(){this.g.l=null,delete this.j,Oh(this.g),delete this.g,$t.aa.N.call(this)};function I0(u){bh.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var f=u.__sm__;if(f){e:{for(const g in f){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,f=f!==null&&u in f?f[u]:void 0),this.data=f}else this.data=u}x(I0,bh);function P0(){Ih.call(this),this.status=1}x(P0,Ih);function vs(u){this.g=u}x(vs,b0),vs.prototype.ua=function(){St(this.g,"a")},vs.prototype.ta=function(u){St(this.g,new I0(u))},vs.prototype.sa=function(u){St(this.g,new P0)},vs.prototype.ra=function(){St(this.g,"b")},du.prototype.createWebChannel=du.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,OI=function(){return new du},VI=function(){return Jl()},MI=Si,bm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zl.NO_ERROR=0,Zl.TIMEOUT=8,Zl.HTTP_ERROR=6,hc=Zl,Wv.COMPLETE="complete",DI=Wv,Fv.EventType=Fo,Fo.OPEN="a",Fo.CLOSE="b",Fo.ERROR="c",Fo.MESSAGE="d",ct.prototype.listen=ct.prototype.K,va=Fv,Me.prototype.listenOnce=Me.prototype.L,Me.prototype.getLastError=Me.prototype.Ka,Me.prototype.getLastErrorCode=Me.prototype.Ba,Me.prototype.getStatus=Me.prototype.Z,Me.prototype.getResponseJson=Me.prototype.Oa,Me.prototype.getResponseText=Me.prototype.oa,Me.prototype.send=Me.prototype.ea,Me.prototype.setWithCredentials=Me.prototype.Ha,NI=Me}).apply(typeof Fu<"u"?Fu:typeof self<"u"?self:typeof window<"u"?window:{});const tE="@firebase/firestore",nE="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yt.UNAUTHENTICATED=new yt(null),yt.GOOGLE_CREDENTIALS=new yt("google-credentials-uid"),yt.FIRST_PARTY=new yt("first-party-uid"),yt.MOCK_USER=new yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss=new Oy("@firebase/firestore");function Ts(){return ss.logLevel}function $(t,...e){if(ss.logLevel<=ie.DEBUG){const n=e.map(Yy);ss.debug(`Firestore (${Mo}): ${t}`,...n)}}function vr(t,...e){if(ss.logLevel<=ie.ERROR){const n=e.map(Yy);ss.error(`Firestore (${Mo}): ${t}`,...n)}}function mo(t,...e){if(ss.logLevel<=ie.WARN){const n=e.map(Yy);ss.warn(`Firestore (${Mo}): ${t}`,...n)}}function Yy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t="Unexpected state"){const e=`FIRESTORE (${Mo}) INTERNAL ASSERTION FAILED: `+t;throw vr(e),new Error(e)}function fe(t,e){t||Z()}function te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends Er{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class O5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yt.UNAUTHENTICATED))}shutdown(){}}class L5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class j5{constructor(e){this.t=e,this.currentUser=yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){fe(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ni;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ni,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ni)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(fe(typeof r.accessToken=="string"),new LI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return fe(e===null||typeof e=="string"),new yt(e)}}class F5{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=yt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class U5{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new F5(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class B5{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ht(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){fe(this.o===void 0);const r=s=>{s.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,$("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new rE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(fe(typeof n.token=="string"),this.R=n.token,new rE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=z5(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function oe(t,e){return t<e?-1:t>e?1:0}function go(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=-62135596800,sE=1e6;class qe{static now(){return qe.fromMillis(Date.now())}static fromDate(e){return qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*sE);return new qe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<iE)throw new q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sE}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-iE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{static fromTimestamp(e){return new ee(e)}static min(){return new ee(new qe(0,0))}static max(){return new ee(new qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="__name__";class Mn{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(),r===void 0?r=e.length-n:r>e.length-n&&Z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Mn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Mn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=Mn.isNumericId(e),i=Mn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Mn.extractNumericId(e).compare(Mn.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ti.fromString(e.substring(4,e.length-2))}}class Le extends Mn{construct(e,n,r){return new Le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}const $5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class st extends Mn{construct(e,n,r){return new st(e,n,r)}static isValidIdentifier(e){return $5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),st.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===oE}static keyField(){return new st([oE])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new q(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new q(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new q(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new st(n)}static emptyPath(){return new st([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(Le.fromString(e))}static fromName(e){return new Q(Le.fromString(e).popFirst(5))}static empty(){return new Q(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new Le(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=-1;function W5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new qe(n+1,0):new qe(n,r));return new ui(i,Q.empty(),e)}function H5(t){return new ui(t.readTime,t.key,gl)}class ui{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ui(ee.min(),Q.empty(),gl)}static max(){return new ui(ee.max(),Q.empty(),gl)}}function K5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class q5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==G5)throw t;$("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,r)=>{n(e)})}static reject(e){return new j((n,r)=>{r(e)})}static waitFor(e){return new j((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next(i=>i?j.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new j((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new j((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Q5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Oo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ih.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=-1;function sh(t){return t==null}function cd(t){return t===0&&1/t==-1/0}function Y5(t){return typeof t=="number"&&Number.isInteger(t)&&!cd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="";function X5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=aE(e)),e=J5(t.get(n),e);return aE(e)}function J5(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case FI:n+="";break;default:n+=s}}return n}function aE(t){return t+FI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function hs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function UI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,n){this.comparator=e,this.root=n||it.EMPTY}insert(e,n){return new De(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,it.BLACK,null,null))}remove(e){return new De(this.comparator,this.root.remove(e,this.comparator).copy(null,null,it.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uu(this.root,e,this.comparator,!0)}}class Uu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class it{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??it.RED,this.left=i??it.EMPTY,this.right=s??it.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new it(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return it.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return it.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,it.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,it.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();const e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}}it.EMPTY=null,it.RED=!0,it.BLACK=!1;it.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(e,n,r,i,s){return this}insert(e,n,r){return new it(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.comparator=e,this.data=new De(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uE(this.data.getIterator())}getIteratorFrom(e){return new uE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Qe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Qe(this.comparator);return n.data=e,n}}class uE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(st.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new Qe(st.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new BI("Invalid base64 string: "+s):s}}(e);return new lt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}lt.EMPTY_BYTE_STRING=new lt("");const Z5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ci(t){if(fe(!!t),typeof t=="string"){let e=0;const n=Z5.exec(t);if(fe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fe(t.seconds),nanos:Fe(t.nanos)}}function Fe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function di(t){return typeof t=="string"?lt.fromBase64String(t):lt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="server_timestamp",$I="__type__",WI="__previous_value__",HI="__local_write_time__";function Jy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[$I])===null||n===void 0?void 0:n.stringValue)===zI}function oh(t){const e=t.mapValue.fields[WI];return Jy(e)?oh(e):e}function yl(t){const e=ci(t.mapValue.fields[HI].timestampValue);return new qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}const dd="(default)";class vl{constructor(e,n){this.projectId=e,this.database=n||dd}static empty(){return new vl("","")}get isDefaultDatabase(){return this.database===dd}isEqual(e){return e instanceof vl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="__type__",t6="__max__",Bu={mapValue:{}},GI="__vector__",hd="value";function hi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jy(t)?4:r6(t)?9007199254740991:n6(t)?10:11:Z()}function $n(t,e){if(t===e)return!0;const n=hi(t);if(n!==hi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yl(t).isEqual(yl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ci(i.timestampValue),a=ci(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return di(i.bytesValue).isEqual(di(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Fe(i.geoPointValue.latitude)===Fe(s.geoPointValue.latitude)&&Fe(i.geoPointValue.longitude)===Fe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Fe(i.integerValue)===Fe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Fe(i.doubleValue),a=Fe(s.doubleValue);return o===a?cd(o)===cd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return go(t.arrayValue.values||[],e.arrayValue.values||[],$n);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(lE(o)!==lE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!$n(o[l],a[l])))return!1;return!0}(t,e);default:return Z()}}function wl(t,e){return(t.values||[]).find(n=>$n(n,e))!==void 0}function yo(t,e){if(t===e)return 0;const n=hi(t),r=hi(e);if(n!==r)return oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return oe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Fe(s.integerValue||s.doubleValue),l=Fe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return cE(t.timestampValue,e.timestampValue);case 4:return cE(yl(t),yl(e));case 5:return oe(t.stringValue,e.stringValue);case 6:return function(s,o){const a=di(s),l=di(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=oe(a[c],l[c]);if(d!==0)return d}return oe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=oe(Fe(s.latitude),Fe(o.latitude));return a!==0?a:oe(Fe(s.longitude),Fe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return dE(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;const h=s.fields||{},m=o.fields||{},y=(a=h[hd])===null||a===void 0?void 0:a.arrayValue,x=(l=m[hd])===null||l===void 0?void 0:l.arrayValue,S=oe(((c=y==null?void 0:y.values)===null||c===void 0?void 0:c.length)||0,((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0);return S!==0?S:dE(y,x)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Bu.mapValue&&o===Bu.mapValue)return 0;if(s===Bu.mapValue)return 1;if(o===Bu.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const m=oe(l[h],d[h]);if(m!==0)return m;const y=yo(a[l[h]],c[d[h]]);if(y!==0)return y}return oe(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Z()}}function cE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return oe(t,e);const n=ci(t),r=ci(e),i=oe(n.seconds,r.seconds);return i!==0?i:oe(n.nanos,r.nanos)}function dE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=yo(n[i],r[i]);if(s)return s}return oe(n.length,r.length)}function vo(t){return Im(t)}function Im(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ci(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return di(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Im(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Im(n.fields[o])}`;return i+"}"}(t.mapValue):Z()}function fc(t){switch(hi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=oh(t);return e?16+fc(e):16;case 5:return 2*t.stringValue.length;case 6:return di(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+fc(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return hs(r.fields,(s,o)=>{i+=s.length+fc(o)}),i}(t.mapValue);default:throw Z()}}function Pm(t){return!!t&&"integerValue"in t}function Zy(t){return!!t&&"arrayValue"in t}function hE(t){return!!t&&"nullValue"in t}function fE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pc(t){return!!t&&"mapValue"in t}function n6(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[KI])===null||n===void 0?void 0:n.stringValue)===GI}function La(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return hs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=La(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=La(t.arrayValue.values[n]);return e}return Object.assign({},t)}function r6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===t6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!pc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=La(n)}setAll(e){let n=st.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=La(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());pc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $n(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];pc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){hs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new on(La(this.value))}}function qI(t){const e=[];return hs(t.fields,(n,r)=>{const i=new st([n]);if(pc(r)){const s=qI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new wt(e,0,ee.min(),ee.min(),ee.min(),on.empty(),0)}static newFoundDocument(e,n,r,i){return new wt(e,1,n,ee.min(),r,i,0)}static newNoDocument(e,n){return new wt(e,2,n,ee.min(),ee.min(),on.empty(),0)}static newUnknownDocument(e,n){return new wt(e,3,n,ee.min(),ee.min(),on.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n){this.position=e,this.inclusive=n}}function pE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Q.comparator(Q.fromName(o.referenceValue),n.key):r=yo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function mE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$n(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n="asc"){this.field=e,this.dir=n}}function i6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{}class Ke extends QI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new o6(e,n,r):n==="array-contains"?new u6(e,r):n==="in"?new c6(e,r):n==="not-in"?new d6(e,r):n==="array-contains-any"?new h6(e,r):new Ke(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new a6(e,r):new l6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(yo(n,this.value)):n!==null&&hi(this.value)===hi(n)&&this.matchesComparison(yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends QI{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Wn(e,n)}matches(e){return YI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function YI(t){return t.op==="and"}function XI(t){return s6(t)&&YI(t)}function s6(t){for(const e of t.filters)if(e instanceof Wn)return!1;return!0}function Cm(t){if(t instanceof Ke)return t.field.canonicalString()+t.op.toString()+vo(t.value);if(XI(t))return t.filters.map(e=>Cm(e)).join(",");{const e=t.filters.map(n=>Cm(n)).join(",");return`${t.op}(${e})`}}function JI(t,e){return t instanceof Ke?function(r,i){return i instanceof Ke&&r.op===i.op&&r.field.isEqual(i.field)&&$n(r.value,i.value)}(t,e):t instanceof Wn?function(r,i){return i instanceof Wn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&JI(o,i.filters[a]),!0):!1}(t,e):void Z()}function ZI(t){return t instanceof Ke?function(n){return`${n.field.canonicalString()} ${n.op} ${vo(n.value)}`}(t):t instanceof Wn?function(n){return n.op.toString()+" {"+n.getFilters().map(ZI).join(" ,")+"}"}(t):"Filter"}class o6 extends Ke{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class a6 extends Ke{constructor(e,n){super(e,"in",n),this.keys=eP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class l6 extends Ke{constructor(e,n){super(e,"not-in",n),this.keys=eP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function eP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class u6 extends Ke{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zy(n)&&wl(n.arrayValue,this.value)}}class c6 extends Ke{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wl(this.value.arrayValue,n)}}class d6 extends Ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!wl(this.value.arrayValue,n)}}class h6 extends Ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>wl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}}function gE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new f6(t,e,n,r,i,s,o)}function ev(t){const e=te(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Cm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),sh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>vo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>vo(r)).join(",")),e.le=n}return e.le}function tv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!i6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!JI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mE(t.startAt,e.startAt)&&mE(t.endAt,e.endAt)}function Am(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function p6(t,e,n,r,i,s,o,a){return new ah(t,e,n,r,i,s,o,a)}function nv(t){return new ah(t)}function yE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function m6(t){return t.collectionGroup!==null}function ja(t){const e=te(t);if(e.he===null){e.he=[];const n=new Set;for(const s of e.explicitOrderBy)e.he.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Qe(st.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.he.push(new pd(s,r))}),n.has(st.keyField().canonicalString())||e.he.push(new pd(st.keyField(),r))}return e.he}function Bn(t){const e=te(t);return e.Pe||(e.Pe=g6(e,ja(t))),e.Pe}function g6(t,e){if(t.limitType==="F")return gE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new pd(i.field,s)});const n=t.endAt?new fd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fd(t.startAt.position,t.startAt.inclusive):null;return gE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Rm(t,e,n){return new ah(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lh(t,e){return tv(Bn(t),Bn(e))&&t.limitType===e.limitType}function tP(t){return`${ev(Bn(t))}|lt:${t.limitType}`}function Ss(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ZI(i)).join(", ")}]`),sh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>vo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>vo(i)).join(",")),`Target(${r})`}(Bn(t))}; limitType=${t.limitType})`}function uh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ja(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=pE(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,ja(r),i)||r.endAt&&!function(o,a,l){const c=pE(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,ja(r),i))}(t,e)}function y6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nP(t){return(e,n)=>{let r=!1;for(const i of ja(t)){const s=v6(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function v6(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?yo(l,c):Z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){hs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return UI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6=new De(Q.comparator);function wr(){return w6}const rP=new De(Q.comparator);function wa(...t){let e=rP;for(const n of t)e=e.insert(n.key,n);return e}function iP(t){let e=rP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function $i(){return Fa()}function sP(){return Fa()}function Fa(){return new fs(t=>t.toString(),(t,e)=>t.isEqual(e))}const _6=new De(Q.comparator),x6=new Qe(Q.comparator);function se(...t){let e=x6;for(const n of t)e=e.add(n);return e}const E6=new Qe(oe);function T6(){return E6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cd(e)?"-0":e}}function oP(t){return{integerValue:""+t}}function S6(t,e){return Y5(e)?oP(e):rv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(){this._=void 0}}function k6(t,e,n){return t instanceof md?function(i,s){const o={fields:{[$I]:{stringValue:zI},[HI]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Jy(s)&&(s=oh(s)),s&&(o.fields[WI]=s),{mapValue:o}}(n,e):t instanceof _l?lP(t,e):t instanceof xl?uP(t,e):function(i,s){const o=aP(i,s),a=vE(o)+vE(i.Ie);return Pm(o)&&Pm(i.Ie)?oP(a):rv(i.serializer,a)}(t,e)}function b6(t,e,n){return t instanceof _l?lP(t,e):t instanceof xl?uP(t,e):n}function aP(t,e){return t instanceof gd?function(r){return Pm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class md extends ch{}class _l extends ch{constructor(e){super(),this.elements=e}}function lP(t,e){const n=cP(e);for(const r of t.elements)n.some(i=>$n(i,r))||n.push(r);return{arrayValue:{values:n}}}class xl extends ch{constructor(e){super(),this.elements=e}}function uP(t,e){let n=cP(e);for(const r of t.elements)n=n.filter(i=>!$n(i,r));return{arrayValue:{values:n}}}class gd extends ch{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function vE(t){return Fe(t.integerValue||t.doubleValue)}function cP(t){return Zy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function I6(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof _l&&i instanceof _l||r instanceof xl&&i instanceof xl?go(r.elements,i.elements,$n):r instanceof gd&&i instanceof gd?$n(r.Ie,i.Ie):r instanceof md&&i instanceof md}(t.transform,e.transform)}class P6{constructor(e,n){this.version=e,this.transformResults=n}}class lr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new lr}static exists(e){return new lr(void 0,e)}static updateTime(e){return new lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class dh{}function dP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new fP(t.key,lr.none()):new Hl(t.key,t.data,lr.none());{const n=t.data,r=on.empty();let i=new Qe(st.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ps(t.key,r,new Sn(i.toArray()),lr.none())}}function C6(t,e,n){t instanceof Hl?function(i,s,o){const a=i.value.clone(),l=_E(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ps?function(i,s,o){if(!mc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=_E(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(hP(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ua(t,e,n,r){return t instanceof Hl?function(s,o,a,l){if(!mc(s.precondition,o))return a;const c=s.value.clone(),d=xE(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ps?function(s,o,a,l){if(!mc(s.precondition,o))return a;const c=xE(s.fieldTransforms,l,o),d=o.data;return d.setAll(hP(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return mc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function A6(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=aP(r.transform,i||null);s!=null&&(n===null&&(n=on.empty()),n.set(r.field,s))}return n||null}function wE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&go(r,i,(s,o)=>I6(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Hl extends dh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ps extends dh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function hP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function _E(t,e,n){const r=new Map;fe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,b6(o,a,n[i]))}return r}function xE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,k6(s,o,e))}return r}class fP extends dh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class R6 extends dh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&C6(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ua(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ua(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=sP();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=dP(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),se())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,(n,r)=>wE(n,r))&&go(this.baseMutations,e.baseMutations,(n,r)=>wE(n,r))}}class iv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){fe(e.mutations.length===r.length);let i=function(){return _6}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new iv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze,ae;function V6(t){switch(t){case U.OK:return Z();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return Z()}}function pP(t){if(t===void 0)return vr("GRPC error has no .code"),U.UNKNOWN;switch(t){case ze.OK:return U.OK;case ze.CANCELLED:return U.CANCELLED;case ze.UNKNOWN:return U.UNKNOWN;case ze.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case ze.INTERNAL:return U.INTERNAL;case ze.UNAVAILABLE:return U.UNAVAILABLE;case ze.UNAUTHENTICATED:return U.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case ze.NOT_FOUND:return U.NOT_FOUND;case ze.ALREADY_EXISTS:return U.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return U.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case ze.ABORTED:return U.ABORTED;case ze.OUT_OF_RANGE:return U.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return U.UNIMPLEMENTED;case ze.DATA_LOSS:return U.DATA_LOSS;default:return Z()}}(ae=ze||(ze={}))[ae.OK=0]="OK",ae[ae.CANCELLED=1]="CANCELLED",ae[ae.UNKNOWN=2]="UNKNOWN",ae[ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ae[ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ae[ae.NOT_FOUND=5]="NOT_FOUND",ae[ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",ae[ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",ae[ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",ae[ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ae[ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ae[ae.ABORTED=10]="ABORTED",ae[ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",ae[ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",ae[ae.INTERNAL=13]="INTERNAL",ae[ae.UNAVAILABLE=14]="UNAVAILABLE",ae[ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6=new ti([4294967295,4294967295],0);function EE(t){const e=O6().encode(t),n=new RI;return n.update(e),new Uint8Array(n.digest())}function TE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ti([n,r],0),new ti([i,s],0)]}class sv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _a(`Invalid padding: ${n}`);if(r<0)throw new _a(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _a(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new _a(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ti.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(ti.fromNumber(r)));return i.compare(L6)===1&&(i=new ti([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=EE(e),[r,i]=TE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new sv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=EE(e),[r,i]=TE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class _a extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Kl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new hh(ee.min(),i,new De(oe),wr(),se())}}class Kl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Kl(r,n,se(),se(),se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class mP{constructor(e,n){this.targetId=e,this.ge=n}}class gP{constructor(e,n,r=lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class SE{constructor(){this.pe=0,this.ye=kE(),this.we=lt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=se(),n=se(),r=se();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Z()}}),new Kl(this.we,this.be,e,n,r)}Me(){this.Se=!1,this.ye=kE()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,fe(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class j6{constructor(e){this.ke=e,this.qe=new Map,this.Qe=wr(),this.$e=zu(),this.Ke=zu(),this.Ue=new De(oe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:Z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const s=i.target;if(Am(s))if(r===0){const o=new Q(s.path);this.ze(n,o,wt.newNoDocument(o,ee.min()))}else fe(r===1);else{const o=this.et(n);if(o!==r){const a=this.tt(e),l=a?this.nt(a,e,o):1;if(l!==0){this.Ye(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,c)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=di(r).toUint8Array()}catch(l){if(l instanceof BI)return mo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new sv(o,i,s)}catch(l){return mo(l instanceof _a?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,s,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((s,o)=>{const a=this.Xe(o);if(a){if(s.current&&Am(a.target)){const l=new Q(a.target.path);this._t(l).has(o)||this.ut(o,l)||this.ze(o,l,wt.newNoDocument(l,e))}s.ve&&(n.set(o,s.Fe()),s.Me())}});let r=se();this.Ke.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const i=new hh(e,n,this.Ue,this.Qe,r);return this.Qe=wr(),this.$e=zu(),this.Ke=zu(),this.Ue=new De(oe),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new SE,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Qe(oe),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Qe(oe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||$("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new SE),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function zu(){return new De(Q.comparator)}function kE(){return new De(Q.comparator)}const F6={asc:"ASCENDING",desc:"DESCENDING"},U6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B6={and:"AND",or:"OR"};class z6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Nm(t,e){return t.useProto3Json||sh(e)?e:{value:e}}function yd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function $6(t,e){return yd(t,e.toTimestamp())}function zn(t){return fe(!!t),ee.fromTimestamp(function(n){const r=ci(n);return new qe(r.seconds,r.nanos)}(t))}function ov(t,e){return Dm(t,e).canonicalString()}function Dm(t,e){const n=function(i){return new Le(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function vP(t){const e=Le.fromString(t);return fe(TP(e)),e}function Mm(t,e){return ov(t.databaseId,e.path)}function Uf(t,e){const n=vP(e);if(n.get(1)!==t.databaseId.projectId)throw new q(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(_P(n))}function wP(t,e){return ov(t.databaseId,e)}function W6(t){const e=vP(t);return e.length===4?Le.emptyPath():_P(e)}function Vm(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _P(t){return fe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function bE(t,e,n){return{name:Mm(t,e),fields:n.value.mapValue.fields}}function H6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Z()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(fe(d===void 0||typeof d=="string"),lt.fromBase64String(d||"")):(fe(d===void 0||d instanceof Buffer||d instanceof Uint8Array),lt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?U.UNKNOWN:pP(c.code);return new q(d,c.message||"")}(o);n=new gP(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Uf(t,r.document.name),s=zn(r.document.updateTime),o=r.document.createTime?zn(r.document.createTime):ee.min(),a=new on({mapValue:{fields:r.document.fields}}),l=wt.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new gc(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Uf(t,r.document),s=r.readTime?zn(r.readTime):ee.min(),o=wt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new gc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Uf(t,r.document),s=r.removedTargetIds||[];n=new gc([],s,i,null)}else{if(!("filter"in e))return Z();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new M6(i,s),a=r.targetId;n=new mP(a,o)}}return n}function K6(t,e){let n;if(e instanceof Hl)n={update:bE(t,e.key,e.value)};else if(e instanceof fP)n={delete:Mm(t,e.key)};else if(e instanceof ps)n={update:bE(t,e.key,e.data),updateMask:tB(e.fieldMask)};else{if(!(e instanceof R6))return Z();n={verify:Mm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof md)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof _l)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof xl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof gd)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:$6(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Z()}(t,e.precondition)),n}function G6(t,e){return t&&t.length>0?(fe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?zn(i.updateTime):zn(s);return o.isEqual(ee.min())&&(o=zn(s)),new P6(o,i.transformResults||[])}(n,e))):[]}function q6(t,e){return{documents:[wP(t,e.path)]}}function Q6(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=wP(t,i);const s=function(c){if(c.length!==0)return EP(Wn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(m){return{field:ks(m.field),direction:J6(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Nm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ht:n,parent:i}}function Y6(t){let e=W6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){fe(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const m=xP(h);return m instanceof Wn&&XI(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(m=>function(x){return new pd(bs(x.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(h){let m;return m=typeof h=="object"?h.value:h,sh(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(h){const m=!!h.before,y=h.values||[];return new fd(y,m)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const m=!h.before,y=h.values||[];return new fd(y,m)}(n.endAt)),p6(e,i,o,s,a,"F",l,c)}function X6(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function xP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=bs(n.unaryFilter.field);return Ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=bs(n.unaryFilter.field);return Ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=bs(n.unaryFilter.field);return Ke.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=bs(n.unaryFilter.field);return Ke.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(t):t.fieldFilter!==void 0?function(n){return Ke.create(bs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Wn.create(n.compositeFilter.filters.map(r=>xP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z()}}(n.compositeFilter.op))}(t):Z()}function J6(t){return F6[t]}function Z6(t){return U6[t]}function eB(t){return B6[t]}function ks(t){return{fieldPath:t.canonicalString()}}function bs(t){return st.fromServerFormat(t.fieldPath)}function EP(t){return t instanceof Ke?function(n){if(n.op==="=="){if(fE(n.value))return{unaryFilter:{field:ks(n.field),op:"IS_NAN"}};if(hE(n.value))return{unaryFilter:{field:ks(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fE(n.value))return{unaryFilter:{field:ks(n.field),op:"IS_NOT_NAN"}};if(hE(n.value))return{unaryFilter:{field:ks(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ks(n.field),op:Z6(n.op),value:n.value}}}(t):t instanceof Wn?function(n){const r=n.getFilters().map(i=>EP(i));return r.length===1?r[0]:{compositeFilter:{op:eB(n.op),filters:r}}}(t):Z()}function tB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function TP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,n,r,i,s=ee.min(),o=ee.min(),a=lt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new $r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(e){this.Tt=e}}function rB(t){const e=Y6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Rm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(){this.Tn=new sB}addToCollectionParentIndex(e,n){return this.Tn.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(ui.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(ui.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class sB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Qe(Le.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qe(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SP=41943040;class Ot{static withCacheSize(e){return new Ot(e,Ot.DEFAULT_COLLECTION_PERCENTILE,Ot.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ot.DEFAULT_COLLECTION_PERCENTILE=10,Ot.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ot.DEFAULT=new Ot(SP,Ot.DEFAULT_COLLECTION_PERCENTILE,Ot.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ot.DISABLED=new Ot(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new wo(0)}static Un(){return new wo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="LruGarbageCollector",oB=1048576;function CE([t,e],[n,r]){const i=oe(t,n);return i===0?oe(e,r):i}class aB{constructor(e){this.Hn=e,this.buffer=new Qe(CE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();CE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class lB{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){$(PE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Oo(n)?$(PE,"Ignoring IndexedDB error during garbage collection: ",n):await Vo(n)}await this.er(3e5)})}}class uB{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return j.resolve(ih.ae);const r=new aB(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?($("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(IE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IE):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,s,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?($("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),Ts()<=ie.DEBUG&&$("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function cB(t,e){return new uB(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(){this.changes=new fs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ua(r.mutation,i,Sn.empty(),qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=se()){const i=$i();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=wa();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=$i();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,se()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=wr();const o=Fa(),a=function(){return Fa()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof ps)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Ua(d.mutation,c,d.mutation.getFieldMask(),qe.now())):o.set(c.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new hB(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Fa();let i=new De((o,a)=>o-a),s=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Sn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(i.get(a.batchId)||se()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=sP();d.forEach(m=>{if(!s.has(m)){const y=dP(n.get(m),r.get(m));y!==null&&h.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return j.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):m6(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):j.resolve($i());let a=gl,l=s;return o.next(c=>j.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?j.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{l=l.insert(d,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,se())).next(d=>({batchId:a,changes:iP(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=wa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=wa();return this.indexManager.getCollectionParents(e,s).next(a=>j.forEach(a,l=>{const c=function(h,m){return new ah(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,m)=>{o=o.insert(h,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,wt.newInvalidDocument(d)))});let a=wa();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&Ua(d.mutation,c,Sn.empty(),qe.now()),uh(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return j.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:zn(i.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:rB(i.bundledQuery),readTime:zn(i.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{constructor(){this.overlays=new De(Q.comparator),this.Rr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$i();return j.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Et(e,n,s)}),j.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const i=$i(),s=n.length+1,o=new Q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return j.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new De((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=$i(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=$i(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return j.resolve(a)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new D6(n,r));let s=this.Rr.get(n);s===void 0&&(s=se(),this.Rr.set(n,s)),this.Rr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(){this.sessionToken=lt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(){this.Vr=new Qe(Xe.mr),this.gr=new Qe(Xe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new Xe(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new Xe(e,n))}br(e,n){e.forEach(r=>this.removeReference(r,n))}Sr(e){const n=new Q(new Le([])),r=new Xe(n,e),i=new Xe(n,e+1),s=[];return this.gr.forEachInRange([r,i],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Q(new Le([])),r=new Xe(n,e),i=new Xe(n,e+1);let s=se();return this.gr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Xe(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xe{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Q.comparator(e.key,n.key)||oe(e.Cr,n.Cr)}static pr(e,n){return oe(e.Cr,n.Cr)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Qe(Xe.mr)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new N6(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Mr=this.Mr.add(new Xe(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),s=i<0?0:i;return j.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?Xy:this.Fr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xe(n,0),i=new Xe(n,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],o=>{const a=this.Or(o.Cr);s.push(a)}),j.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qe(oe);return n.forEach(i=>{const s=new Xe(i,0),o=new Xe(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],a=>{r=r.add(a.Cr)})}),j.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Q.isDocumentKey(s)||(s=s.child(""));const o=new Xe(new Q(s),0);let a=new Qe(oe);return this.Mr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Cr)),!0)},o),j.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){fe(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return j.forEach(n.mutations,i=>{const s=new Xe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new Xe(n,0),i=this.Mr.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(e){this.kr=e,this.docs=function(){return new De(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():wt.newInvalidDocument(n))}getEntries(e,n){let r=wr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():wt.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=wr();const o=n.path,a=new Q(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||K5(H5(d),r)<=0||(i.has(d.key)||uh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return j.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Z()}qr(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new wB(this)}getSize(e){return j.resolve(this.size)}}class wB extends dB{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(e){this.persistence=e,this.Qr=new fs(n=>ev(n),tv),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.$r=0,this.Kr=new av,this.targetCount=0,this.Ur=wo.Kn()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),j.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new wo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.zn(n),j.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),j.waitFor(s).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this.Kr.yr(n,r),j.resolve()}removeMatchingKeys(e,n,r){this.Kr.br(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),j.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Kr.vr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new ih(0),this.zr=!1,this.zr=!0,this.jr=new gB,this.referenceDelegate=e(this),this.Hr=new _B(this),this.indexManager=new iB,this.remoteDocumentCache=function(i){return new vB(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new nB(n),this.Yr=new pB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new yB(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){$("MemoryPersistence","Starting transaction:",e);const i=new xB(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,n){return j.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class xB extends q5{constructor(e){super(),this.currentSequenceNumber=e}}class lv{constructor(e){this.persistence=e,this.ti=new av,this.ni=null}static ri(e){return new lv(e)}get ii(){if(this.ni)return this.ni;throw Z()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),j.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.ii,r=>{const i=Q.fromPath(r);return this.si(e,i).next(s=>{s||n.removeEntry(i,ee.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return j.or([()=>j.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class vd{constructor(e,n){this.persistence=e,this.oi=new fs(r=>X5(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=cB(this,n)}static ri(e,n){return new vd(e,n)}Zr(){}Xr(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return j.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(s=>s?j.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,o=>this.ar(e,o,n).next(a=>{a||(r++,s.removeEntry(o,ee.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),j.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),j.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=fc(e.data.value)),n}ar(e,n,r){return j.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return j.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=se(),i=se();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new uv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return n3()?8:Q5(Et())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.rs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new EB;return this._s(e,n,o).next(a=>{if(s.result=a,this.Xi)return this.us(e,n,o,a.size)})}).next(()=>s.result)}us(e,n,r,i){return r.documentReadCount<this.es?(Ts()<=ie.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",Ss(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),j.resolve()):(Ts()<=ie.DEBUG&&$("QueryEngine","Query:",Ss(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Ts()<=ie.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",Ss(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bn(n))):j.resolve())}rs(e,n){if(yE(n))return j.resolve(null);let r=Bn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Rm(n,null,"F"),r=Bn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=se(...s);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.cs(n,a);return this.ls(n,c,o,l.readTime)?this.rs(e,Rm(n,null,"F")):this.hs(e,c,n,l)}))})))}ss(e,n,r,i){return yE(n)||i.isEqual(ee.min())?j.resolve(null):this.ns.getDocuments(e,r).next(s=>{const o=this.cs(n,s);return this.ls(n,o,r,i)?j.resolve(null):(Ts()<=ie.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ss(n)),this.hs(e,o,n,W5(i,gl)).next(a=>a))})}cs(e,n){let r=new Qe(nP(e));return n.forEach((i,s)=>{uh(e,s)&&(r=r.add(s))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,n,r){return Ts()<=ie.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",Ss(n)),this.ns.getDocumentsMatchingQuery(e,n,ui.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="LocalStore",SB=3e8;class kB{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new De(oe),this.Is=new fs(s=>ev(s),tv),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fB(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function bB(t,e,n,r){return new kB(t,e,n,r)}async function bP(t,e){const n=te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=se();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Rs:c,removedBatchIds:o,addedBatchIds:a}))})})}function IB(t,e){const n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,m=h.keys();let y=j.resolve();return m.forEach(x=>{y=y.next(()=>d.getEntry(l,x)).next(S=>{const I=c.docVersions.get(x);fe(I!==null),S.version.compareTo(I)<0&&(h.applyToRemoteDocument(S,c),S.isValidDocument()&&(S.setReadTime(c.commitVersion),d.addEntry(S)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=se();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function IP(t){const e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function PB(t,e){const n=te(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];e.targetChanges.forEach((d,h)=>{const m=i.get(h);if(!m)return;a.push(n.Hr.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Hr.addMatchingKeys(s,d.addedDocuments,h)));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?y=y.withResumeToken(lt.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),i=i.insert(h,y),function(S,I,v){return S.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=SB?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(m,y,d)&&a.push(n.Hr.updateTargetData(s,y))});let l=wr(),c=se();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(CB(s,o,e.documentUpdates).next(d=>{l=d.Vs,c=d.fs})),!r.isEqual(ee.min())){const d=n.Hr.getLastRemoteSnapshotVersion(s).next(h=>n.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return j.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ts=i,s))}function CB(t,e,n){let r=se(),i=se();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=wr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ee.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):$(cv,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Vs:o,fs:i}})}function AB(t,e){const n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Xy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function RB(t,e){const n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(s=>s?(i=s,j.resolve(i)):n.Hr.allocateTargetId(r).next(o=>(i=new $r(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function Om(t,e,n){const r=te(t),i=r.Ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Oo(o))throw o;$(cv,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function AE(t,e,n){const r=te(t);let i=ee.min(),s=se();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=te(l),m=h.Is.get(d);return m!==void 0?j.resolve(h.Ts.get(m)):h.Hr.getTargetData(c,d)}(r,o,Bn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?i:ee.min(),n?s:se())).next(a=>(NB(r,y6(e),a),{documents:a,gs:s})))}function NB(t,e,n){let r=t.Es.get(e)||ee.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Es.set(e,r)}class RE{constructor(){this.activeTargetIds=T6()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DB{constructor(){this.ho=new RE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new RE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="ConnectivityMonitor";class DE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){$(NE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){$(NE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $u=null;function Lm(){return $u===null?$u=function(){return 268435456+Math.round(2147483648*Math.random())}():$u++,"0x"+$u.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="RestConnection",VB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OB{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===dd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}bo(e,n,r,i,s){const o=Lm(),a=this.So(e,n.toUriEncodedString());$(Bf,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,i,s),this.vo(e,a,l,r).then(c=>($(Bf,`Received RPC '${e}' ${o}: `,c),c),c=>{throw mo(Bf,`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}Co(e,n,r,i,s,o){return this.bo(e,n,r,i,s)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Mo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}So(e,n){const r=VB[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mt="WebChannelConnection";class jB extends OB{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const s=Lm();return new Promise((o,a)=>{const l=new NI;l.setWithCredentials(!0),l.listenOnce(DI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case hc.NO_ERROR:const d=l.getResponseJson();$(mt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case hc.TIMEOUT:$(mt,`RPC '${e}' ${s} timed out`),a(new q(U.DEADLINE_EXCEEDED,"Request time out"));break;case hc.HTTP_ERROR:const h=l.getStatus();if($(mt,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const x=function(I){const v=I.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(v)>=0?v:U.UNKNOWN}(y.status);a(new q(x,y.message))}else a(new q(U.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new q(U.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{$(mt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);$(mt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Wo(e,n,r){const i=Lm(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=OI(),a=VI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");$(mt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let m=!1,y=!1;const x=new LB({Fo:I=>{y?$(mt,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(m||($(mt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),m=!0),$(mt,`RPC '${e}' stream ${i} sending:`,I),h.send(I))},Mo:()=>h.close()}),S=(I,v,_)=>{I.listen(v,E=>{try{_(E)}catch(N){setTimeout(()=>{throw N},0)}})};return S(h,va.EventType.OPEN,()=>{y||($(mt,`RPC '${e}' stream ${i} transport opened.`),x.Qo())}),S(h,va.EventType.CLOSE,()=>{y||(y=!0,$(mt,`RPC '${e}' stream ${i} transport closed`),x.Ko())}),S(h,va.EventType.ERROR,I=>{y||(y=!0,mo(mt,`RPC '${e}' stream ${i} transport errored:`,I),x.Ko(new q(U.UNAVAILABLE,"The operation could not be completed")))}),S(h,va.EventType.MESSAGE,I=>{var v;if(!y){const _=I.data[0];fe(!!_);const E=_,N=(E==null?void 0:E.error)||((v=E[0])===null||v===void 0?void 0:v.error);if(N){$(mt,`RPC '${e}' stream ${i} received error:`,N);const O=N.status;let M=function(b){const P=ze[b];if(P!==void 0)return pP(P)}(O),k=N.message;M===void 0&&(M=U.INTERNAL,k="Unknown error status: "+O+" with message "+N.message),y=!0,x.Ko(new q(M,k)),h.close()}else $(mt,`RPC '${e}' stream ${i} received:`,_),x.Uo(_)}}),S(a,MI.STAT_EVENT,I=>{I.stat===bm.PROXY?$(mt,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===bm.NOPROXY&&$(mt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.$o()},0),x}}function zf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(t){return new z6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&$("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="PersistentStream";class CP{constructor(e,n,r,i,s,o,a,l){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new PP(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(vr(n.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new q(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return $(ME,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():($(ME,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FB extends CP{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=H6(this.serializer,e),r=function(s){if(!("targetChange"in s))return ee.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ee.min():o.readTime?zn(o.readTime):ee.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=Vm(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Am(l)?{documents:q6(s,l)}:{query:Q6(s,l).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=yP(s,o.resumeToken);const c=Nm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ee.min())>0){a.readTime=yd(s,o.snapshotVersion.toTimestamp());const c=Nm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=X6(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=Vm(this.serializer),n.removeTarget=e,this.I_(n)}}class UB extends CP{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return fe(!!e.streamToken),this.lastStreamToken=e.streamToken,fe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=G6(e.writeResults,e.commitTime),r=zn(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=Vm(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>K6(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{}class zB extends BB{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new q(U.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.bo(e,Dm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(U.UNKNOWN,s.toString())})}Co(e,n,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,Dm(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(U.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class $B{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(vr(n),this.N_=!1):$("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="RemoteStore";class WB{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{r.enqueueAndForget(async()=>{ms(this)&&($(os,"Restarting streams for network reachability change."),await async function(l){const c=te(l);c.W_.add(4),await Gl(c),c.j_.set("Unknown"),c.W_.delete(4),await ph(c)}(this))})}),this.j_=new $B(r,i)}}async function ph(t){if(ms(t))for(const e of t.G_)await e(!0)}async function Gl(t){for(const e of t.G_)await e(!1)}function AP(t,e){const n=te(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),pv(n)?fv(n):Lo(n).c_()&&hv(n,e))}function dv(t,e){const n=te(t),r=Lo(n);n.U_.delete(e),r.c_()&&RP(n,e),n.U_.size===0&&(r.c_()?r.P_():ms(n)&&n.j_.set("Unknown"))}function hv(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Lo(t).y_(e)}function RP(t,e){t.H_.Ne(e),Lo(t).w_(e)}function fv(t){t.H_=new j6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Lo(t).start(),t.j_.B_()}function pv(t){return ms(t)&&!Lo(t).u_()&&t.U_.size>0}function ms(t){return te(t).W_.size===0}function NP(t){t.H_=void 0}async function HB(t){t.j_.set("Online")}async function KB(t){t.U_.forEach((e,n)=>{hv(t,e)})}async function GB(t,e){NP(t),pv(t)?(t.j_.q_(e),fv(t)):t.j_.set("Unknown")}async function qB(t,e,n){if(t.j_.set("Online"),e instanceof gP&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.U_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.U_.delete(a),i.H_.removeTarget(a))}(t,e)}catch(r){$(os,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wd(t,r)}else if(e instanceof gc?t.H_.We(e):e instanceof mP?t.H_.Ze(e):t.H_.je(e),!n.isEqual(ee.min()))try{const r=await IP(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.H_.ot(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.U_.get(c);d&&s.U_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.U_.get(l);if(!d)return;s.U_.set(l,d.withResumeToken(lt.EMPTY_BYTE_STRING,d.snapshotVersion)),RP(s,l);const h=new $r(d.target,l,c,d.sequenceNumber);hv(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){$(os,"Failed to raise snapshot:",r),await wd(t,r)}}async function wd(t,e,n){if(!Oo(e))throw e;t.W_.add(1),await Gl(t),t.j_.set("Offline"),n||(n=()=>IP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{$(os,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await ph(t)})}function DP(t,e){return e().catch(n=>wd(t,n,e))}async function mh(t){const e=te(t),n=fi(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:Xy;for(;QB(e);)try{const i=await AB(e.localStore,r);if(i===null){e.K_.length===0&&n.P_();break}r=i.batchId,YB(e,i)}catch(i){await wd(e,i)}MP(e)&&VP(e)}function QB(t){return ms(t)&&t.K_.length<10}function YB(t,e){t.K_.push(e);const n=fi(t);n.c_()&&n.b_&&n.S_(e.mutations)}function MP(t){return ms(t)&&!fi(t).u_()&&t.K_.length>0}function VP(t){fi(t).start()}async function XB(t){fi(t).C_()}async function JB(t){const e=fi(t);for(const n of t.K_)e.S_(n.mutations)}async function ZB(t,e,n){const r=t.K_.shift(),i=iv.from(r,e,n);await DP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await mh(t)}async function ez(t,e){e&&fi(t).b_&&await async function(r,i){if(function(o){return V6(o)&&o!==U.ABORTED}(i.code)){const s=r.K_.shift();fi(r).h_(),await DP(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await mh(r)}}(t,e),MP(t)&&VP(t)}async function VE(t,e){const n=te(t);n.asyncQueue.verifyOperationInProgress(),$(os,"RemoteStore received new credentials");const r=ms(n);n.W_.add(3),await Gl(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await ph(n)}async function tz(t,e){const n=te(t);e?(n.W_.delete(2),await ph(n)):e||(n.W_.add(2),await Gl(n),n.j_.set("Unknown"))}function Lo(t){return t.J_||(t.J_=function(n,r,i){const s=te(n);return s.M_(),new FB(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:HB.bind(null,t),No:KB.bind(null,t),Lo:GB.bind(null,t),p_:qB.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),pv(t)?fv(t):t.j_.set("Unknown")):(await t.J_.stop(),NP(t))})),t.J_}function fi(t){return t.Y_||(t.Y_=function(n,r,i){const s=te(n);return s.M_(),new UB(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:XB.bind(null,t),Lo:ez.bind(null,t),D_:JB.bind(null,t),v_:ZB.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await mh(t)):(await t.Y_.stop(),t.K_.length>0&&($(os,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new mv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gv(t,e){if(vr("AsyncQueue",`${e}: ${t}`),Oo(t))return new q(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{static emptySet(e){return new eo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=wa(),this.sortedSet=new De(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new eo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(){this.Z_=new De(Q.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Z():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class _o{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new _o(e,n,eo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class rz{constructor(){this.queries=LE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=te(n),s=i.queries;i.queries=LE(),s.forEach((o,a)=>{for(const l of a.ta)l.onError(r)})})(this,new q(U.ABORTED,"Firestore shutting down"))}}function LE(){return new fs(t=>tP(t),lh)}async function iz(t,e){const n=te(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new nz,r=e.ra()?0:1);try{switch(r){case 0:s.ea=await n.onListen(i,!0);break;case 1:s.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=gv(o,`Initialization of query '${Ss(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.ta.push(e),e.sa(n.onlineState),s.ea&&e.oa(s.ea)&&yv(n)}async function sz(t,e){const n=te(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function oz(t,e){const n=te(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.ta)a.oa(i)&&(r=!0);o.ea=i}}r&&yv(n)}function az(t,e,n){const r=te(t),i=r.queries.get(e);if(i)for(const s of i.ta)s.onError(n);r.queries.delete(e)}function yv(t){t.ia.forEach(e=>{e.next()})}var jm,jE;(jE=jm||(jm={}))._a="default",jE.Cache="cache";class lz{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new _o(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=_o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==jm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e){this.key=e}}class LP{constructor(e){this.key=e}}class uz{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=se(),this.mutatedKeys=se(),this.ya=nP(e),this.wa=new eo(this.ya)}get ba(){return this.fa}Sa(e,n){const r=n?n.Da:new OE,i=n?n.wa:this.wa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const m=i.get(d),y=uh(this.query,h)?h:null,x=!!m&&this.mutatedKeys.has(m.key),S=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let I=!1;m&&y?m.data.isEqual(y.data)?x!==S&&(r.track({type:3,doc:y}),I=!0):this.va(m,y)||(r.track({type:2,doc:y}),I=!0,(l&&this.ya(y,l)>0||c&&this.ya(y,c)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),I=!0):m&&!y&&(r.track({type:1,doc:m}),I=!0,(l||c)&&(a=!0)),I&&(y?(o=o.add(y),s=S?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{wa:o,Da:r,ls:a,mutatedKeys:s}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((d,h)=>function(y,x){const S=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return S(y)-S(x)}(d.type,h.type)||this.ya(d.doc,h.doc)),this.Ca(r),i=i!=null&&i;const a=n&&!i?this.Fa():[],l=this.pa.size===0&&this.current&&!i?1:0,c=l!==this.ga;return this.ga=l,o.length!==0||c?{snapshot:new _o(this.query,e.wa,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new OE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=se(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new LP(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new OP(r))}),n}Oa(e){this.fa=e.gs,this.pa=se();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return _o.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const vv="SyncEngine";class cz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class dz{constructor(e){this.key=e,this.Ba=!1}}class hz{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new fs(a=>tP(a),lh),this.qa=new Map,this.Qa=new Set,this.$a=new De(Q.comparator),this.Ka=new Map,this.Ua=new av,this.Wa={},this.Ga=new Map,this.za=wo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function fz(t,e,n=!0){const r=$P(t);let i;const s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await jP(r,e,n,!0),i}async function pz(t,e){const n=$P(t);await jP(n,e,!0,!1)}async function jP(t,e,n,r){const i=await RB(t.localStore,Bn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await mz(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&AP(t.remoteStore,i),a}async function mz(t,e,n,r,i){t.Ha=(h,m,y)=>async function(S,I,v,_){let E=I.view.Sa(v);E.ls&&(E=await AE(S.localStore,I.query,!1).then(({documents:k})=>I.view.Sa(k,E)));const N=_&&_.targetChanges.get(I.targetId),O=_&&_.targetMismatches.get(I.targetId)!=null,M=I.view.applyChanges(E,S.isPrimaryClient,N,O);return UE(S,I.targetId,M.Ma),M.snapshot}(t,h,m,y);const s=await AE(t.localStore,e,!0),o=new uz(e,s.gs),a=o.Sa(s.documents),l=Kl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);UE(t,n,c.Ma);const d=new cz(e,n,o);return t.ka.set(e,d),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),c.snapshot}async function gz(t,e,n){const r=te(t),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(o=>!lh(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Om(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&dv(r.remoteStore,i.targetId),Fm(r,i.targetId)}).catch(Vo)):(Fm(r,i.targetId),await Om(r.localStore,i.targetId,!0))}async function yz(t,e){const n=te(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),dv(n.remoteStore,r.targetId))}async function vz(t,e,n){const r=kz(t);try{const i=await function(o,a){const l=te(o),c=qe.now(),d=a.reduce((y,x)=>y.add(x.key),se());let h,m;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let x=wr(),S=se();return l.ds.getEntries(y,d).next(I=>{x=I,x.forEach((v,_)=>{_.isValidDocument()||(S=S.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,x)).next(I=>{h=I;const v=[];for(const _ of a){const E=A6(_,h.get(_.key).overlayedDocument);E!=null&&v.push(new ps(_.key,E,qI(E.value.mapValue),lr.exists(!0)))}return l.mutationQueue.addMutationBatch(y,c,v,a)}).next(I=>{m=I;const v=I.applyToLocalDocumentSet(h,S);return l.documentOverlayCache.saveOverlays(y,I.batchId,v)})}).then(()=>({batchId:m.batchId,changes:iP(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Wa[o.currentUser.toKey()];c||(c=new De(oe)),c=c.insert(a,l),o.Wa[o.currentUser.toKey()]=c}(r,i.batchId,n),await ql(r,i.changes),await mh(r.remoteStore)}catch(i){const s=gv(i,"Failed to persist write");n.reject(s)}}async function FP(t,e){const n=te(t);try{const r=await PB(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ka.get(s);o&&(fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ba=!0:i.modifiedDocuments.size>0?fe(o.Ba):i.removedDocuments.size>0&&(fe(o.Ba),o.Ba=!1))}),await ql(n,r,e)}catch(r){await Vo(r)}}function FE(t,e,n){const r=te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((s,o)=>{const a=o.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=te(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const m of h.ta)m.sa(a)&&(c=!0)}),c&&yv(l)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function wz(t,e,n){const r=te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ka.get(e),s=i&&i.key;if(s){let o=new De(Q.comparator);o=o.insert(s,wt.newNoDocument(s,ee.min()));const a=se().add(s),l=new hh(ee.min(),new Map,new De(oe),o,a);await FP(r,l),r.$a=r.$a.remove(s),r.Ka.delete(e),wv(r)}else await Om(r.localStore,e,!1).then(()=>Fm(r,e,n)).catch(Vo)}async function _z(t,e){const n=te(t),r=e.batch.batchId;try{const i=await IB(n.localStore,e);BP(n,r,null),UP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ql(n,i)}catch(i){await Vo(i)}}async function xz(t,e,n){const r=te(t);try{const i=await function(o,a){const l=te(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(fe(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);BP(r,e,n),UP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ql(r,i)}catch(i){await Vo(i)}}function UP(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function BP(t,e,n){const r=te(t);let i=r.Wa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function Fm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.Sr(e).forEach(r=>{t.Ua.containsKey(r)||zP(t,r)})}function zP(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(dv(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),wv(t))}function UE(t,e,n){for(const r of n)r instanceof OP?(t.Ua.addReference(r.key,e),Ez(t,r)):r instanceof LP?($(vv,"Document no longer in limbo: "+r.key),t.Ua.removeReference(r.key,e),t.Ua.containsKey(r.key)||zP(t,r.key)):Z()}function Ez(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||($(vv,"New document in limbo: "+n),t.Qa.add(r),wv(t))}function wv(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new Q(Le.fromString(e)),r=t.za.next();t.Ka.set(r,new dz(n)),t.$a=t.$a.insert(n,r),AP(t.remoteStore,new $r(Bn(nv(n.path)),r,"TargetPurposeLimboResolution",ih.ae))}}async function ql(t,e,n){const r=te(t),i=[],s=[],o=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{o.push(r.Ha(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=uv.Yi(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.La.p_(i),await async function(l,c){const d=te(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>j.forEach(c,m=>j.forEach(m.Hi,y=>d.persistence.referenceDelegate.addReference(h,m.targetId,y)).next(()=>j.forEach(m.Ji,y=>d.persistence.referenceDelegate.removeReference(h,m.targetId,y)))))}catch(h){if(!Oo(h))throw h;$(cv,"Failed to update sequence numbers: "+h)}for(const h of c){const m=h.targetId;if(!h.fromCache){const y=d.Ts.get(m),x=y.snapshotVersion,S=y.withLastLimboFreeSnapshotVersion(x);d.Ts=d.Ts.insert(m,S)}}}(r.localStore,s))}async function Tz(t,e){const n=te(t);if(!n.currentUser.isEqual(e)){$(vv,"User change. New user:",e.toKey());const r=await bP(n.localStore,e);n.currentUser=e,function(s,o){s.Ga.forEach(a=>{a.forEach(l=>{l.reject(new q(U.CANCELLED,o))})}),s.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ql(n,r.Rs)}}function Sz(t,e){const n=te(t),r=n.Ka.get(e);if(r&&r.Ba)return se().add(r.key);{let i=se();const s=n.qa.get(e);if(!s)return i;for(const o of s){const a=n.ka.get(o);i=i.unionWith(a.view.ba)}return i}}function $P(t){const e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wz.bind(null,e),e.La.p_=oz.bind(null,e.eventManager),e.La.Ja=az.bind(null,e.eventManager),e}function kz(t){const e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_z.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xz.bind(null,e),e}class _d{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return bB(this.persistence,new TB,e.initialUser,this.serializer)}Xa(e){return new kP(lv.ri,this.serializer)}Za(e){return new DB}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_d.provider={build:()=>new _d};class bz extends _d{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){fe(this.persistence.referenceDelegate instanceof vd);const r=this.persistence.referenceDelegate.garbageCollector;return new lB(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Ot.withCacheSize(this.cacheSizeBytes):Ot.DEFAULT;return new kP(r=>vd.ri(r,n),this.serializer)}}class Um{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>FE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Tz.bind(null,this.syncEngine),await tz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new rz}()}createDatastore(e){const n=fh(e.databaseInfo.databaseId),r=function(s){return new jB(s)}(e.databaseInfo);return function(s,o,a,l){return new zB(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new WB(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>FE(this.syncEngine,n,0),function(){return DE.D()?new DE:new MB}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const h=new hz(i,s,o,a,l,c);return d&&(h.ja=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=te(i);$(os,"RemoteStore shutting down."),s.W_.add(5),await Gl(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Um.provider={build:()=>new Um};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi="FirestoreClient";class Pz{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=yt.UNAUTHENTICATED,this.clientId=jI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{$(pi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>($(pi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=gv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function $f(t,e){t.asyncQueue.verifyOperationInProgress(),$(pi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await bP(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function BE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Cz(t);$(pi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>VE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>VE(e.remoteStore,i)),t._onlineComponents=e}async function Cz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$(pi,"Using user provided OfflineComponentProvider");try{await $f(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;mo("Error using user provided cache. Falling back to memory cache: "+n),await $f(t,new _d)}}else $(pi,"Using default OfflineComponentProvider"),await $f(t,new bz(void 0));return t._offlineComponents}async function WP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($(pi,"Using user provided OnlineComponentProvider"),await BE(t,t._uninitializedComponentsProvider._online)):($(pi,"Using default OnlineComponentProvider"),await BE(t,new Um))),t._onlineComponents}function Az(t){return WP(t).then(e=>e.syncEngine)}async function Rz(t){const e=await WP(t),n=e.eventManager;return n.onListen=fz.bind(null,e.syncEngine),n.onUnlisten=gz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=yz.bind(null,e.syncEngine),n}function Nz(t,e,n={}){const r=new ni;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new Iz({next:m=>{d.su(),o.enqueueAndForget(()=>sz(s,h));const y=m.docs.has(a);!y&&m.fromCache?c.reject(new q(U.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&l&&l.source==="server"?c.reject(new q(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),h=new lz(nv(a.path),d,{includeMetadataChanges:!0,Ta:!0});return iz(s,h)}(await Rz(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dz(t,e,n){if(!n)throw new q(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Mz(t,e,n,r){if(e===!0&&r===!0)throw new q(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $E(t){if(!Q.isDocumentKey(t))throw new q(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _v(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z()}function El(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_v(t);throw new q(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP="firestore.googleapis.com",WE=!0;class HE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KP,this.ssl=WE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:WE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=SP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oB)throw new q(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Mz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new O5;switch(r.type){case"firstParty":return new U5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=zE.get(n);r&&($("ComponentProvider","Removing Datastore"),zE.delete(n),r.terminate())}(this),Promise.resolve()}}function Vz(t,e,n,r={}){var i;const s=(t=El(t,xv))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;s.host!==KP&&s.host!==a&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:r});if(!ts(l,o)&&(t._setSettings(l),r.mockUserToken)){let c,d;if(typeof r.mockUserToken=="string")c=r.mockUserToken,d=yt.MOCK_USER;else{c=QF(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new q(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new yt(h)}t._authCredentials=new L5(new LI(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ev(this.firestore,e,this._query)}}class un{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new un(this.firestore,e,this._key)}}class Tl extends Ev{constructor(e,n,r){super(e,n,nv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new un(this.firestore,null,new Q(e))}withConverter(e){return new Tl(this.firestore,e,this._path)}}function xd(t,e,...n){if(t=hn(t),arguments.length===1&&(e=jI.newId()),Dz("doc","path",e),t instanceof xv){const r=Le.fromString(e,...n);return $E(r),new un(t,null,new Q(r))}{if(!(t instanceof un||t instanceof Tl))throw new q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return $E(r),new un(t.firestore,t instanceof Tl?t.converter:null,new Q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="AsyncQueue";class GE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new PP(this,"async_queue_retry"),this.bu=()=>{const r=zf();r&&$(KE,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const n=zf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=zf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ni;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Oo(e))throw e;$(KE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw vr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.Su=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=mv.createAndSchedule(this,e,n,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&Z()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Tv extends xv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new GE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new GE(e),this._firestoreClient=void 0,await e}}}function Oz(t,e){const n=typeof t=="object"?t:Gb(),r=typeof t=="string"?t:dd,i=jy(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=GF("firestore");s&&Vz(i,...s)}return i}function GP(t){if(t._terminated)throw new q(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Lz(t),t._firestoreClient}function Lz(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new e6(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,HP(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Pz(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xo(lt.fromBase64String(e))}catch(n){throw new q(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xo(lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new st(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz=/^__.*__$/;class Fz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ps(e,this.data,this.fieldMask,n,this.fieldTransforms):new Hl(e,this.data,n,this.fieldTransforms)}}function QP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}class Iv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Iv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Ed(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(QP(this.Lu)&&jz.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Uz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||fh(e)}ju(e,n,r,i=!1){return new Iv({Lu:e,methodName:n,zu:r,path:st.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bz(t){const e=t._freezeSettings(),n=fh(t._databaseId);return new Uz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zz(t,e,n,r,i,s={}){const o=t.ju(s.merge||s.mergeFields?2:0,e,n,i);ZP("Data must be an object, but it was:",o,r);const a=XP(r,o);let l,c;if(s.merge)l=new Sn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const m=$z(e,h,n);if(!o.contains(m))throw new q(U.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);Hz(d,m)||d.push(m)}l=new Sn(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new Fz(new on(a),l,c)}function YP(t,e){if(JP(t=hn(t)))return ZP("Unsupported field value:",e,t),XP(t,e);if(t instanceof qP)return function(r,i){if(!QP(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=YP(a,i.Uu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=hn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return S6(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=qe.fromDate(r);return{timestampValue:yd(i.serializer,s)}}if(r instanceof qe){const s=new qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yd(i.serializer,s)}}if(r instanceof kv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xo)return{bytesValue:yP(i.serializer,r._byteString)};if(r instanceof un){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ov(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof bv)return function(o,a){return{mapValue:{fields:{[KI]:{stringValue:GI},[hd]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Wu("VectorValues must only contain numeric values.");return rv(a.serializer,c)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${_v(r)}`)}(t,e)}function XP(t,e){const n={};return UI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hs(t,(r,i)=>{const s=YP(i,e.qu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function JP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qe||t instanceof kv||t instanceof xo||t instanceof un||t instanceof qP||t instanceof bv)}function ZP(t,e,n){if(!JP(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=_v(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function $z(t,e,n){if((e=hn(e))instanceof Sv)return e._internalPath;if(typeof e=="string")return eC(t,e);throw Ed("Field path arguments must be of type string or ",t,!1,void 0,n)}const Wz=new RegExp("[~\\*/\\[\\]]");function eC(t,e,n){if(e.search(Wz)>=0)throw Ed(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sv(...e.split("."))._internalPath}catch{throw Ed(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ed(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new q(U.INVALID_ARGUMENT,a+t+l)}function Hz(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Kz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(nC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Kz extends tC{data(){return super.data()}}function nC(t,e){return typeof e=="string"?eC(t,e):e instanceof Sv?e._internalPath:e._delegate._internalPath}class Gz{convertValue(e,n="none"){switch(hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return hs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[hd].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Fe(o.doubleValue));return new bv(s)}convertGeoPoint(e){return new kv(Fe(e.latitude),Fe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=oh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yl(e));default:return null}}convertTimestamp(e){const n=ci(e);return new qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Le.fromString(e);fe(TP(r));const i=new vl(r.get(1),r.get(3)),s=new Q(r.popFirst(5));return i.isEqual(n)||vr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qz(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rC extends tC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yz(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(nC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Yz extends rC{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(t){t=El(t,un);const e=El(t.firestore,Tv);return Nz(GP(e),t._key).then(n=>Zz(e,t,n))}class Xz extends Gz{constructor(e){super(),this.firestore=e}convertBytes(e){return new xo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new un(this.firestore,null,n)}}function Bm(t,e,n){t=El(t,un);const r=El(t.firestore,Tv),i=qz(t.converter,e,n);return Jz(r,[zz(Bz(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,lr.none())])}function Jz(t,e){return function(r,i){const s=new ni;return r.asyncQueue.enqueueAndForget(async()=>vz(await Az(r),i,s)),s.promise}(GP(t),e)}function Zz(t,e,n){const r=n.docs.get(e._key),i=new Xz(t);return new rC(t,i,e._key,r,new Qz(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Mo=i})(No),fo(new ns("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Tv(new j5(r.getProvider("auth-internal")),new B5(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new q(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vl(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ei(tE,nE,e),ei(tE,nE,"esm2017")})();const e$={apiKey:"YOUR_API_KEY",authDomain:"ai-vibe-workshop.firebaseapp.com",projectId:"ai-vibe-workshop",storageBucket:"ai-vibe-workshop.appspot.com",messagingSenderId:"YOUR_MESSAGING_SENDER_ID",appId:"YOUR_APP_ID",measurementId:"YOUR_MEASUREMENT_ID"},iC=Kb(e$),Td=N5(iC),sC=new Yn,Sd=Oz(iC);const t$=async()=>lM(),n$=()=>{const t=wi(),{user:e,isAuthenticated:n,loading:r,error:i}=We(s=>s.auth);return C.useEffect(()=>{t(r_(!0));{(async()=>{try{const o=await t$();t(Ki(o||null))}catch(o){console.error("Error loading mock user:",o),t(Ki(null))}finally{t(r_(!1))}})();return}},[t]),{user:e,isAuthenticated:n,loading:r,error:i}},r$=()=>{n$();const t=xr();return C.useEffect(()=>{uM()},[]),!["/login","/signup","/404"].includes(t.pathname)?p.jsx(jF,{children:p.jsx(Ww,{})}):p.jsx(Ww,{})},i$=()=>p.jsxs("div",{className:"relative bg-forest-green overflow-hidden",children:[p.jsx("div",{className:"max-w-7xl mx-auto",children:p.jsxs("div",{className:"relative z-10 pb-8 bg-forest-green sm:pb-16 md:pb-20 lg:max-w-2xl lg:w-full lg:pb-28 xl:pb-32",children:[p.jsx("svg",{className:"hidden lg:block absolute right-0 inset-y-0 h-full w-48 text-forest-green transform translate-x-1/2",fill:"currentColor",viewBox:"0 0 100 100",preserveAspectRatio:"none","aria-hidden":"true",children:p.jsx("polygon",{points:"50,0 100,0 50,100 0,100"})}),p.jsx("div",{className:"relative pt-6 px-4 sm:px-6 lg:px-8"}),p.jsx("main",{className:"mt-10 mx-auto max-w-7xl px-4 sm:mt-12 sm:px-6 md:mt-16 lg:mt-20 lg:px-8 xl:mt-28",children:p.jsxs("div",{className:"sm:text-center lg:text-left",children:[p.jsxs("h1",{className:"text-4xl tracking-tight font-extrabold text-white-linen sm:text-5xl md:text-6xl",children:[p.jsx("span",{className:"block xl:inline",children:"Learn coding with"})," ",p.jsx("span",{className:"block text-lemon-yellow xl:inline",children:"expert-led workshops"})]}),p.jsx("p",{className:"mt-3 text-base text-moss-green sm:mt-5 sm:text-lg sm:max-w-xl sm:mx-auto md:mt-5 md:text-xl lg:mx-0",children:"Join our community of developers and level up your skills with interactive workshops. From beginners to advanced, we have something for everyone."}),p.jsxs("div",{className:"mt-5 sm:mt-8 sm:flex sm:justify-center lg:justify-start",children:[p.jsx("div",{className:"rounded-md shadow",children:p.jsx(de,{to:"/workshops",children:p.jsx(ve,{size:"lg",className:"w-full bg-lemon-yellow text-charcoal hover:bg-lemon-yellow/90",children:"Browse Workshops"})})}),p.jsx("div",{className:"mt-3 sm:mt-0 sm:ml-3",children:p.jsx(de,{to:"/signup",children:p.jsx(ve,{size:"lg",variant:"outline",className:"w-full border-moss-green text-moss-green hover:bg-moss-green/10",children:"Sign Up Free"})})})]})]})})]})}),p.jsx("div",{className:"lg:absolute lg:inset-y-0 lg:right-0 lg:w-1/2",children:p.jsx("img",{className:"h-56 w-full object-cover sm:h-72 md:h-96 lg:w-full lg:h-full",src:"https://images.unsplash.com/photo-1517694712202-14dd9538aa97?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80",alt:"Person coding on a laptop"})})]}),s$=[{name:"Expert-led workshops",description:"Learn from industry professionals with years of experience in their fields.",icon:G1},{name:"Community-driven",description:"Join a supportive community of developers at all skill levels.",icon:Q1},{name:"Regular sessions",description:"New workshops every week covering the latest technologies and practices.",icon:Dl},{name:"Skill certification",description:"Earn certificates to showcase your newly acquired skills to employers.",icon:xM}],o$=()=>p.jsx("div",{className:"py-12 bg-white-linen",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"lg:text-center",children:[p.jsx("h2",{className:"text-base text-spring-garden font-semibold tracking-wide uppercase",children:"Why Choose Us"}),p.jsx("p",{className:"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-forest-green sm:text-4xl",children:"Not your average coding platform"}),p.jsx("p",{className:"mt-4 max-w-2xl text-xl text-charcoal lg:mx-auto",children:"We're committed to providing high-quality, accessible coding education for everyone."})]}),p.jsx("div",{className:"mt-10",children:p.jsx("div",{className:"space-y-10 md:space-y-0 md:grid md:grid-cols-2 md:gap-x-8 md:gap-y-10",children:s$.map(t=>p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute flex items-center justify-center h-12 w-12 rounded-md bg-forest-green text-white-linen",children:p.jsx(t.icon,{className:"h-6 w-6","aria-hidden":"true"})}),p.jsx("p",{className:"ml-16 text-lg leading-6 font-medium text-forest-green",children:t.name}),p.jsx("p",{className:"mt-2 ml-16 text-base text-charcoal",children:t.description})]},t.name))})})]})}),a$=({className:t,children:e,onClick:n,hover:r=!0})=>p.jsx("div",{className:Tt("bg-white dark:bg-charcoal rounded-lg shadow-md overflow-hidden border border-moss-green/10",r&&"transition-all duration-200 hover:shadow-lg hover:border-moss-green/30",n&&"cursor-pointer",t),onClick:n,children:e}),l$=({className:t,children:e})=>p.jsx("div",{className:Tt("p-4",t),children:e}),u$=({className:t,children:e})=>p.jsx("div",{className:Tt("p-4 border-t border-moss-green/10 bg-white-linen/50 dark:bg-charcoal/50",t),children:e}),Pv=({workshop:t})=>{const e=us(),n=()=>{e(`/workshops/${t.id}`)},r=t.registered/t.capacity*100;let i="bg-spring-garden";return r>=90?i="bg-red-500":r>=70&&(i="bg-yellow-500"),p.jsxs(a$,{className:"h-full flex flex-col",children:[p.jsxs("div",{className:"relative",children:[p.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-full h-48 object-cover"}),p.jsx("div",{className:"absolute top-0 right-0 m-2 px-2 py-1 bg-forest-green text-white-linen text-xs font-bold rounded",children:t.level})]}),p.jsxs(l$,{className:"flex-grow",children:[p.jsx("h3",{className:"text-xl font-bold text-forest-green dark:text-moss-green mb-2",children:t.title}),p.jsx("p",{className:"text-charcoal dark:text-white-linen mb-4 line-clamp-2",children:t.description}),p.jsxs("div",{className:"space-y-2 text-sm text-charcoal/80 dark:text-white-linen/80",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(Dl,{className:"h-4 w-4 mr-2 text-spring-garden"}),p.jsx("span",{children:new Date(t.date).toLocaleDateString()})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx(qd,{className:"h-4 w-4 mr-2 text-spring-garden"}),p.jsxs("span",{children:[t.duration," hours"]})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx(Q1,{className:"h-4 w-4 mr-2 text-spring-garden"}),p.jsxs("span",{children:[t.registered," / ",t.capacity," participants"]})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx(RM,{className:"h-4 w-4 mr-2 text-spring-garden"}),p.jsx("div",{className:"flex flex-wrap gap-1",children:t.tags.map((s,o)=>p.jsx("span",{className:"inline-block bg-moss-green/20 text-forest-green dark:text-moss-green px-2 py-0.5 text-xs rounded",children:s},o))})]})]})]}),p.jsxs(u$,{className:"flex justify-between items-center",children:[p.jsxs("div",{className:"w-1/2",children:[p.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:p.jsx("div",{className:`h-full ${i}`,style:{width:`${r}%`}})}),p.jsxs("p",{className:"text-xs mt-1 text-charcoal/70 dark:text-white-linen/70",children:[t.capacity-t.registered," spots left"]})]}),p.jsx(ve,{onClick:n,children:"View Details"})]})]})},c$=()=>{const{workshops:t}=We(n=>n.workshops),e=[...t].sort((n,r)=>new Date(r.date).getTime()-new Date(n.date).getTime()).slice(0,3);return p.jsx("section",{className:"py-12 bg-white-linen",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("h2",{className:"text-3xl font-extrabold text-forest-green sm:text-4xl",children:"Featured Workshops"}),p.jsx("p",{className:"mt-3 max-w-2xl mx-auto text-xl text-charcoal sm:mt-4",children:"Check out our most popular upcoming workshops"})]}),p.jsx("div",{className:"mt-12 grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:e.map(n=>p.jsx(Pv,{workshop:n},n.id))}),p.jsx("div",{className:"mt-10 text-center",children:p.jsx(de,{to:"/workshops",children:p.jsx(ve,{size:"lg",children:"View All Workshops"})})})]})})},d$=[{content:"The React workshop was incredibly helpful. I went from barely understanding components to building my own app in just a few sessions.",author:"Sarah J.",role:"Frontend Developer"},{content:"The instructors are knowledgeable and patient. They take time to explain complex concepts in a way that's easy to understand.",author:"Michael T.",role:"CS Student"},{content:"I've tried many online courses, but nothing compares to the interactive nature of these workshops. Highly recommended!",author:"Priya K.",role:"Software Engineer"}],h$=()=>p.jsx("section",{className:"py-12 bg-moss-green/10",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("h2",{className:"text-3xl font-extrabold text-forest-green sm:text-4xl",children:"What Our Community Says"}),p.jsx("p",{className:"mt-3 max-w-2xl mx-auto text-xl text-charcoal sm:mt-4",children:"Don't just take our word for it"})]}),p.jsx("div",{className:"mt-12 grid gap-8 md:grid-cols-3",children:d$.map((t,e)=>p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border border-moss-green/10",children:[p.jsxs("div",{className:"flex items-center mb-4",children:[p.jsx("div",{className:"h-12 w-12 rounded-full bg-forest-green flex items-center justify-center text-white-linen font-bold text-xl",children:t.author.charAt(0)}),p.jsxs("div",{className:"ml-4",children:[p.jsx("h4",{className:"text-lg font-semibold text-forest-green",children:t.author}),p.jsx("p",{className:"text-charcoal/70",children:t.role})]})]}),p.jsxs("p",{className:"text-charcoal italic",children:['"',t.content,'"']})]},e))})]})}),f$=()=>p.jsxs(p.Fragment,{children:[p.jsx(i$,{}),p.jsx(o$,{}),p.jsx(c$,{}),p.jsx("section",{className:"bg-forest-green py-16",children:p.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"text-center",children:[p.jsxs("h2",{className:"text-3xl font-extrabold text-white-linen sm:text-4xl",children:[p.jsx("span",{className:"block",children:"Ready to start learning?"}),p.jsx("span",{className:"block text-lemon-yellow",children:"Join our community today."})]}),p.jsx("p",{className:"mt-4 text-lg leading-6 text-moss-green",children:"Create a free account to register for workshops, track your progress, and connect with other developers."}),p.jsxs("div",{className:"mt-8 flex justify-center",children:[p.jsx("div",{className:"inline-flex rounded-md shadow",children:p.jsx(de,{to:"/signup",children:p.jsx(ve,{size:"lg",className:"bg-lemon-yellow text-charcoal hover:bg-lemon-yellow/90",children:"Sign Up Free"})})}),p.jsx("div",{className:"ml-3 inline-flex",children:p.jsx(de,{to:"/workshops",children:p.jsx(ve,{size:"lg",variant:"outline",className:"border-moss-green text-moss-green hover:bg-moss-green/10",children:"Browse Workshops"})})})]})]})})}),p.jsx(h$,{})]}),p$=()=>{const[t,e]=C.useState(""),[n,r]=C.useState(""),[i,s]=C.useState(!1),[o,a]=C.useState(""),l=us(),c=wi(),d=async m=>{m.preventDefault(),s(!0),a("");try{const x=(await v9(Td,t,n)).user,S=await Wf(xd(Sd,"users",x.uid));c(Ki({id:x.uid,name:x.displayName||"User",email:x.email||"",photoURL:x.photoURL||"",...S.exists()?S.data():{}})),zr.success("Logged in successfully!"),l("/dashboard")}catch(y){console.error("Login error:",y);const x=y.code==="auth/invalid-credential"?"Invalid email or password":"Failed to login. Please try again.";a(x),c(Gc(x)),zr.error(x)}finally{s(!1)}},h=async()=>{s(!0),a("");try{const y=(await CI(Td,sC)).user,x=xd(Sd,"users",y.uid);(await Wf(x)).exists()||await Bm(x,{name:y.displayName,email:y.email,photoURL:y.photoURL,registeredWorkshops:[],completedWorkshops:[],createdAt:new Date().toISOString()});const I=await Wf(x);c(Ki({id:y.uid,name:y.displayName||"User",email:y.email||"",photoURL:y.photoURL||"",...I.exists()?I.data():{}})),zr.success("Logged in with Google successfully!"),l("/dashboard")}catch(m){console.error("Google login error:",m);const y="Failed to login with Google. Please try again.";a(y),c(Gc(y)),zr.error(y)}finally{s(!1)}};return p.jsxs(At.div,{className:"max-w-md w-full mx-auto p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Welcome back"}),p.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Sign in to your account"})]}),o&&p.jsxs("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 rounded-md flex items-center",children:[p.jsx(K1,{className:"h-5 w-5 mr-2 flex-shrink-0"}),p.jsx("span",{children:o})]}),p.jsxs("form",{onSubmit:d,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email address"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(ey,{className:"h-5 w-5 text-gray-400"})}),p.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:m=>e(m.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white sm:text-sm",placeholder:"you@example.com"})]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(Qp,{className:"h-5 w-5 text-gray-400"})}),p.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:n,onChange:m=>r(m.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white sm:text-sm",placeholder:""})]})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),p.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Remember me"})]}),p.jsx("div",{className:"text-sm",children:p.jsx(de,{to:"/forgot-password",className:"font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400 dark:hover:text-indigo-300",children:"Forgot your password?"})})]}),p.jsx("div",{children:p.jsx(ve,{type:"submit",fullWidth:!0,disabled:i,icon:p.jsx(bM,{size:18}),children:i?"Signing in...":"Sign in"})})]}),p.jsxs("div",{className:"mt-6",children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-0 flex items-center",children:p.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-700"})}),p.jsx("div",{className:"relative flex justify-center text-sm",children:p.jsx("span",{className:"px-2 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400",children:"Or continue with"})})]}),p.jsx("div",{className:"mt-6",children:p.jsxs(ve,{variant:"outline",fullWidth:!0,onClick:h,disabled:i,className:"flex items-center justify-center",children:[p.jsx("svg",{className:"h-5 w-5 mr-2",viewBox:"0 0 24 24",children:p.jsxs("g",{transform:"matrix(1, 0, 0, 1, 27.009001, -39.238998)",children:[p.jsx("path",{fill:"#4285F4",d:"M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"}),p.jsx("path",{fill:"#34A853",d:"M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z"}),p.jsx("path",{fill:"#FBBC05",d:"M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z"}),p.jsx("path",{fill:"#EA4335",d:"M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z"})]})}),"Sign in with Google"]})})]}),p.jsx("div",{className:"mt-6 text-center",children:p.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Don't have an account?"," ",p.jsx(de,{to:"/signup",className:"font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400 dark:hover:text-indigo-300",children:"Sign up"})]})})]})},m$=()=>p.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 bg-gray-50 dark:bg-gray-900",children:p.jsxs(At.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md w-full space-y-8 bg-white dark:bg-gray-800 p-8 rounded-lg shadow-md",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:"Sign in to your account"}),p.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:["Or"," ",p.jsx(de,{to:"/signup",className:"font-medium text-forest-green hover:text-forest-green/80",children:"create a new account"})]})]}),p.jsx(p$,{})]})}),g$=()=>{const[t,e]=C.useState(""),[n,r]=C.useState(""),[i,s]=C.useState(""),[o,a]=C.useState(""),[l,c]=C.useState(!1),[d,h]=C.useState(""),m=us(),y=wi(),x=async I=>{if(I.preventDefault(),i!==o){h("Passwords do not match");return}c(!0),h("");try{const _=(await y9(Td,n,i)).user;await _9(_,{displayName:t}),await Bm(xd(Sd,"users",_.uid),{name:t,email:n,photoURL:_.photoURL||"",registeredWorkshops:[],completedWorkshops:[],createdAt:new Date().toISOString()}),y(Ki({id:_.uid,name:t,email:n,photoURL:_.photoURL||"",registeredWorkshops:[],completedWorkshops:[]})),zr.success("Account created successfully!"),m("/dashboard")}catch(v){console.error("Signup error:",v);let _="Failed to create account. Please try again.";v.code==="auth/email-already-in-use"?_="Email is already in use. Please use a different email or login.":v.code==="auth/weak-password"&&(_="Password is too weak. Please use a stronger password."),h(_),y(Gc(_)),zr.error(_)}finally{c(!1)}},S=async()=>{c(!0),h("");try{const v=(await CI(Td,sC)).user;await Bm(xd(Sd,"users",v.uid),{name:v.displayName,email:v.email,photoURL:v.photoURL,registeredWorkshops:[],completedWorkshops:[],createdAt:new Date().toISOString()},{merge:!0}),y(Ki({id:v.uid,name:v.displayName||"User",email:v.email||"",photoURL:v.photoURL||"",registeredWorkshops:[],completedWorkshops:[]})),zr.success("Account created with Google successfully!"),m("/dashboard")}catch(I){console.error("Google signup error:",I);const v="Failed to create account with Google. Please try again.";h(v),y(Gc(v)),zr.error(v)}finally{c(!1)}};return p.jsxs(At.div,{className:"max-w-md w-full mx-auto p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Create an account"}),p.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Join AI Vibe Coding Workshop"})]}),d&&p.jsxs("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 rounded-md flex items-center",children:[p.jsx(K1,{className:"h-5 w-5 mr-2 flex-shrink-0"}),p.jsx("span",{children:d})]}),p.jsxs("form",{onSubmit:x,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Full Name"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(q1,{className:"h-5 w-5 text-gray-400"})}),p.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,value:t,onChange:I=>e(I.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white sm:text-sm",placeholder:"John Doe"})]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email address"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(ey,{className:"h-5 w-5 text-gray-400"})}),p.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:I=>r(I.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white sm:text-sm",placeholder:"you@example.com"})]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(Qp,{className:"h-5 w-5 text-gray-400"})}),p.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:i,onChange:I=>s(I.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white sm:text-sm",placeholder:"",minLength:6})]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Confirm Password"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(Qp,{className:"h-5 w-5 text-gray-400"})}),p.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:o,onChange:I=>a(I.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white sm:text-sm",placeholder:"",minLength:6})]})]}),p.jsx("div",{children:p.jsx(ve,{type:"submit",fullWidth:!0,disabled:l,children:l?"Creating account...":"Create account"})})]}),p.jsxs("div",{className:"mt-6",children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-0 flex items-center",children:p.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-700"})}),p.jsx("div",{className:"relative flex justify-center text-sm",children:p.jsx("span",{className:"px-2 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400",children:"Or continue with"})})]}),p.jsx("div",{className:"mt-6",children:p.jsxs(ve,{variant:"outline",fullWidth:!0,onClick:S,disabled:l,className:"flex items-center justify-center",children:[p.jsx("svg",{className:"h-5 w-5 mr-2",viewBox:"0 0 24 24",children:p.jsxs("g",{transform:"matrix(1, 0, 0, 1, 27.009001, -39.238998)",children:[p.jsx("path",{fill:"#4285F4",d:"M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"}),p.jsx("path",{fill:"#34A853",d:"M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z"}),p.jsx("path",{fill:"#FBBC05",d:"M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z"}),p.jsx("path",{fill:"#EA4335",d:"M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z"})]})}),"Sign up with Google"]})})]}),p.jsx("div",{className:"mt-6 text-center",children:p.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",p.jsx(de,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400 dark:hover:text-indigo-300",children:"Sign in"})]})})]})},y$=()=>p.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 bg-gray-50 dark:bg-gray-900",children:p.jsxs(At.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md w-full space-y-8 bg-white dark:bg-gray-800 p-8 rounded-lg shadow-md",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:"Create your account"}),p.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",p.jsx(de,{to:"/login",className:"font-medium text-forest-green hover:text-forest-green/80",children:"Sign in"})]})]}),p.jsx(g$,{})]})}),v$=()=>{var o,a;const{user:t}=We(l=>l.auth),{workshops:e}=We(l=>l.workshops),n=((o=t==null?void 0:t.registeredWorkshops)==null?void 0:o.length)||0,r=((a=t==null?void 0:t.completedWorkshops)==null?void 0:a.length)||0,i=e.filter(l=>{var c;return(c=t==null?void 0:t.registeredWorkshops)==null?void 0:c.includes(l.id)}).flatMap(l=>l.sessions).filter(l=>new Date(l.date)>new Date).sort((l,c)=>new Date(l.date).getTime()-new Date(c.date).getTime()).slice(0,3),s=[{name:"Registered Workshops",value:n,icon:EM,color:"bg-blue-500"},{name:"Completed Workshops",value:r,icon:TM,color:"bg-green-500"},{name:"Upcoming Sessions",value:i.length,icon:Dl,color:"bg-purple-500"},{name:"Hours of Learning",value:`${(n+r)*3}`,icon:qd,color:"bg-indigo-500"}];return p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:s.map((l,c)=>p.jsx(At.div,{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:c*.1},children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:`p-3 rounded-full ${l.color} bg-opacity-10 mr-4`,children:p.jsx(l.icon,{className:`h-6 w-6 ${l.color.replace("bg-","text-")}`})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:l.name}),p.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:l.value})]})]})},l.name))})},oC=6048e5,w$=864e5,qE=Symbol.for("constructDateFrom");function mi(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&qE in t?t[qE](e):t instanceof Date?new t.constructor(e):new Date(e)}function Rn(t,e){return mi(e||t,t)}let _$={};function gh(){return _$}function Sl(t,e){var a,l,c,d;const n=gh(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=Rn(t,e==null?void 0:e.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function kd(t,e){return Sl(t,{...e,weekStartsOn:1})}function aC(t,e){const n=Rn(t,e==null?void 0:e.in),r=n.getFullYear(),i=mi(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=kd(i),o=mi(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=kd(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function QE(t){const e=Rn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function x$(t,...e){const n=mi.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function YE(t,e){const n=Rn(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function E$(t,e,n){const[r,i]=x$(n==null?void 0:n.in,t,e),s=YE(r),o=YE(i),a=+s-QE(s),l=+o-QE(o);return Math.round((a-l)/w$)}function T$(t,e){const n=aC(t,e),r=mi(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),kd(r)}function S$(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function k$(t){return!(!S$(t)&&typeof t!="number"||isNaN(+Rn(t)))}function b$(t,e){const n=Rn(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const I$={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},P$=(t,e,n)=>{let r;const i=I$[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Hf(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const C$={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},A$={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},R$={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},N$={date:Hf({formats:C$,defaultWidth:"full"}),time:Hf({formats:A$,defaultWidth:"full"}),dateTime:Hf({formats:R$,defaultWidth:"full"})},D$={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},M$=(t,e,n,r)=>D$[t];function aa(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const V$={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},O$={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},L$={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},j$={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},F$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},U$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},B$=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},z$={ordinalNumber:B$,era:aa({values:V$,defaultWidth:"wide"}),quarter:aa({values:O$,defaultWidth:"wide",argumentCallback:t=>t-1}),month:aa({values:L$,defaultWidth:"wide"}),day:aa({values:j$,defaultWidth:"wide"}),dayPeriod:aa({values:F$,defaultWidth:"wide",formattingValues:U$,defaultFormattingWidth:"wide"})};function la(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?W$(a,h=>h.test(o)):$$(a,h=>h.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(o.length);return{value:c,rest:d}}}function $$(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function W$(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function H$(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const K$=/^(\d+)(th|st|nd|rd)?/i,G$=/\d+/i,q$={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Q$={any:[/^b/i,/^(a|c)/i]},Y$={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},X$={any:[/1/i,/2/i,/3/i,/4/i]},J$={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Z$={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},e8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},t8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},n8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},r8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},i8={ordinalNumber:H$({matchPattern:K$,parsePattern:G$,valueCallback:t=>parseInt(t,10)}),era:la({matchPatterns:q$,defaultMatchWidth:"wide",parsePatterns:Q$,defaultParseWidth:"any"}),quarter:la({matchPatterns:Y$,defaultMatchWidth:"wide",parsePatterns:X$,defaultParseWidth:"any",valueCallback:t=>t+1}),month:la({matchPatterns:J$,defaultMatchWidth:"wide",parsePatterns:Z$,defaultParseWidth:"any"}),day:la({matchPatterns:e8,defaultMatchWidth:"wide",parsePatterns:t8,defaultParseWidth:"any"}),dayPeriod:la({matchPatterns:n8,defaultMatchWidth:"any",parsePatterns:r8,defaultParseWidth:"any"})},s8={code:"en-US",formatDistance:P$,formatLong:N$,formatRelative:M$,localize:z$,match:i8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function o8(t,e){const n=Rn(t,e==null?void 0:e.in);return E$(n,b$(n))+1}function a8(t,e){const n=Rn(t,e==null?void 0:e.in),r=+kd(n)-+T$(n);return Math.round(r/oC)+1}function lC(t,e){var d,h,m,y;const n=Rn(t,e==null?void 0:e.in),r=n.getFullYear(),i=gh(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((y=(m=i.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??1,o=mi((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=Sl(o,e),l=mi((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=Sl(l,e);return+n>=+a?r+1:+n>=+c?r:r-1}function l8(t,e){var a,l,c,d;const n=gh(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,i=lC(t,e),s=mi((e==null?void 0:e.in)||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Sl(s,e)}function u8(t,e){const n=Rn(t,e==null?void 0:e.in),r=+Sl(n,e)-+l8(n,e);return Math.round(r/oC)+1}function me(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ar={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return me(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):me(n+1,2)},d(t,e){return me(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return me(t.getHours()%12||12,e.length)},H(t,e){return me(t.getHours(),e.length)},m(t,e){return me(t.getMinutes(),e.length)},s(t,e){return me(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return me(i,e.length)}},Es={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},XE={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ar.y(t,e)},Y:function(t,e,n,r){const i=lC(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return me(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):me(s,e.length)},R:function(t,e){const n=aC(t);return me(n,e.length)},u:function(t,e){const n=t.getFullYear();return me(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return me(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return me(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ar.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return me(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=u8(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):me(i,e.length)},I:function(t,e,n){const r=a8(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):me(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ar.d(t,e)},D:function(t,e,n){const r=o8(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):me(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return me(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return me(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return me(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Es.noon:r===0?i=Es.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Es.evening:r>=12?i=Es.afternoon:r>=4?i=Es.morning:i=Es.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ar.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ar.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):me(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):me(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ar.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ar.s(t,e)},S:function(t,e){return Ar.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return ZE(r);case"XXXX":case"XX":return Oi(r);case"XXXXX":case"XXX":default:return Oi(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return ZE(r);case"xxxx":case"xx":return Oi(r);case"xxxxx":case"xxx":default:return Oi(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+JE(r,":");case"OOOO":default:return"GMT"+Oi(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+JE(r,":");case"zzzz":default:return"GMT"+Oi(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return me(r,e.length)},T:function(t,e,n){return me(+t,e.length)}};function JE(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+me(s,2)}function ZE(t,e){return t%60===0?(t>0?"-":"+")+me(Math.abs(t)/60,2):Oi(t,e)}function Oi(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=me(Math.trunc(r/60),2),s=me(r%60,2);return n+i+e+s}const eT=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},uC=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},c8=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return eT(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",eT(r,e)).replace("{{time}}",uC(i,e))},d8={p:uC,P:c8},h8=/^D+$/,f8=/^Y+$/,p8=["D","DD","YY","YYYY"];function m8(t){return h8.test(t)}function g8(t){return f8.test(t)}function y8(t,e,n){const r=v8(t,e,n);if(console.warn(r),p8.includes(t))throw new RangeError(r)}function v8(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const w8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,x8=/^'([^]*?)'?$/,E8=/''/g,T8=/[a-zA-Z]/;function tT(t,e,n){var d,h,m,y;const r=gh(),i=r.locale??s8,s=r.firstWeekContainsDate??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=r.weekStartsOn??((y=(m=r.locale)==null?void 0:m.options)==null?void 0:y.weekStartsOn)??0,a=Rn(t,n==null?void 0:n.in);if(!k$(a))throw new RangeError("Invalid time value");let l=e.match(_8).map(x=>{const S=x[0];if(S==="p"||S==="P"){const I=d8[S];return I(x,i.formatLong)}return x}).join("").match(w8).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const S=x[0];if(S==="'")return{isToken:!1,value:S8(x)};if(XE[S])return{isToken:!0,value:x};if(S.match(T8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:x}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(x=>{if(!x.isToken)return x.value;const S=x.value;(g8(S)||m8(S))&&y8(S,e,String(t));const I=XE[S[0]];return I(a,S,i.localize,c)}).join("")}function S8(t){const e=t.match(x8);return e?e[1].replace(E8,"'"):t}const k8=()=>{const{user:t}=We(s=>s.auth),{workshops:e}=We(s=>s.workshops),i=e.filter(s=>{var o;return(o=t==null?void 0:t.registeredWorkshops)==null?void 0:o.includes(s.id)}).flatMap(s=>s.sessions.map(o=>({...o,workshopId:s.id,workshopTitle:s.title}))).filter(s=>new Date(s.date)>new Date).sort((s,o)=>new Date(s.date).getTime()-new Date(o.date).getTime()).slice(0,5);return i.length===0?p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-8",children:[p.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Upcoming Sessions"}),p.jsx("div",{className:"text-center py-8",children:p.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"You don't have any upcoming sessions. Register for workshops to see your schedule here."})})]}):p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-8",children:[p.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Upcoming Sessions"}),p.jsx("div",{className:"space-y-4",children:i.map((s,o)=>{const a=new Date(s.date),l=tT(a,"EEEE, MMMM d, yyyy"),c=tT(a,"h:mm a");return p.jsx(At.div,{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:o*.1},children:p.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[p.jsxs("div",{children:[p.jsx(de,{to:`/workshops/${s.workshopId}`,className:"text-lg font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300",children:s.workshopTitle}),p.jsx("h4",{className:"text-gray-900 dark:text-white font-medium",children:s.title}),p.jsxs("div",{className:"flex items-center mt-2 text-sm text-gray-500 dark:text-gray-400",children:[p.jsx(Dl,{className:"h-4 w-4 mr-1.5"}),p.jsx("span",{children:l}),p.jsx(qd,{className:"h-4 w-4 ml-3 mr-1.5"}),p.jsxs("span",{children:[c," (",s.duration,")"]})]})]}),p.jsx("div",{className:"mt-4 md:mt-0",children:p.jsx(de,{to:`/workshops/${s.workshopId}`,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"View Details"})})]})},s.id)})}),i.length>0&&p.jsx("div",{className:"mt-6 text-center",children:p.jsx(de,{to:"/dashboard/schedule",className:"text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300",children:"View Full Schedule "})})]})},b8=()=>{const{user:t}=We(r=>r.auth),{workshops:e}=We(r=>r.workshops),n=e.filter(r=>{var i;return(i=t==null?void 0:t.registeredWorkshops)==null?void 0:i.includes(r.id)});return n.length===0?p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[p.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Your Registered Workshops"}),p.jsxs("div",{className:"text-center py-8",children:[p.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"You haven't registered for any workshops yet."}),p.jsx(de,{to:"/workshops",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Browse Workshops"})]})]}):p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Your Registered Workshops"}),p.jsx(de,{to:"/workshops",className:"text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300",children:"Browse More "})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((r,i)=>p.jsx(At.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:i*.1},children:p.jsx(Pv,{workshop:r,isRegistered:!0})},r.id))})]})},cC=()=>{const t=wi(),{workshops:e,filteredWorkshops:n,loading:r,error:i,filters:s}=We(a=>a.workshops);return C.useEffect(()=>{(async()=>{t(hM(!0));try{let c;c=Qc,t(dM(c))}catch(l){console.error("Error fetching workshops:",l),t(fM("Failed to fetch workshops. Please try again later."))}})()},[t]),{workshops:e,filteredWorkshops:n,loading:r,error:i,filters:s,applyFilters:a=>{t(pM(a))}}},I8=()=>{const{isAuthenticated:t,user:e}=We(n=>n.auth);return cC(),t?p.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[p.jsxs(At.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:[p.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["Welcome, ",e==null?void 0:e.name,"!"]}),p.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Track your progress and manage your workshops from your personal dashboard."})]}),p.jsx(v$,{}),p.jsx(k8,{}),p.jsx(b8,{})]}):p.jsx(Kg,{to:"/login"})},P8=()=>{const t=wi(),{filters:e}=We(d=>d.workshops),n=["Beginner","Intermediate","Advanced"],r=["Python","JavaScript","AI","Web Development","Data Science"],i=d=>{t(Nu({key:"difficulty",value:d}))},s=d=>{t(Nu({key:"topic",value:d}))},o=d=>{t(Nu({key:"sortBy",value:d.target.value}))},a=d=>{t(Nu({key:"search",value:d.target.value}))},l=()=>{t(mM())},c=e.difficulty||e.topic||e.search;return p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4 mb-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(SM,{className:"h-5 w-5 text-gray-500 dark:text-gray-400 mr-2"}),p.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Filters"})]}),c&&p.jsx(ve,{variant:"ghost",size:"sm",onClick:l,icon:p.jsx(Y1,{size:16}),children:"Clear filters"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Search"}),p.jsx("input",{type:"text",id:"search",placeholder:"Search workshops...",value:e.search,onChange:a,className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white sm:text-sm"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"difficulty",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Difficulty"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(d=>p.jsx("button",{onClick:()=>i(e.difficulty===d?null:d),className:`px-3 py-1 rounded-full text-xs font-medium ${e.difficulty===d?"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-400 border-2 border-indigo-500":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300 border-2 border-transparent"}`,children:d},d))})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"topic",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Topic"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(d=>p.jsx("button",{onClick:()=>s(e.topic===d?null:d),className:`px-3 py-1 rounded-full text-xs font-medium ${e.topic===d?"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-400 border-2 border-indigo-500":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300 border-2 border-transparent"}`,children:d},d))})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"sort",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Sort by"}),p.jsxs("div",{className:"flex items-center",children:[p.jsx(_M,{className:"h-5 w-5 text-gray-400 mr-2"}),p.jsxs("select",{id:"sort",value:e.sortBy,onChange:o,className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-700 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white sm:text-sm rounded-md",children:[p.jsx("option",{value:"date",children:"Date (Upcoming first)"}),p.jsx("option",{value:"difficulty",children:"Difficulty"}),p.jsx("option",{value:"topic",children:"Topic"})]})]})]})]})]})},C8=()=>{const{filteredWorkshops:t,loading:e,error:n}=We(r=>r.workshops);return cC(),p.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[p.jsxs(At.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-8",children:[p.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-white sm:text-4xl",children:"Explore Our Workshops"}),p.jsx("p",{className:"mt-4 text-xl text-gray-500 dark:text-gray-400 max-w-3xl mx-auto",children:"Discover coding workshops tailored to your interests and skill level."})]}),p.jsx(P8,{}),e?p.jsx("div",{className:"text-center py-12",children:p.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading workshops..."})}):n?p.jsx("div",{className:"text-center py-12",children:p.jsx("p",{className:"text-red-500",children:n})}):t.length===0?p.jsx("div",{className:"text-center py-12",children:p.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No workshops found matching your filters. Try adjusting your search criteria."})}):p.jsx("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3",children:t.map((r,i)=>p.jsx(At.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:i*.05},children:p.jsx(Pv,{workshop:r})},r.id))})]})},A8=({workshop:t,onRegister:e})=>{const{isAuthenticated:n}=We(s=>s.auth),[r,i]=Qm.useState("description");return p.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:p.jsxs("div",{className:"mb-6",children:[p.jsx("h1",{className:"text-3xl font-bold text-forest-green dark:text-moss-green mb-2",children:t.title}),p.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[p.jsx("span",{className:"inline-block bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-100 text-sm px-3 py-1 rounded-full",children:t.level}),t.tags.map((s,o)=>p.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 text-sm px-3 py-1 rounded-full",children:s},o))]}),p.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400 mb-6",children:[p.jsx(Dl,{size:16,className:"mr-1"}),p.jsx("span",{className:"mr-4",children:new Date(t.date).toLocaleDateString()}),p.jsx(qd,{size:16,className:"mr-1"}),p.jsxs("span",{children:[t.sessions," sessions, 1 hour each"]})]}),p.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 mb-6",children:p.jsx("nav",{className:"-mb-px flex space-x-8",children:["description","schedule","prerequisites","materials"].map(s=>p.jsx("button",{onClick:()=>i(s),className:`
                  whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm
                  ${r===s?"border-forest-green dark:border-moss-green text-forest-green dark:text-moss-green":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}
                `,children:s.charAt(0).toUpperCase()+s.slice(1)},s))})}),p.jsxs("div",{className:"mb-8",children:[r==="description"&&p.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:t.description}),r==="schedule"&&p.jsxs("div",{className:"space-y-4",children:[p.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["This workshop consists of ",t.sessions," sessions, each lasting approximately 1 hour."]}),p.jsxs("ul",{className:"list-disc pl-5 text-gray-700 dark:text-gray-300",children:[p.jsx("li",{children:"Session 1: Introduction to concepts"}),p.jsx("li",{children:"Session 2: Hands-on practice"}),p.jsx("li",{children:"Session 3: Advanced techniques and Q&A"})]})]}),r==="prerequisites"&&p.jsxs("div",{className:"space-y-4",children:[p.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"To get the most out of this workshop, you should have:"}),p.jsxs("ul",{className:"list-disc pl-5 text-gray-700 dark:text-gray-300",children:[p.jsx("li",{children:"Basic programming knowledge"}),p.jsx("li",{children:"A laptop with internet connection"}),p.jsx("li",{children:"Enthusiasm to learn!"})]})]}),r==="materials"&&p.jsx("div",{className:"space-y-4",children:p.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Workshop materials will be available after registration."})})]}),p.jsxs("div",{className:"mb-8",children:[p.jsx("h3",{className:"text-xl font-semibold text-forest-green dark:text-moss-green mb-4",children:"Instructor"}),p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center mr-4",children:p.jsx(q1,{size:24,className:"text-gray-500 dark:text-gray-400"})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:"John Doe"}),p.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Senior Developer with 10+ years of experience in ",t.tags.join(" and ")," technologies."]})]})]})]}),p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700 text-center",children:[p.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:"Register to access workshop materials and secure your spot."}),p.jsx(ve,{onClick:e,disabled:!n,className:"bg-forest-green hover:bg-spring-garden text-white",children:n?"Register":"Sign in to Register"}),!n&&p.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"You need to be signed in to register for workshops."})]})]})})},R8=()=>{const{id:t}=t2(),e=us();wi();const{workshops:n,loading:r,error:i}=We(a=>a.workshops),[s,o]=C.useState(null);return C.useEffect(()=>{if(t&&n.length>0){const a=n.find(l=>l.id===t);a&&o(a)}},[t,n]),r?p.jsx("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8 text-center",children:p.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading workshop details..."})}):i?p.jsx("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8 text-center",children:p.jsx("p",{className:"text-red-500",children:i})}):s?p.jsx("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:p.jsxs(At.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[p.jsx(ve,{variant:"ghost",className:"mb-6",onClick:()=>e("/workshops"),children:" Back to Workshops"}),p.jsx(A8,{workshop:s})]})}):p.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8 text-center",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Workshop Not Found"}),p.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-8",children:"The workshop you're looking for doesn't exist or has been removed."}),p.jsx(ve,{onClick:()=>e("/workshops"),children:"Back to Workshops"})]})},N8=()=>{const{isAuthenticated:t,user:e}=We(n=>n.auth);return t?p.jsx("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:p.jsxs(At.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8",children:"Your Profile"}),p.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow overflow-hidden sm:rounded-lg",children:[p.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[p.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",children:"Personal Information"}),p.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500 dark:text-gray-400",children:"Your account details and preferences."})]}),p.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700",children:p.jsxs("dl",{children:[p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[p.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Full name"}),p.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white sm:mt-0 sm:col-span-2",children:e==null?void 0:e.name})]}),p.jsxs("div",{className:"bg-white dark:bg-gray-800 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[p.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Email address"}),p.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white sm:mt-0 sm:col-span-2",children:e==null?void 0:e.email})]}),p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[p.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Account type"}),p.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white sm:mt-0 sm:col-span-2",children:e!=null&&e.isAdmin?"Administrator":"Standard User"})]}),p.jsxs("div",{className:"bg-white dark:bg-gray-800 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[p.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Member since"}),p.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white sm:mt-0 sm:col-span-2",children:e!=null&&e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"})]})]})})]}),p.jsxs("div",{className:"mt-8 flex space-x-4",children:[p.jsx(ve,{children:"Edit Profile"}),p.jsx(ve,{variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50 dark:hover:bg-red-900/10",children:"Change Password"})]})]})}):p.jsx(Kg,{to:"/login"})},nT=()=>p.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:p.jsxs(At.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md w-full text-center",children:[p.jsx("h1",{className:"text-9xl font-extrabold text-forest-green",children:"404"}),p.jsx("h2",{className:"mt-4 text-3xl font-bold text-gray-900 dark:text-white",children:"Page Not Found"}),p.jsx("p",{className:"mt-2 text-lg text-gray-600 dark:text-gray-400",children:"The page you're looking for doesn't exist or has been moved."}),p.jsx("div",{className:"mt-8",children:p.jsx(de,{to:"/",children:p.jsx(ve,{size:"lg",children:"Back to Home"})})})]})}),Cv=C.createContext(null),D8=({defaultValue:t,value:e,onValueChange:n,children:r,className:i})=>{const[s,o]=C.useState(e||t||"");C.useEffect(()=>{e!==void 0&&o(e)},[e]);const a=C.useCallback(l=>{o(l),n==null||n(l)},[n]);return p.jsx(Cv.Provider,{value:{selectedValue:s,onChange:a},children:p.jsx("div",{className:Tt("w-full",i),children:r})})},M8=({children:t,className:e})=>p.jsx("div",{className:Tt("flex space-x-1 bg-moss-green/10 p-1 rounded-lg",e),children:t}),Kf=({value:t,children:e,className:n})=>{const r=C.useContext(Cv);if(!r)throw new Error("TabsTrigger must be used within a Tabs component");const{selectedValue:i,onChange:s}=r,o=i===t;return p.jsx("button",{type:"button",role:"tab","aria-selected":o,onClick:()=>s(t),className:Tt("px-3 py-2 text-sm font-medium rounded-md transition-all",o?"bg-white shadow text-forest-green":"text-charcoal/70 hover:text-charcoal/90",n),children:e})},Gf=({value:t,children:e,className:n})=>{const r=C.useContext(Cv);if(!r)throw new Error("TabsContent must be used within a Tabs component");const{selectedValue:i}=r;return i!==t?null:p.jsx("div",{role:"tabpanel",className:Tt("mt-2",n),children:e})},zm=C.forwardRef(({className:t,...e},n)=>p.jsx("div",{className:"w-full overflow-auto",children:p.jsx("table",{ref:n,className:Tt("w-full caption-bottom text-sm",t),...e})}));zm.displayName="Table";const $m=C.forwardRef(({className:t,...e},n)=>p.jsx("thead",{ref:n,className:Tt("[&_tr]:border-b",t),...e}));$m.displayName="TableHeader";const Wm=C.forwardRef(({className:t,...e},n)=>p.jsx("tbody",{ref:n,className:Tt("[&_tr:last-child]:border-0",t),...e}));Wm.displayName="TableBody";const V8=C.forwardRef(({className:t,...e},n)=>p.jsx("tfoot",{ref:n,className:Tt("bg-moss-green/10 font-medium",t),...e}));V8.displayName="TableFooter";const xa=C.forwardRef(({className:t,...e},n)=>p.jsx("tr",{ref:n,className:Tt("border-b border-moss-green/20 transition-colors hover:bg-moss-green/10 data-[state=selected]:bg-moss-green/20",t),...e}));xa.displayName="TableRow";const yn=C.forwardRef(({className:t,...e},n)=>p.jsx("th",{ref:n,className:Tt("h-12 px-4 text-left align-middle font-medium text-charcoal/70 [&:has([role=checkbox])]:pr-0",t),...e}));yn.displayName="TableHead";const vn=C.forwardRef(({className:t,...e},n)=>p.jsx("td",{ref:n,className:Tt("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));vn.displayName="TableCell";const O8=C.forwardRef(({className:t,...e},n)=>p.jsx("caption",{ref:n,className:Tt("mt-4 text-sm text-charcoal/70",t),...e}));O8.displayName="TableCaption";const L8=()=>{const{isAuthenticated:t,user:e}=We(o=>o.auth),{workshops:n}=We(o=>o.workshops),[r,i]=C.useState("users"),s=[{id:"1",name:"Admin User",email:"admin@example.com",role:"Admin",status:"Active"},{id:"2",name:"John Doe",email:"john@example.com",role:"User",status:"Active"},{id:"3",name:"Jane Smith",email:"jane@example.com",role:"User",status:"Inactive"}];return!t||!(e!=null&&e.isAdmin)?p.jsx(Kg,{to:"/"}):p.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[p.jsxs(At.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Admin Dashboard"}),p.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Manage users, workshops, and system settings."})]}),p.jsxs(D8,{value:r,onValueChange:i,children:[p.jsxs(M8,{children:[p.jsx(Kf,{value:"users",children:"Users"}),p.jsx(Kf,{value:"workshops",children:"Workshops"}),p.jsx(Kf,{value:"settings",children:"Settings"})]}),p.jsx(Gf,{value:"users",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6 mt-4",children:[p.jsx("h3",{className:"text-xl font-semibold mb-4",children:"User Management"}),p.jsxs(zm,{children:[p.jsx($m,{children:p.jsxs(xa,{children:[p.jsx(yn,{children:"Name"}),p.jsx(yn,{children:"Email"}),p.jsx(yn,{children:"Role"}),p.jsx(yn,{children:"Status"}),p.jsx(yn,{children:"Actions"})]})}),p.jsx(Wm,{children:s.map(o=>p.jsxs(xa,{children:[p.jsx(vn,{children:o.name}),p.jsx(vn,{children:o.email}),p.jsx(vn,{children:o.role}),p.jsx(vn,{children:o.status}),p.jsxs(vn,{children:[p.jsx(ve,{size:"sm",variant:"outline",className:"mr-2",children:"Edit"}),p.jsx(ve,{size:"sm",variant:"destructive",children:"Delete"})]})]},o.id))})]})]})}),p.jsx(Gf,{value:"workshops",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6 mt-4",children:[p.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Workshop Management"}),p.jsxs(zm,{children:[p.jsx($m,{children:p.jsxs(xa,{children:[p.jsx(yn,{children:"Title"}),p.jsx(yn,{children:"Category"}),p.jsx(yn,{children:"Instructor"}),p.jsx(yn,{children:"Status"}),p.jsx(yn,{children:"Actions"})]})}),p.jsx(Wm,{children:n.map(o=>p.jsxs(xa,{children:[p.jsx(vn,{children:o.title}),p.jsx(vn,{children:o.category}),p.jsx(vn,{children:o.instructor}),p.jsx(vn,{children:o.status||"Active"}),p.jsxs(vn,{children:[p.jsx(ve,{size:"sm",variant:"outline",className:"mr-2",children:"Edit"}),p.jsx(ve,{size:"sm",variant:"destructive",children:"Delete"})]})]},o.id))})]})]})}),p.jsx(Gf,{value:"settings",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6 mt-4",children:[p.jsx("h3",{className:"text-xl font-semibold mb-4",children:"System Settings"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium mb-2",children:"Site Maintenance"}),p.jsxs("div",{className:"flex items-center",children:[p.jsx("input",{type:"checkbox",id:"maintenance",className:"mr-2"}),p.jsx("label",{htmlFor:"maintenance",children:"Enable maintenance mode"})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium mb-2",children:"Registration"}),p.jsxs("div",{className:"flex items-center",children:[p.jsx("input",{type:"checkbox",id:"registration",className:"mr-2",checked:!0}),p.jsx("label",{htmlFor:"registration",children:"Allow new user registration"})]})]}),p.jsx("div",{className:"pt-4",children:p.jsx(ve,{children:"Save Settings"})})]})]})})]})]})};qf.createRoot(document.getElementById("root")).render(p.jsx(Qm.StrictMode,{children:p.jsx(mD,{store:yM,children:p.jsx(U2,{children:p.jsx(g2,{children:p.jsxs(tn,{path:"/",element:p.jsx(r$,{}),children:[p.jsx(tn,{index:!0,element:p.jsx(f$,{})}),p.jsx(tn,{path:"login",element:p.jsx(m$,{})}),p.jsx(tn,{path:"signup",element:p.jsx(y$,{})}),p.jsx(tn,{path:"dashboard",element:p.jsx(I8,{})}),p.jsx(tn,{path:"workshops",element:p.jsx(C8,{})}),p.jsx(tn,{path:"workshops/:id",element:p.jsx(R8,{})}),p.jsx(tn,{path:"profile",element:p.jsx(N8,{})}),p.jsx(tn,{path:"admin",element:p.jsx(L8,{})}),p.jsx(tn,{path:"404",element:p.jsx(nT,{})}),p.jsx(tn,{path:"*",element:p.jsx(nT,{})})]})})})})}));
